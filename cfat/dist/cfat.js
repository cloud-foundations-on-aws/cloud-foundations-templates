(()=>{"use strict";const e=require("@aws-sdk/client-sts"),t=require("@aws-sdk/client-organizations"),n=require("@aws-sdk/client-iam"),o=require("@aws-sdk/client-cloudformation"),i=require("@aws-sdk/client-sso-admin"),a=require("@aws-sdk/client-ec2"),s=require("@aws-sdk/client-cloudtrail"),r=require("@aws-sdk/client-config-service"),c=require("@aws-sdk/client-controltower"),l=require("@aws-sdk/client-cost-and-usage-report-service"),d=require("node:console"),u=require("node:stream"),g=require("fs"),m=new u.Transform({transform(e,t,n){n(null,e)}}),p=new d.Console({stdout:m}),h=require("path"),f=require("archiver");(async()=>{let d={},u=[];const A=process.env.AWS_REGION||"us-east-1",S=await async function(){const e=new a.EC2Client({region:"us-east-1"});try{const t=new a.DescribeRegionsCommand({}),n=await e.send(t),o=[];for(const e of n.Regions||[])o.push(e.RegionName||"");return o}catch(e){return console.error("Error retrieving regions:",e),[]}finally{e.destroy()}}();console.log("discovering your AWS environment...");const y=await(async n=>{const o=new t.OrganizationsClient({region:n});let i=!1,a=!1;try{const s=await async function(t){const n=new e.STSClient({region:t});try{const t=new e.GetCallerIdentityCommand({});return(await n.send(t)).Account}catch(e){throw console.error("Error getting account ID:",e),e}}(n);if(s){const e=new t.DescribeOrganizationCommand({}),n=await o.send(e);if(n.Organization?.MasterAccountId){const e=n.Organization?.MasterAccountId;e==s?(a=!0,i=!0):i=!0}else i=!1}}catch(e){console.error("Error:",e)}finally{o.destroy()}return{isInOrganization:i,isManagementAccount:a}})(A);let w,v,C=!1,z=!1,b=!1,O=!1,k=!1,E=!1,W=!1,I=!1,$=!0,D=!1,T=!1,L=!1,N=!1,R=!1,P=!1,M=!1,U=!1,F=!1,G=!1,q=!1,V=!1,K=!1,B=!1,_=!1,Z=!1,x=!1,Y=!1,H=!0,j=!1;y&&(d.organizationDeploy=y.isInOrganization,d.managementAccount=y.isManagementAccount,void 0===y.isManagementAccount&&(y.isManagementAccount=!1,console.log("AWS account is not the Management Account of an AWS Organization")),H=y.isManagementAccount),console.log("discovering IAM Users...");const J=await(async()=>{const e=new n.IAMClient({region:"us-east-1"}),t=[];try{const o=new n.ListUsersCommand({}),i=await e.send(o);for(const o of i.Users||[]){const i=o.UserName||"",a=new n.ListAccessKeysCommand({UserName:i}),s=(await e.send(a)).AccessKeyMetadata||[];if(s.length>0)for(const o of s){const a=o.AccessKeyId||"",s=new n.GetAccessKeyLastUsedCommand({AccessKeyId:a}),r=await e.send(s),c={userName:i,accessKeyId:a,lastUsed:r&&r.AccessKeyLastUsed&&`${r.AccessKeyLastUsed.LastUsedDate}`||"Not available"};t.push(c)}else{const e={userName:i};t.push(e)}}}catch(e){console.error("Error:",e)}finally{e.destroy()}return t})();J&&J.length>0?(console.log("IAM Users discovered."),d.iamUserChecks=J):O=!0,console.log("discovering EC2 instances across all AWS Regions...");const Q=await async function(e){let t=[];for(const n of e){const e=new a.EC2Client({region:n}),o=new a.DescribeInstancesCommand({});try{const i=await e.send(o);if(i.Reservations)if(i.Reservations.length>0){const e={region:n,ec2Found:!0};t.push(e)}else{const e={region:n,ec2Found:!1};t.push(e)}else{const e={region:n,ec2Found:!1};t.push(e)}}catch(e){console.log(`Error checking instance: ${e}`)}finally{e.destroy()}}return t}(S);if(Q&&Q.find((e=>!0===e.ec2Found))){d.ec2Checks=Q,console.info("warning: EC2 instances discovered.");for(const e of Q)D=!1}console.log("discovering VPCs across all AWS Regions...");const X=await async function(e){let t=[];for(const n of e){const e=new a.EC2Client({region:n}),o=new a.DescribeVpcsCommand({});try{const i=await e.send(o);if(i.Vpcs)if(i.Vpcs.length>0){const e={region:n,vpcFound:!0};t.push(e)}else{const e={region:n,vpcFound:!1};t.push(e)}else{const e={region:n,vpcFound:!1};t.push(e)}}catch(e){console.log(`Error: ${e}`)}finally{e.destroy()}}return t}(S);if(d.vpcChecks=X,X&&X.length>0&&($=!1,console.log("warning: VPCs discovered.")),console.log("discovering AWS Config configurations across all AWS Regions..."),d.cloudTrailDetails=await async function(e){let t=[];for(const n of e){const e=new s.CloudTrailClient({region:n}),o=new s.DescribeTrailsCommand({});try{const i=await e.send(o);if(i.trailList)for(const e of i.trailList){let o={};o=e.HomeRegion==n?{region:n,trailFound:!0,isOrgTrail:e.IsMultiRegionTrail,isMultiRegion:e.IsMultiRegionTrail}:{region:n,trailFound:!1},t.push(o)}}catch(e){console.log(`Error checking instance: ${e}`)}finally{e.destroy()}}return t}(S),d.configDetails=await async function(e){let t=[];for(const n of e){const e=new r.ConfigServiceClient({region:n});let o={region:n,configRecorderFound:!1,configDeliveryChannelFound:!1};try{const n=await e.send(new r.DescribeConfigurationRecorderStatusCommand({}));0!==n.ConfigurationRecordersStatus?.length&&(o.configRecorderFound=!0);const i=await e.send(new r.DescribeDeliveryChannelsCommand({}));0!==i.DeliveryChannels?.length&&(o.configDeliveryChannelFound=!0),t.push(o)}catch(e){console.error(`Error checking AWS Config in ${n}:`,e)}finally{e.destroy()}}return t}(S),d.configDetails&&d.configDetails.find((e=>!0===e.configRecorderFound)))for(const e of d.configDetails)e.configRecorderFound&&(T=!0),e.configDeliveryChannelFound&&(L=!0);if(y.isInOrganization&&y.isManagementAccount){console.log("collecting general AWS Organization details...");const e=await async function(e){const n=new t.OrganizationsClient({region:e});let o={};try{const e=new t.DescribeOrganizationCommand({}),i=await n.send(e);i.Organization&&(o.id=i.Organization.Id??"",o.arn=i.Organization.Arn??"");const a=new t.ListRootsCommand({}),s=await n.send(a);s.Roots?o.rootOuId=s.Roots[0].Id:console.log("No info found for your AWS Organization.")}catch(e){console.error(`An error occurred: ${e}`)}finally{return n.destroy(),o}}("us-east-1");console.log("collecting CUR details...");const n=await(async e=>{const t=new l.CostAndUsageReportServiceClient({region:e});let n=!1;try{const e={},o=new l.DescribeReportDefinitionsCommand(e),i=await t.send(o);return i.ReportDefinitions&&i.ReportDefinitions.length>0&&(n=!0),{isLegacyCurSetup:n}}catch(e){return console.error(`Error: ${e}`),n=!1,{isLegacyCurSetup:n}}finally{t.destroy()}})("us-east-1");console.log("collecting AWS Organization Policy details...");const a=await async function(e){const n=new t.OrganizationsClient({region:e});let o={scpEnabled:!1,tagPolicyEnabled:!1,backupPolicyEnabled:!1};try{const e={},i=new t.ListRootsCommand(e),a=await n.send(i);if(a.Roots&&a.Roots[0].PolicyTypes)for(const e of a.Roots[0].PolicyTypes)"SERVICE_CONTROL_POLICY"==e.Type&&"ENABLED"==e.Status&&(o.scpEnabled=!0),"TAG_POLICY"==e.Type&&"ENABLED"==e.Status&&(o.tagPolicyEnabled=!0),"BACKUP_POLICY"==e.Type&&"ENABLED"==e.Status&&(o.backupPolicyEnabled=!0)}catch(e){console.error(`An error occurred: ${e}`)}finally{return n.destroy(),o}}("us-east-1");console.log("collecting AWS Organization service trusted access details..."),d.orgServices=await async function(e){const n=[],o=new t.OrganizationsClient({region:e});try{const e=new t.ListAWSServiceAccessForOrganizationCommand({}),i=await o.send(e);if(i.EnabledServicePrincipals&&i.EnabledServicePrincipals.length>0){i.EnabledServicePrincipals;for(const e of i.EnabledServicePrincipals){const t={service:e.ServicePrincipal??""};n.push(t)}}}catch(e){console.error("Error checking service access:",e)}finally{return o.destroy(),n}}("us-east-1"),console.log("collecting AWS Organization CloudFormation status details...");const s=await async function(e){let t={status:"disabled"};const n=new o.CloudFormationClient({region:e});try{const e={},i=new o.DescribeOrganizationsAccessCommand(e),a=await n.send(i);t.status=a.Status??"disabled"}catch(e){console.log(`Error: ${e}`)}finally{return n.destroy(),t}}(A);console.log("collecting AWS Control Tower details...");const r=await async function(e){let t={};const n=new c.ControlTowerClient({region:e});try{const e=new c.ListLandingZonesCommand({}),o=await n.send(e);if(o.landingZones&&o.landingZones.length>0){const e={landingZoneIdentifier:o.landingZones[0].arn},n=o.landingZones[0].arn?.toString().split(":")[3]??"";if(n){t.controlTowerRegion=n;const o=new c.ControlTowerClient({region:n}),i=new c.GetLandingZoneCommand(e),a=await o.send(i);a.landingZone&&(t.status=a.landingZone.status,t.latestAvailableVersion=a.landingZone.latestAvailableVersion,t.deployedVersion=a.landingZone.version,t.driftStatus=a.landingZone.driftStatus?.status)}}}catch(t){console.error(`Error checking Control Tower in ${e}:`,t)}finally{n.destroy()}return t}(A);if(d.idcInfo=await async function(e){let t={found:!1};for(const n of e){const e=new i.SSOAdminClient({region:n});try{const o={MaxResults:Number("100")},a=new i.ListInstancesCommand(o),s=await e.send(a);if(s.Instances&&s.Instances.length>0){const e=s.Instances[0];t.found=!0,t.region=n,t.arn=e.InstanceArn,t.id=e.IdentityStoreId;break}}catch(e){console.log(`Error looking for AWS Identity Center details in region ${n}`)}finally{e.destroy()}}return t}(S),console.log("collecting AWS Organization service delegated admin details..."),d.orgDelegatedAdminAccounts=await async function(){let e=[];const n=new t.OrganizationsClient({region:"us-east-1"});let o={};try{const i=new t.ListDelegatedAdministratorsCommand({}),a=await n.send(i);if(a.DelegatedAdministrators)for(const i of a.DelegatedAdministrators){const a={AccountId:i.Id},s=new t.ListDelegatedServicesForAccountCommand(a),r=await n.send(s);r.DelegatedServices&&(o={services:r.DelegatedServices,accountName:i.Name},e.push(o))}}catch(e){console.log("Error looking for delegated services.")}finally{n.destroy()}return e}(),console.log("collecting AWS Organization member account details..."),d.orgMemberAccounts=await async function(){let e=[];const n=new t.OrganizationsClient({region:"us-east-1"});Number("200");try{let o=await n.send(new t.ListAccountsCommand({}));if(o.Accounts&&o.Accounts.length>0){for(const t of o.Accounts){let n={accountName:t.Name,accountEmail:t.Email};e.push(n)}do{if(o.NextToken&&(o=await n.send(new t.ListAccountsCommand({NextToken:o.NextToken})),o.Accounts&&o.Accounts.length>0))for(const t of o.Accounts){let n={accountName:t.Name,accountEmail:t.Email};e.push(n)}}while(o.NextToken)}}catch(e){console.error("Error listing AWS accounts:",e)}finally{n.destroy()}return e}(),d.isLegacyCurSetup=n.isLegacyCurSetup,d.orgArn=e.arn,d.orgId=e.id,d.orgRootOuId=e.rootOuId,d.backupPolicyEnabled=a.backupPolicyEnabled,d.scpEnabled=a.scpEnabled,d.tagPolicyEnabled=a.tagPolicyEnabled,d.orgCloudFormationStatus=s.status,d.controlTowerDeployedVersion=r.deployedVersion,d.controlTowerDriftStatus=r.driftStatus,d.controlTowerLatestAvailableVersion=r.latestAvailableVersion,d.controlTowerRegion=r.controlTowerRegion,d.controlTowerStatus=r.status,d.idcInfo.arn&&(E=!0),d.cloudTrailDetails&&d.cloudTrailDetails.length>0){W=!0;for(const e of d.cloudTrailDetails)e.trailFound&&e.isOrgTrail&&(I=!0)}if(d.orgServices.find((e=>"cloudtrail.amazonaws.com"===e.service))&&(N=!0),d.orgServices.find((e=>"config.amazonaws.com"===e.service))&&(V=!0),a.scpEnabled&&(P=!0),a.tagPolicyEnabled&&(R=!0),a.backupPolicyEnabled&&(M=!0),e.rootOuId&&(console.log("collecting OU and member account details..."),d.orgOuInfo=await async function(e,n){const o=new t.OrganizationsClient({region:e});let i=[];try{const e=new t.ListOrganizationalUnitsForParentCommand({ParentId:n}),a=await o.send(e);if(a.OrganizationalUnits)for(const e of a.OrganizationalUnits){let n={id:e.Id,name:e.Name};const a=await o.send(new t.ListAccountsForParentCommand({ParentId:e.Id}));a.Accounts&&a.Accounts.length>0&&(n.accounts=a.Accounts),i.push(n)}}catch(e){return console.error("Error checking service access:",e),[]}finally{o.destroy()}return i}("us-east-1",e.rootOuId),d.orgOuInfo&&d.orgOuInfo.length>0))for(const e of d.orgOuInfo)"suspended"===e.name?.toLowerCase()&&(v=!0),"transitional"===e.name?.toLowerCase()&&(w=!0),"workloads"===e.name?.toLowerCase()&&(z=!0),"security"===e.name?.toLowerCase()&&(b=!0),"infrastructure"===e.name?.toLowerCase()&&(C=!0);if(d.orgMemberAccounts&&d.orgMemberAccounts.length>0)for(const e of d.orgMemberAccounts)e.accountName&&("log archive"===e.accountName.toLowerCase()&&(x=!0),"audit"===e.accountName.toLowerCase()&&(Y=!0),"security tooling"===e.accountName.toLowerCase()&&(Y=!0));let u=!1,g=!1,m=!1,p=!1,h=!1,f=!1,y=!1,O=!1,$=!1;if(d.orgDelegatedAdminAccounts&&d.orgDelegatedAdminAccounts.length>0)for(const e of d.orgDelegatedAdminAccounts)if(e.services&&e.services.length>0)for(const t of e.services)"securityhub.amazonaws.com"===t.ServicePrincipal&&(g=!0),"guardduty.amazonaws.com"===t.ServicePrincipal&&(m=!0),"sso.amazonaws.com"===t.ServicePrincipal&&(u=!0),"config.amazonaws.com"===t.ServicePrincipal&&(p=!0),"access-analyzer.amazonaws.com"===t.ServicePrincipal&&(h=!0),"storage-lens.s3.amazonaws.com"===t.ServicePrincipal&&(f=!0),"ipam.amazonaws.com"===t.ServicePrincipal&&(y=!0),"account.amazonaws.com"===t.ServicePrincipal&&(O=!0),"backup.amazonaws.com"===t.ServicePrincipal&&($=!0);r.controlTowerRegion&&(B=!0),"DRIFTED"!==r.driftStatus&&(_=!0),r.deployedVersion===r.latestAvailableVersion&&(Z=!0),d.orgServices.find((e=>"member.org.stacksets.cloudformation.amazonaws.com"===e.service))&&(U=!0),d.orgServices.find((e=>"sso.amazonaws.com"===e.service))&&(k=!0),d.orgServices.find((e=>"guardduty.amazonaws.com"===e.service))&&(F=!0),d.orgServices.find((e=>"securityhub.amazonaws.com"===e.service))&&(G=!0),d.orgServices.find((e=>"access-analyzer.amazonaws.com"===e.service))&&(q=!0),d.orgServices.find((e=>"ram.amazonaws.com"===e.service))&&(K=!0),d.orgServices.find((e=>"backup.amazonaws.com"===e.service))&&(j=!0)}else if(y.isInOrganization&&!y.isManagementAccount){const e="\nWARNING: You are running CFAT from an account that is a member of your AWS Organization. Please run the solution from your AWS Management account.";console.warn(e)}else{const e="\nWARNING: You are running CFAT from an account that not part of an AWS Organization. This account will be treated as a standalone account.";console.warn(e)}let ee={check:"AWS Organization created",description:"AWS Organization is enabled.",status:y.isInOrganization?"complete":"incomplete",required:!0,weight:6,loe:1,remediationLink:"https://aws.amazon.com/organizations/getting-started/"};u.push(ee);let te={check:"Management Account created",description:"AWS Management account exists.",status:H?"complete":"incomplete",required:!0,weight:6,loe:1,remediationLink:"https://docs.aws.amazon.com/accounts/latest/reference/manage-acct-creating.html"};u.push(te);const ne={check:"Management Account IAM users removed",description:"IAM Users should not exist in Management Account.",status:O?"complete":"incomplete",required:!1,weight:4,loe:1,remediationLink:"https://docs.aws.amazon.com/IAM/latest/UserGuide/id_users_manage.html#id_users_deleting"};u.push(ne);const oe={check:"Management Account EC2 instances removed",description:"EC2 Instances should not exist in Management Account.",status:D?"complete":"incomplete",required:!1,weight:4,loe:1,remediationLink:"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/terminating-instances.html"};u.push(oe);const ie={check:"Management Account VPCs removed",description:"Management Account should not have any VPCs.",status:$?"complete":"incomplete",required:!1,weight:4,loe:1,remediationLink:"https://github.com/cloud-foundations-on-aws/cloud-foundations-templates/blob/main/network/network-default-vpc-deletion/README.md"};u.push(ie),d.isLegacyCurSetup;const ae={check:"CloudTrail Trail created",description:"CloudTrail should be enabled within the account.",status:W?"complete":"incomplete",required:!0,weight:6,loe:3,remediationLink:"https://docs.aws.amazon.com/awscloudtrail/latest/userguide/creating-trail-organization.html"};u.push(ae);const se={check:"CloudTrail Organization Service enabled",description:"CloudTrail should be enabled on the Organization.",status:N?"complete":"incomplete",required:!0,weight:6,loe:1,remediationLink:"https://docs.aws.amazon.com/organizations/latest/userguide/services-that-can-integrate-cloudtrail.html"};u.push(se);const re={check:"CloudTrail Org Trail deployed",description:"At least one CloudTrail Organization Trail should be enabled.",status:I?"complete":"incomplete",required:!0,weight:6,loe:1,remediationLink:"https://docs.aws.amazon.com/awscloudtrail/latest/userguide/creating-trail-organization.html"};u.push(re);const ce={check:"Config Recorder in Management Account configured",description:"Config Recorder in the Management Account should be enabled.",status:T?"complete":"incomplete",required:!0,weight:6,loe:2,remediationLink:"https://aws.amazon.com/blogs/mt/managing-aws-organizations-accounts-using-aws-config-and-aws-cloudformation-stacksets/"};u.push(ce);const le={check:"Config Delivery Channel in Management Account configured",description:"Config Delivery Channel in Management Account should be enabled.",status:L?"complete":"incomplete",required:!0,weight:6,loe:2,remediationLink:"https://aws.amazon.com/blogs/mt/managing-aws-organizations-accounts-using-aws-config-and-aws-cloudformation-stacksets/"};u.push(le);u.push({check:"CloudFormation StackSets activated",description:"CloudFormation StackSets should be activated in the CloudFormation console.",status:"incomplete",required:!1,weight:5,loe:1,remediationLink:"https://docs.aws.amazon.com/organizations/latest/userguide/services-that-can-integrate-cloudformation.html#integrate-enable-ta-cloudformation"});const de={check:"GuardDuty Organization service enabled",description:"GuardDuty Organization services should be enabled.",status:F?"complete":"incomplete",required:!1,weight:4,loe:1,remediationLink:"https://docs.aws.amazon.com/organizations/latest/userguide/services-that-can-integrate-guardduty.html#integrate-enable-ta-guardduty"};u.push(de);const ue={check:"RAM Organization service enabled",description:"Resource Access Manager (RAM) trusted access should be enabled in the AWS Organization.",status:K?"complete":"incomplete",required:!1,weight:4,loe:1,remediationLink:"https://docs.aws.amazon.com/organizations/latest/userguide/services-that-can-integrate-ram.html#integrate-enable-ta-ram"};u.push(ue);const ge={check:"Security Hub Organization service enabled",description:"Security Hub trusted access should be enabled in the AWS Organization.",status:G?"complete":"incomplete",required:!1,weight:4,loe:1,remediationLink:"https://docs.aws.amazon.com/organizations/latest/userguide/services-that-can-integrate-securityhub.html#integrate-enable-ta-securityhub"};u.push(ge);const me={check:"IAM Access Analyzer Organization service enabled",description:"IAM Access Analyzer trusted access should be enabled in the AWS Organization.",status:q?"complete":"incomplete",required:!1,weight:4,loe:1,remediationLink:"https://docs.aws.amazon.com/IAM/latest/UserGuide/access-analyzer-getting-started.html#access-analyzer-enabling"};u.push(me);const pe={check:"Config Organization service enabled",description:"AWS Config trusted access should be enabled in the AWS Organization.",status:V?"complete":"incomplete",required:!1,weight:4,loe:1,remediationLink:"https://docs.aws.amazon.com/organizations/latest/userguide/services-that-can-integrate-config.html#integrate-enable-ta-config"};u.push(pe);const he={check:"CloudFormation Organization service enabled",description:"CloudFormation trusted access should be enabled in the AWS Organization.",status:U?"complete":"incomplete",required:!1,weight:5,loe:1,remediationLink:"https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/stacksets-orgs-activate-trusted-access.html"};u.push(he);const fe={check:"Top-level Infrastructure OU deployed",description:"Top-level Infrastructure OU should exist.",status:C?"complete":"incomplete",required:!1,weight:5,loe:2,remediationLink:"https://catalog.workshops.aws/control-tower/en-US/introduction/manage-ou"};u.push(fe);const Ae={check:"Top-level Security OU deployed",description:"Top-level Security OU should exist.",status:b?"complete":"incomplete",required:!0,weight:6,loe:2,remediationLink:"https://catalog.workshops.aws/control-tower/en-US/introduction/manage-ou"};u.push(Ae);const Se={check:"Top-level Workloads OU deployed",description:"Top-level Workloads OU should exist.",status:z?"complete":"incomplete",required:!1,weight:5,loe:2,remediationLink:"https://catalog.workshops.aws/control-tower/en-US/introduction/manage-ou"};u.push(Se);const ye={check:"IAM IdC Organization service enabled",description:"IAM Identity Center trusted access should be enabled in the AWS Organization",status:k?"complete":"incomplete",required:!0,weight:6,loe:1,remediationLink:"https://docs.aws.amazon.com/singlesignon/latest/userguide/get-set-up-for-idc.html"};u.push(ye);const we={check:"IAM IdC configured",description:"IAM Identity Center should be configured.",status:E?"complete":"incomplete",required:!0,weight:6,loe:3,remediationLink:"https://docs.aws.amazon.com/singlesignon/latest/userguide/tutorials.html"};u.push(we);const ve={check:"Service Control Policies enabled",description:"Service Control Policy should be enabled within the AWS Organization.",status:P?"complete":"incomplete",required:!0,weight:6,loe:1,remediationLink:"https://docs.aws.amazon.com/organizations/latest/userguide/orgs_manage_policies_enable-disable.html"};u.push(ve);const Ce={check:"Organization Tag Policy enabled",description:"Tag Policy should be enabled within the AWS Organization.",status:R?"complete":"incomplete",required:!0,weight:6,loe:1,remediationLink:"https://docs.aws.amazon.com/organizations/latest/userguide/orgs_manage_policies_enable-disable.html"};u.push(Ce);const ze={check:"Organization Backup Policy enabled",description:"Backup Policy should be enabled within the AWS Organization.",status:M?"complete":"incomplete",required:!1,weight:5,loe:1,remediationLink:"https://docs.aws.amazon.com/organizations/latest/userguide/orgs_manage_policies_enable-disable.html"};u.push(ze);const be={check:"Control Tower deployed",description:"Control Tower should be deployed.",status:B?"complete":"incomplete",required:!0,weight:6,loe:6,remediationLink:"https://catalog.workshops.aws/control-tower/en-US/prerequisites/deploying"};u.push(be);const Oe={check:"Control Tower latest version",description:"Control Tower should be the latest version.",status:Z?"complete":"incomplete",required:!1,weight:5,loe:2,remediationLink:"https://docs.aws.amazon.com/controltower/latest/userguide/update-controltower.html"};u.push(Oe);const ke={check:"Control Tower not drifted",description:"Control Tower should not be drifted.",status:_?"complete":"incomplete",required:!0,weight:6,loe:2,remediationLink:"https://docs.aws.amazon.com/controltower/latest/userguide/resolve-drift.html"};u.push(ke);const Ee={check:"Log Archive account deployed",description:"Log Archive account should exist.",status:x?"complete":"incomplete",required:!0,weight:6,loe:2,remediationLink:"https://docs.aws.amazon.com/controltower/latest/userguide/getting-started-from-console.html"};u.push(Ee);const We={check:"Audit account deployed",description:"Audit/Security Tooling account should exist.",status:Y?"complete":"incomplete",required:!0,weight:6,loe:2,remediationLink:"https://docs.aws.amazon.com/controltower/latest/userguide/getting-started-from-console.html"};u.push(We),d.cfatChecks=u,console.table(u,["check","status","required","loe"]),console.log("writing assessment summary checks to ./cfat/cfat-checks.csv...");const Ie=function(e){const t=Array.isArray(e)?e:[e],n=t.length>0?Object.keys(t[0]):[],o=[n.join(",")];for(const e of t){const t=n.map((t=>{const n=e[t];return"string"==typeof n?`"${n.replace(/"/g,'""')}"`:n}));o.push(t.join(","))}return o.join("\n")}(u);g.writeFileSync("./cfat-checks.csv",Ie),await async function(e){let t=[],n="Cloud Foundation Assessment Tool";n+=`\nGenerated on: ${(new Date).toUTCString()} \n\n`;let o=0,i=0,a=0,s="COMPLETE";if(e.cfatChecks&&e.cfatChecks.length>0){n+="\nIncomplete Requirements:";for(const t of e.cfatChecks)a+=t.weight,!0===t.required&&"incomplete"===t.status&&(n+=`\n    INCOMPLETE: ${t.check}`,i+=t.loe,s="INCOMPLETE"),"complete"===t.status&&(o+=t.weight);n+="\n\n====================================\n",n+=`\nFoundation Status: ${s}`,"INCOMPLETE"===s&&(n+=`\nEstimate of Required Level of Effort (LOE): ${i} hours`),n+=`\nCFAT Score: ${o} out of ${a}`,n+="\n\n====================================\n",n+="\nFoundation Checks:\n",e.cfatChecks&&e.cfatChecks.length>0&&(n+=`${r=e.cfatChecks,p.table(r),(m.read()||"").toString()}`)}var r;if(n+="\n\nStart Detailed Report:\n\n",n+="\n*********************************************************",n+="\n                   MANAGEMENT ACCOUNT",n+="\n*********************************************************",n+="\n\nAWS ACCOUNT TYPE\n",n+=`\n  Is in AWS Organization: ${e.organizationDeploy}`,n+=`\n  Assessing AWS Management Account: ${e.managementAccount}`,n+="\n\nIAM USERS CHECK\n",e.iamUserChecks&&e.iamUserChecks.length>0)for(const t of e.iamUserChecks)n+=`\n  IAM User: ${t.userName}`,t.accessKeyId&&(n+=`\n    User API Key ID: ${t.accessKeyId}`),n+="\n";else n+="\n  No IAM Users found.";if(n+="\n\nEC2 INSTANCE CHECK\n",e.ec2Checks&&e.ec2Checks.find((e=>!0===e.ec2Found)))for(const t of e.ec2Checks)t.ec2Found&&(n+=`\n  ${t.region} - found EC2 Instance(s).`);else n+="\n  No EC2 instances found.";if(n+="\n\nVPC CHECK\n",e.vpcChecks&&e.vpcChecks.length>0)for(const t of e.vpcChecks)t.vpcFound&&(n+=`\n  ${t.region} - found VPC(s).`);else n+="\n  No VPCs found.";if(n+="\n\nAWS CONFIG CHECK\n",e.configDetails&&e.configDetails.find((e=>!0===e.configRecorderFound)))for(const t of e.configDetails)t.configRecorderFound&&(n+=`\n  ${t.region} - Config Recorder found`),t.configDeliveryChannelFound&&(n+=`\n  ${t.region} - Config Delivery Channel found`);else n+="\n  No AWS Config resource discovered";n+="\n\nMANAGEMENT ACCOUNT TASKS:";const c="Management Account";if(e.iamUserChecks&&e.iamUserChecks.length>0)for(const o of e.iamUserChecks){let e={title:`Remove IAM user ${o.userName}`,category:c,detail:`Review and determine if IAM user ${o.userName} can be deleted.`};const i=`${e.title} - ${e.category} - ${e.detail}`;if(t.push(e),n+=`\n  ${i}`,o.accessKeyId){let e={title:`Remove IAM user ${o.userName} API key ${o.accessKeyId} `,category:c,detail:`Review and determine if IAM user API key ${o.accessKeyId} for ${o.userName} can be removed.`};n+=`\n  ${e.title} - ${e.category} - ${e.detail}`,t.push(e)}}if(e.ec2Checks&&e.ec2Checks.find((e=>!0===e.ec2Found)))for(const o of e.ec2Checks)if(o.ec2Found&&o.region){let e={title:`Delete EC2 instance in ${o.region}`,category:c,detail:`Delete any unnecessary EC2 instance in ${o.region}`};n+=`\n  ${e.title} - ${e.category} - ${e.detail}`,t.push(e)}if(e.vpcChecks&&e.vpcChecks.length>0)for(const o of e.vpcChecks)if(o.vpcFound&&o.region){let e={title:`Delete VPC in ${o.region}`,category:c,detail:`Delete any unnecessary VPC in ${o.region} to include the default VPC.`};n+=`\n  ${e.title} - ${e.category} - ${e.detail}`,t.push(e)}if(n+="\n\n*********************************************************",n+="\n                    GOVERNANCE",n+="\n*********************************************************",n+="\n\nAWS ORGANIZATION POLICY TYPES\n",n+=`\n  Service Control Policies (SCP) enabled: ${e.scpEnabled}`,n+=`\n  Tag Policies enabled: ${e.tagPolicyEnabled}`,n+=`\n  Backup Policies enabled: ${e.backupPolicyEnabled}`,n+="\n\nAWS ORGANIZATION CLOUDFORMATION\n",n+=`\n  AWS CloudFormation Organization stack sets status : ${e.orgCloudFormationStatus}`,n+="\n\nCLOUDTRAIL CHECK\n",e.cloudTrailDetails&&e.cloudTrailDetails.length>0)for(const t of e.cloudTrailDetails)t.trailFound&&(n+=`\n  CloudTrail found in ${t.region}`,n+=`\n    Is Organization Trail: ${t.isOrgTrail}`,n+=`\n    Is MultiRegion: ${t.isMultiRegion}`,n+="\n");else n+="\n  No AWS CloudTrail resource discovered";n+="\n\nGOVERNANCE SERVICES ENABLED IN AWS ORGANIZATION:\n",e.orgServices?(e.orgServices.find((e=>"cloudtrail.amazonaws.com"===e.service))&&(n+="\n  AWS CloudTrail"),e.orgServices.find((e=>"config.amazonaws.com"===e.service))&&(n+="\n  AWS Config")):n+="\n  No governance service enabled",n+="\n\nGOVERNANCE TASKS:";const l="Governance";if(!e.orgServices||!e.orgServices.find((e=>"cloudtrail.amazonaws.com"===e.service))){const e={title:"Enable AWS CloudTrail",category:l,detail:"Enable AWS CloudTrail in AWS Organization"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}if(!e.orgServices||!e.orgServices.find((e=>"config.amazonaws.com"===e.service))){const e={title:"Enable AWS Config",category:l,detail:"Enable AWS Config in AWS Organization"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}if(!e.scpEnabled){const e={title:"Enable SCP",category:l,detail:"Enable SCP in AWS Organization"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}if(!e.tagPolicyEnabled){let e={title:"Enable Tag Policy",category:l,detail:"Enable Tag Policy in AWS Organization"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}if(!e.backupPolicyEnabled){let e={title:"Enable Backup Policy",category:l,detail:"Enable Backup Policy in AWS Organization"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}if(n+="\n\n*********************************************************",n+="\n                FINANCIAL MANAGEMENT",n+="\n*********************************************************",n+="\n\nLegacy CUR",n+=`\n  Is legacy CUR setup: ${e.isLegacyCurSetup}`,n+="\n\nCLOUD FINANCIAL MANAGEMENT TASKS:",!e.isLegacyCurSetup){const e={title:"Setup legacy CUR",category:"Cloud Financial Management",detail:"Setup legacy CUR in AWS Organization"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}n+="\n\n*********************************************************",n+="\n                MULTI-ACCOUNT STRATEGY",n+="\n*********************************************************",n+="\n\nAWS ORGANIZATION DETAILS\n",n+=`\n  AWS Organization Id: ${e.orgId}`,n+=`\n  AWS Organization ARN: ${e.orgArn}`,n+=`\n  AWS Organization Root OU Id: ${e.orgRootOuId}`,n+="\n\nAWS ORGANIZATION CLOUDFORMATION\n",n+=`\n  AWS CloudFormation Organization stack sets status : ${e.orgCloudFormationStatus}`;let d,u,h=!1,f=!1,A=!1;if(e.orgRootOuId)if(n+="\n\nAWS ORGANIZATION TOP-LEVEL ORGANIZATION UNITS\n",n+="\n  List of Organization's top-level OUs and AWS accounts:",e.orgOuInfo&&e.orgOuInfo.length>0)for(const t of e.orgOuInfo)if("suspended"===t.name?.toLowerCase()&&(u=!0),"transitional"===t.name?.toLowerCase()&&(d=!0),"workloads"===t.name?.toLowerCase()&&(f=!0),"security"===t.name?.toLowerCase()&&(A=!0),"infrastructure"===t.name?.toLowerCase()&&(h=!0),n+=`\n    Organizational Unit: ${t.name}`,n+=`\n      Organizational Unit Id: ${t.id}`,t.accounts&&t.accounts.length>0){n+="\n      AWS Accounts:";for(const e of t.accounts)n+=`\n        ${e.Name}`;n+="\n"}else n+="\n      AWS Accounts: None",n+="\n";else n+="\n  No top level OUs found.";if(n+="\n\nAWS ORGANIZATION MEMBER ACCOUNTS\n",e.orgMemberAccounts&&e.orgMemberAccounts.length>0)for(const t of e.orgMemberAccounts)n+=`\n  Account: ${t.accountName}`,n+=`\n  Account Email: ${t.accountEmail}\n`;else n+="No member accounts found which is amazing as this is running from one.";if(n+="\n\nAWS ORGANIZATION ENABLED SERVICES\n",n+="\n  The following AWS Services are enabled within your AWS Organization:",e.orgServices&&e.orgServices.length>0)for(const t of e.orgServices)n+=`\n    ${t.service}`;else n+="\n    No trusted access enabled in the AWS Organization";let S=!1,y=!1,w=!1,v=!1,C=!1,z=!1,b=!1,O=!1,k=!1;if(n+="\n\nAWS ORGANIZATION INTEGRATED SERVICE REGISTERED DELEGATED ADMINS\n",e.orgDelegatedAdminAccounts&&e.orgDelegatedAdminAccounts.length>0)for(const t of e.orgDelegatedAdminAccounts){if(n+=`\n  Account: ${t.accountName}`,t.services&&t.services.length>0){n+="\n  Delegated Services:";for(const e of t.services)n+=`\n    ${e.ServicePrincipal}`,"securityhub.amazonaws.com"===e.ServicePrincipal&&(y=!0),"guardduty.amazonaws.com"===e.ServicePrincipal&&(w=!0),"sso.amazonaws.com"===e.ServicePrincipal&&(S=!0),"config.amazonaws.com"===e.ServicePrincipal&&(v=!0),"access-analyzer.amazonaws.com"===e.ServicePrincipal&&(C=!0),"storage-lens.s3.amazonaws.com"===e.ServicePrincipal&&(z=!0),"ipam.amazonaws.com"===e.ServicePrincipal&&(b=!0),"account.amazonaws.com"===e.ServicePrincipal&&(O=!0),"backup.amazonaws.com"===e.ServicePrincipal&&(k=!0)}n+="\n "}else n+="\n  No delegated admin accounts in AWS Organization";n+="\n\nMULTI-ACCOUNT STRATEGY TASKS:";let E="Multi-Account Strategy";if(n+=`\n  Review Account Email Addresses - ${E} - Review Account Email Addresses in AWS Organization`,!e.scpEnabled){const e={title:"Enable Service Control Policy",category:E,detail:"Enable Service Control Policy in AWS Organization"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}if(!d){const e={title:"Deploy Transitional OU",category:E,detail:"Deploy Transitional OU in AWS Organization"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}if(!u){const e={title:"Deploy Suspended OU",category:E,detail:"Deploy Suspended OU in AWS Organization"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}if(!f){const e={title:"Deploy Workloads OU",category:E,detail:"Deploy Workloads OU in AWS Organization"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}if(!A){const e={title:"Deploy Security OU",category:E,detail:"Deploy Security OU in AWS Organization"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}if(!h){const e={title:"Deploy Infrastructure OU",category:E,detail:"Deploy Infrastructure OU in AWS Organization"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}n+="\n\n*********************************************************",n+="\n                  LANDING ZONE",n+="\n*********************************************************",n+="\n\nAWS CONTROL TOWER\n",e.controlTowerRegion?(n+=`\n  Control Tower home region: ${e.controlTowerRegion}`,n+=`\n  Control Tower status: ${e.controlTowerStatus}`,n+=`\n  Control Tower Landing Zone version: ${e.controlTowerDeployedVersion}`,n+=`\n  Latest available version: ${e.controlTowerLatestAvailableVersion}`,n+=`\n  Drift Status: ${e.controlTowerDriftStatus}`):n+="\n  AWS Control Tower is not deployed in the AWS Organization",n+="\n\nLANDING ZONE TASKS:";const W="Landing Zone";if(void 0===e.controlTowerRegion){const e={title:"Deploy AWS Control Tower",category:W,detail:"Deploy AWS Control Tower in AWS Organization"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}if("DRIFTED"===e.controlTowerDriftStatus){const e={title:"Fix drift in deployed landing zone",category:W,detail:"Fix drift in deployed landing zone"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}if(e.controlTowerDeployedVersion!==e.controlTowerLatestAvailableVersion){const o={title:"Update AWS Control Tower to latest version",category:W,detail:`Update AWS Control Tower to version ${e.controlTowerLatestAvailableVersion}`};t.push(o),n+=`\n  ${o.title} - ${o.category} - ${o.detail}`}if(!e.orgServices||!e.orgServices.find((e=>"member.org.stacksets.cloudformation.amazonaws.com"===e.service))){const e={title:"Enable AWS CloudFormation",category:W,detail:"Enable AWS CloudFormation in AWS Organization"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}n+="\n\n*********************************************************",n+="\n                    IDENTITY",n+="\n*********************************************************",e.idcInfo?(n+="\n\nAWS IAM IDENTITY CENTER\n",n+=`\n  IdC Region: ${e.idcInfo.region}`,n+=`\n  IdC ARN: ${e.idcInfo.arn}`,n+=`\n  IdC Instance Id: ${e.idcInfo.id}`):n+="\n\nAWS IAM IDENTITY CENTER NOT FOUND\n",n+="\n\nIDENTITY TASKS:";const I="Identity";if(!e.orgServices||!e.orgServices.find((e=>"sso.amazonaws.com"===e.service))){const e={title:"Enable AWS Single Sign-On",category:I,detail:"Enable AWS Single Sign-On in AWS Organization"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}if(!S){const e={title:"Delegate administration to AWS IAM Identity Center",category:I,detail:"Delegate administration to AWS IAM Identity Center"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}if(!e.scpEnabled){const e={title:"Enable AWS Single Sign-On",category:I,detail:"Enable AWS Single Sign-On in AWS Organization"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}n+="\n\n*********************************************************",n+="\n                    SECURITY",n+="\n*********************************************************",n+="\n\nAWS SECURITY SERVICES ENABLED IN AWS ORGANIZATION:\n",e.orgServices&&e.orgServices.find((e=>"guardduty.amazonaws.com"===e.service))&&(n+="\n  AWS GuardDuty"),e.orgServices&&e.orgServices.find((e=>"securityhub.amazonaws.com"===e.service))&&(n+="\n  AWS Security Hub"),e.orgServices&&e.orgServices.find((e=>"access-analyzer.amazonaws.com"===e.service))&&(n+="\n  IAM Access Analyzer"),e.orgServices&&e.orgServices.find((e=>"macie.amazonaws.com"===e.service))&&(n+="\n  Macie"),e.orgServices&&e.orgServices.find((e=>"storage-lens.s3.amazonaws.com"===e.service))&&(n+="\n  Amazon S3 Storage Lens"),e.orgServices&&e.orgServices.find((e=>"inspector2.amazonaws.com"===e.service))&&(n+="\n  Amazon Inspector"),e.orgServices&&e.orgServices.find((e=>"cloudtrail.amazonaws.com"===e.service))&&(n+="\n  AWS CloudTrail"),e.orgServices&&e.orgServices.find((e=>"config.amazonaws.com"===e.service))&&(n+="\n  AWS Config"),n+="\n\nSECURITY TASKS:";const $="Security";if(!e.scpEnabled){const e={title:"Enable AWS Single Sign-On",category:$,detail:"Enable AWS Single Sign-On in AWS Organization"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}if(!e.orgServices||!e.orgServices.find((e=>"guardduty.amazonaws.com"===e.service))){const e={title:"Delegate administration to AWS GuardDuty",category:$,detail:"Delegate administration to AWS GuardDuty"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}if(!e.orgServices||!e.orgServices.find((e=>"securityhub.amazonaws.com"===e.service))){const e={title:"Delegate administration to AWS Security Hub",category:$,detail:"Delegate administration to AWS Security Hub"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}if(!e.orgServices||!e.orgServices.find((e=>"access-analyzer.amazonaws.com"===e.service))){const e={title:"Delegate administration to AWS IAM Access Analyzer",category:$,detail:"Delegate administration to AWS IAM Access Analyzer"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}if(!e.orgServices||!e.orgServices.find((e=>"cloudtrail.amazonaws.com"===e.service))){const e={title:"Delegate administration to AWS CloudTrail",category:$,detail:"Delegate administration to AWS CloudTrail"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}if(!e.orgServices||!e.orgServices.find((e=>"config.amazonaws.com"===e.service))){const e={title:"Delegate administration to AWS Config",category:$,detail:"Delegate administration to AWS Config"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}if(!y){const e={title:"Delegate administration of AWS Security Hub",category:$,detail:"Delegate administration to AWS Security Hub"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}if(!w){const e={title:"Delegate administration of AWS GuardDuty",category:$,detail:"Delegate administration to AWS GuardDuty"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}if(!v){const e={title:"Delegate administration of AWS Config",category:$,detail:"Delegate administration to AWS Config"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}if(!C){const e={title:"Delegate administration of AWS IAM Access Analyzer",category:$,detail:"Delegate administration to AWS IAM Access Analyzer"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}if(!z){const e={title:"Delegate administration of Amazon S3 Storage Lens",category:$,detail:"Delegate administration to Amazon S3 Storage Lens"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}n+="\n\n*********************************************************",n+="\n                    NETWORK",n+="\n*********************************************************",n+="\n\nNETWORK TASKS:";const D="Network";if(!e.orgServices||!e.orgServices.find((e=>"guardduty.amazonaws.com"===e.service))){const e={title:"Enable AWS GuardDuty",category:D,detail:"Enable AWS GuardDuty in AWS Organization"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}if(!e.orgServices||!e.orgServices.find((e=>"ipam.amazonaws.com"===e.service))){const e={title:"Enable AWS IPAM",category:D,detail:"Enable AWS IPAM in AWS Organization"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}if(!e.orgServices||!e.orgServices.find((e=>"ram.amazonaws.com"===e.service))){const e={title:"Enable AWS Resource Access Manager",category:D,detail:"Enable AWS Resource Access Manager in AWS Organization"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}if(!b){const e={title:"Delegate administration of AWS IPAM",category:D,detail:"Delegate administration to AWS IPAM"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}if(!e.scpEnabled){const e={title:"Enable AWS Service Control Policy",category:D,detail:"Enable AWS Service Control Policy in AWS Organization"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}n+="\n\n*********************************************************",n+="\n                  OBSERVABILITY",n+="\n*********************************************************",n+="\n\nOBSERVABILITY TASKS:";const T="Observability";if(!e.orgServices||!e.orgServices.find((e=>"account.amazonaws.com"===e.service))){const e={title:"Enable AWS Account",category:T,detail:"Enable AWS Account in AWS Organization"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}if(!O){const e={title:"Delegate administration of AWS Account",category:T,detail:"Delegate administration to AWS Account"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}n+="\n\n*********************************************************",n+="\n               BACKUP AND RECOVERY",n+="\n*********************************************************",n+="\n\nBACKUP AND RECOVERY TASKS:";const L="Backup and Recovery";if(!e.orgServices||!e.orgServices.find((e=>"backup.amazonaws.com"===e.service))){const e={title:"Enable AWS Backup",category:L,detail:"Enable AWS Backup in AWS Organization"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}if(!k){const e={title:"Delegate administration of AWS Backup",category:L,detail:"Delegate administration to AWS Backup"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}if(!e.backupPolicyEnabled){const e={title:"Enable AWS Backup Policy",category:L,detail:"Enable AWS Backup Policy in AWS Organization"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}if(!e.scpEnabled){const e={title:"Enable AWS Service Control Policy",category:L,detail:"Enable AWS Service Control Policy in AWS Organization"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}return n+="\n\n\n  END REVIEW",console.log("compiling report..."),console.log("saving report to ./cfat/cfat.txt..."),g.appendFileSync("./cfat.txt",n),t}(d);const $e=await async function(e){let t=[];if(e.iamUserChecks&&e.iamUserChecks.length>0)for(const n of e.iamUserChecks){let e={title:`Remove IAM user ${n.userName}`,detail:`Review and determine if IAM user ${n.userName} can be deleted.`,remediationLink:""};if(t.push(e),n.accessKeyId){let e={title:`Remove IAM user ${n.userName} API key ${n.accessKeyId} `,detail:`Review and determine if IAM user API key ${n.accessKeyId} for ${n.userName} can be removed.`,remediationLink:"https://docs.aws.amazon.com/IAM/latest/UserGuide/id_users_manage.html#id_users_deleting"};t.push(e)}}if(e.ec2Checks&&e.ec2Checks.find((e=>!0===e.ec2Found)))for(const n of e.ec2Checks)if(n.ec2Found&&n.region){let e={title:`Delete EC2 instance in ${n.region}`,detail:`Delete any unnecessary EC2 instance in ${n.region}`,remediationLink:"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/terminating-instances.html"};t.push(e)}if(e.vpcChecks&&e.vpcChecks.length>0)for(const n of e.vpcChecks)if(n.vpcFound&&n.region){let e={title:`Delete VPC in ${n.region}`,detail:`Delete any unnecessary VPC in ${n.region} to include the default VPC.`,remediationLink:"https://github.com/cloud-foundations-on-aws/cloud-foundations-templates/blob/main/network/network-default-vpc-deletion/README.md"};t.push(e)}if(!e.scpEnabled){const e={title:"Enable SCP",detail:"Enable SCP in AWS Organization",remediationLink:"https://docs.aws.amazon.com/organizations/latest/userguide/orgs_manage_policies_enable-disable.html"};t.push(e)}if(!e.tagPolicyEnabled){let e={title:"Enable Tag Policy",detail:"Enable Tag Policy in AWS Organization",remediationLink:"https://docs.aws.amazon.com/organizations/latest/userguide/orgs_manage_policies_enable-disable.html"};t.push(e)}if(!e.backupPolicyEnabled){let e={title:"Enable Backup Policy",detail:"Enable Backup Policy in AWS Organization",remediationLink:"https://docs.aws.amazon.com/organizations/latest/userguide/orgs_manage_policies_enable-disable.html"};t.push(e)}if(!e.isLegacyCurSetup){const e={title:"Setup legacy CUR",detail:"Setup legacy CUR in AWS Organization",remediationLink:"https://docs.aws.amazon.com/cur/latest/userguide/dataexports-create-legacy.html"};t.push(e)}let n,o,i=!1,a=!1,s=!1;if(e.orgRootOuId&&e.orgOuInfo&&e.orgOuInfo.length>0)for(const t of e.orgOuInfo)"suspended"===t.name?.toLowerCase()&&(o=!0),"transitional"===t.name?.toLowerCase()&&(n=!0),"workloads"===t.name?.toLowerCase()&&(a=!0),"security"===t.name?.toLowerCase()&&(s=!0),"infrastructure"===t.name?.toLowerCase()&&(i=!0);let r=!1,c=!1,l=!1,d=!1,u=!1,g=!1,m=!1,p=!1,h=!1;if(e.orgDelegatedAdminAccounts&&e.orgDelegatedAdminAccounts.length>0)for(const t of e.orgDelegatedAdminAccounts)if(t.services&&t.services.length>0)for(const e of t.services)"securityhub.amazonaws.com"===e.ServicePrincipal&&(c=!0),"guardduty.amazonaws.com"===e.ServicePrincipal&&(l=!0),"sso.amazonaws.com"===e.ServicePrincipal&&(r=!0),"config.amazonaws.com"===e.ServicePrincipal&&(d=!0),"access-analyzer.amazonaws.com"===e.ServicePrincipal&&(u=!0),"storage-lens.s3.amazonaws.com"===e.ServicePrincipal&&(g=!0),"ipam.amazonaws.com"===e.ServicePrincipal&&(m=!0),"account.amazonaws.com"===e.ServicePrincipal&&(p=!0),"backup.amazonaws.com"===e.ServicePrincipal&&(h=!0);if(t.push({title:"Review account email addresses",detail:"Review Account Email Addresses in AWS Organization",remediationLink:"https://docs.aws.amazon.com/IAM/latest/UserGuide/root-user-best-practices.html#ru-bp-group"}),!n){const e={title:"Deploy Transitional OU",detail:"Deploy Transitional OU in AWS Organization",remediationLink:"https://docs.aws.amazon.com/whitepapers/latest/organizing-your-aws-environment/transitional-ou.html"};t.push(e)}if(!o){const e={title:"Deploy Suspended OU",detail:"Deploy Suspended OU in AWS Organization",remediationLink:"https://docs.aws.amazon.com/whitepapers/latest/organizing-your-aws-environment/suspended-ou.html"};t.push(e)}if(!a){const e={title:"Deploy Workloads OU",detail:"Deploy Workloads OU in AWS Organization",remediationLink:"https://docs.aws.amazon.com/whitepapers/latest/organizing-your-aws-environment/workloads-ou.html"};t.push(e)}if(!s){const e={title:"Deploy Security OU",detail:"Deploy Security OU in AWS Organization",remediationLink:"https://docs.aws.amazon.com/whitepapers/latest/organizing-your-aws-environment/security-ou-and-accounts.html"};t.push(e)}if(!i){const e={title:"Deploy Infrastructure OU",detail:"Deploy Infrastructure OU in AWS Organization",remediationLink:"https://docs.aws.amazon.com/whitepapers/latest/organizing-your-aws-environment/infrastructure-ou-and-accounts.html"};t.push(e)}if(void 0===e.controlTowerRegion){const e={title:"Deploy AWS Control Tower",detail:"Deploy AWS Control Tower in AWS Organization",remediationLink:"https://catalog.workshops.aws/control-tower/en-US/prerequisites/deploying"};t.push(e)}if("DRIFTED"===e.controlTowerDriftStatus){const e={title:"Fix drift in deployed landing zone",detail:"Fix drift in deployed landing zone",remediationLink:"https://docs.aws.amazon.com/controltower/latest/userguide/resolve-drift.html"};t.push(e)}if(e.controlTowerDeployedVersion!==e.controlTowerLatestAvailableVersion){const n={title:"Update AWS Control Tower to latest version",detail:`Update AWS Control Tower to version ${e.controlTowerLatestAvailableVersion}`,remediationLink:"https://docs.aws.amazon.com/controltower/latest/userguide/update-controltower.html"};t.push(n)}if(!e.orgServices||!e.orgServices.find((e=>"cloudtrail.amazonaws.com"===e.service))){const e={title:"Enable AWS CloudTrail",detail:"Enable AWS CloudTrail in AWS Organization",remediationLink:"https://docs.aws.amazon.com/controltower/latest/userguide/resolve-drift.html"};t.push(e)}if(!g){const e={title:"Delegate administration of Amazon S3 Storage Lens",detail:"Delegate administration to Amazon S3 Storage Lens",remediationLink:"https://docs.aws.amazon.com/organizations/latest/userguide/services-that-can-integrate-s3lens.html#integrate-enable-da-s3lens"};t.push(e)}if(!e.orgServices||!e.orgServices.find((e=>"member.org.stacksets.cloudformation.amazonaws.com"===e.service))){const e={title:"Enable AWS CloudFormation",detail:"Enable AWS CloudFormation in AWS Organization",remediationLink:"https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/stacksets-orgs-activate-trusted-access.html"};t.push(e)}if(!e.orgServices||!e.orgServices.find((e=>"sso.amazonaws.com"===e.service))){const e={title:"Enable AWS Single Sign-On",detail:"Enable AWS Single Sign-On in AWS Organization",remediationLink:"https://docs.aws.amazon.com/singlesignon/latest/userguide/get-set-up-for-idc.html"};t.push(e)}if(!r){const e={title:"Delegate administration to AWS IAM Identity Center",detail:"Delegate administration to AWS IAM Identity Center",remediationLink:"https://docs.aws.amazon.com/singlesignon/latest/userguide/delegated-admin.html"};t.push(e)}if(!e.orgServices||!e.orgServices.find((e=>"securityhub.amazonaws.com"===e.service))){const e={title:"Delegate administration to AWS Security Hub",detail:"Delegate administration to AWS Security Hub",remediationLink:"https://docs.aws.amazon.com/organizations/latest/userguide/services-that-can-integrate-securityhub.html#integrate-enable-ta-securityhub"};t.push(e)}if(!c){const e={title:"Delegate administration of AWS Security Hub",detail:"Delegate administration to AWS Security Hub",remediationLink:"https://docs.aws.amazon.com/securityhub/latest/userguide/designate-orgs-admin-account.html"};t.push(e)}if(!e.orgServices||!e.orgServices.find((e=>"access-analyzer.amazonaws.com"===e.service))){const e={title:"Delegate administration to AWS IAM Access Analyzer",detail:"Delegate administration to AWS IAM Access Analyzer",remediationLink:"https://docs.aws.amazon.com/IAM/latest/UserGuide/access-analyzer-getting-started.html#access-analyzer-enabling"};t.push(e)}if(!u){const e={title:"Delegate administration of AWS IAM Access Analyzer",detail:"Delegate administration to AWS IAM Access Analyzer",remediationLink:"https://docs.aws.amazon.com/IAM/latest/UserGuide/access-analyzer-settings.html"};t.push(e)}if(!e.orgServices||!e.orgServices.find((e=>"guardduty.amazonaws.com"===e.service))){const e={title:"Enable AWS GuardDuty",detail:"Enable AWS GuardDuty in AWS Organization",remediationLink:"https://docs.aws.amazon.com/organizations/latest/userguide/services-that-can-integrate-guardduty.html#integrate-enable-ta-guardduty"};t.push(e)}if(!l){const e={title:"Delegate administration of AWS GuardDuty",detail:"Delegate administration to AWS GuardDuty",remediationLink:"https://docs.aws.amazon.com/organizations/latest/userguide/services-that-can-integrate-guardduty.html"};t.push(e)}if(!e.orgServices||!e.orgServices.find((e=>"config.amazonaws.com"===e.service))){const e={title:"Enable AWS Config",detail:"Enable AWS Config in AWS Organization",remediationLink:"https://docs.aws.amazon.com/organizations/latest/userguide/services-that-can-integrate-config.html#integrate-enable-ta-config"};t.push(e)}if(!d){const e={title:"Delegate administration of AWS Config",detail:"Delegate administration to AWS Config",remediationLink:"https://docs.aws.amazon.com/organizations/latest/userguide/services-that-can-integrate-config.html"};t.push(e)}if(!e.orgServices||!e.orgServices.find((e=>"ram.amazonaws.com"===e.service))){const e={title:"Enable AWS Resource Access Manager",detail:"Enable AWS Resource Access Manager in AWS Organization",remediationLink:"https://docs.aws.amazon.com/organizations/latest/userguide/services-that-can-integrate-ram.html#integrate-enable-ta-ram"};t.push(e)}if(!e.orgServices||!e.orgServices.find((e=>"ipam.amazonaws.com"===e.service))){const e={title:"Enable AWS IPAM",detail:"Enable AWS IPAM in AWS Organization",remediationLink:"https://docs.aws.amazon.com/organizations/latest/userguide/services-that-can-integrate-ipam.html"};t.push(e)}if(!m){const e={title:"Delegate administration of AWS IPAM",detail:"Delegate administration to AWS IPAM",remediationLink:"https://docs.aws.amazon.com/vpc/latest/ipam/enable-integ-ipam.html"};t.push(e)}if(!e.orgServices||!e.orgServices.find((e=>"account.amazonaws.com"===e.service))){const e={title:"Enable AWS Account",detail:"Enable AWS Account in AWS Organization",remediationLink:"https://docs.aws.amazon.com/accounts/latest/reference/using-orgs-delegated-admin.html"};t.push(e)}if(!p){const e={title:"Delegate administration of AWS Account",detail:"Delegate administration to AWS Account",remediationLink:""};t.push(e)}if(!e.orgServices||!e.orgServices.find((e=>"backup.amazonaws.com"===e.service))){const e={title:"Enable AWS Backup",detail:"Enable AWS Backup in AWS Organization",remediationLink:"https://docs.aws.amazon.com/organizations/latest/userguide/services-that-can-integrate-backup.html#integrate-enable-ta-backup"};t.push(e)}if(!h){const e={title:"Delegate administration of AWS Backup",detail:"Delegate administration to AWS Backup",remediationLink:"https://docs.aws.amazon.com/aws-backup/latest/devguide/manage-cross-account.html#backup-delegatedadmin"};t.push(e)}return t}(d);console.log("cloud foundation assessment complete. Access your report at ./cfat/cfat.txt"),console.log("assessment summary checks written to ./cfat/cfat-checks.csv"),async function(e){let t='"Summary", "Description", "Status" \r\n';for(const n of e)t+=`"cfat - ${n.category} - ${n.title}", "${n.detail}", "Open" \r\n`;g.writeFileSync("./jira-import.csv",t)}($e),await async function(e){let t='"Task", "Description", "Status"  \r\n';for(const n of e)t+=`"cfat - ${n.title}", "${n.detail} - Remediation Link: ${n.remediationLink}", "Not Started" \r\n`;g.writeFileSync("./asana-import.csv",t)}($e),await async function(){try{const e=g.createWriteStream(h.join(process.cwd(),"assessment.zip")),t=f("zip",{zlib:{level:9}});t.pipe(e),t.file(h.join(process.cwd(),"cfat.txt"),{name:"cfat.txt"}),t.file(h.join(process.cwd(),"cfat-checks.csv"),{name:"cfat-checks.csv"}),t.file(h.join(process.cwd(),"asana-import.csv"),{name:"asana-import.csv"}),t.file(h.join(process.cwd(),"jira-import.csv"),{name:"jira-import.csv"}),t.finalize(),console.log("Zip file created successfully!")}catch(e){console.error("Error creating zip file:",e)}}(),console.log("assessment files zipped to ./cfat/assessment.zip")})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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bkJGLEVBQVFHLEtBQUtMLEdBRWJFLEVBQVFJLEtBQUssT0FBVWpaLFFBQVE0WSxNQUFPLFlBQWEsQ0FBRXBJLEtBQU0sYUFDM0RxSSxFQUFRSSxLQUFLLE9BQVVqWixRQUFRNFksTUFBTyxtQkFBb0IsQ0FBRXBJLEtBQU0sb0JBQ2xFcUksRUFBUUksS0FBSyxPQUFValosUUFBUTRZLE1BQU8sb0JBQXFCLENBQUVwSSxLQUFNLHFCQUNuRXFJLEVBQVFJLEtBQUssT0FBVWpaLFFBQVE0WSxNQUFPLG1CQUFvQixDQUFFcEksS0FBTSxvQkFDbEVxSSxFQUFRSyxXQUNSblksUUFBUUUsSUFBSSxpQ0FDaEIsQ0FDQSxNQUFPa1ksR0FDSHBZLFFBQVFELE1BQU0sMkJBQTRCcVksRUFDOUMsQ0FDSixDckJvbUJVLEdBQ05wWSxRQUFRRSxJQUFJLG1EQUFtRCxFQUVuRW1ZLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgY29tbW9uanMgXCJAYXdzLXNkay9jbGllbnQtc3RzXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIGNvbW1vbmpzIFwiQGF3cy1zZGsvY2xpZW50LW9yZ2FuaXphdGlvbnNcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgY29tbW9uanMgXCJAYXdzLXNkay9jbGllbnQtaWFtXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIGNvbW1vbmpzIFwiQGF3cy1zZGsvY2xpZW50LWNsb3VkZm9ybWF0aW9uXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIGNvbW1vbmpzIFwiQGF3cy1zZGsvY2xpZW50LXNzby1hZG1pblwiIiwid2VicGFjazovLy9leHRlcm5hbCBjb21tb25qcyBcIkBhd3Mtc2RrL2NsaWVudC1lYzJcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgY29tbW9uanMgXCJAYXdzLXNkay9jbGllbnQtY2xvdWR0cmFpbFwiIiwid2VicGFjazovLy9leHRlcm5hbCBjb21tb25qcyBcIkBhd3Mtc2RrL2NsaWVudC1jb25maWctc2VydmljZVwiIiwid2VicGFjazovLy9leHRlcm5hbCBjb21tb25qcyBcIkBhd3Mtc2RrL2NsaWVudC1jb250cm9sdG93ZXJcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgY29tbW9uanMgXCJAYXdzLXNkay9jbGllbnQtY29zdC1hbmQtdXNhZ2UtcmVwb3J0LXNlcnZpY2VcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgbm9kZS1jb21tb25qcyBcIm5vZGU6Y29uc29sZVwiIiwid2VicGFjazovLy9leHRlcm5hbCBub2RlLWNvbW1vbmpzIFwibm9kZTpzdHJlYW1cIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgbm9kZS1jb21tb25qcyBcImZzXCIiLCJ3ZWJwYWNrOi8vLy4vYnVpbGQvc3JjL2FjdGlvbnMvY3JlYXRlLXJlcG9ydC5qcyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgbm9kZS1jb21tb25qcyBcInBhdGhcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgY29tbW9uanMgXCJhcmNoaXZlclwiIiwid2VicGFjazovLy8uL2J1aWxkL2FwcC5qcyIsIndlYnBhY2s6Ly8vLi9idWlsZC9zcmMvYWN0aW9ucy9nZXQtcmVnaW9ucy5qcyIsIndlYnBhY2s6Ly8vLi9idWlsZC9zcmMvYWN0aW9ucy9kZWZpbmUtYWNjb3VudC10eXBlLmpzIiwid2VicGFjazovLy8uL2J1aWxkL3NyYy9hY3Rpb25zL2NoZWNrLWlhbS11c2Vycy5qcyIsIndlYnBhY2s6Ly8vLi9idWlsZC9zcmMvYWN0aW9ucy9jaGVjay1lYzItZXhpc3RlbmNlLmpzIiwid2VicGFjazovLy8uL2J1aWxkL3NyYy9hY3Rpb25zL2NoZWNrLXZwYy1leGlzdGVuY2UuanMiLCJ3ZWJwYWNrOi8vLy4vYnVpbGQvc3JjL2FjdGlvbnMvY2hlY2stY2xvdWR0cmFpbC1leGlzdGVuY2UuanMiLCJ3ZWJwYWNrOi8vLy4vYnVpbGQvc3JjL2FjdGlvbnMvY2hlY2stY29uZmlnLWV4aXN0ZW5jZS5qcyIsIndlYnBhY2s6Ly8vLi9idWlsZC9zcmMvYWN0aW9ucy9nZXQtb3JnLWRldGFpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vYnVpbGQvc3JjL2FjdGlvbnMvY2hlY2stbGVnYWN5LWN1ci5qcyIsIndlYnBhY2s6Ly8vLi9idWlsZC9zcmMvYWN0aW9ucy9nZXQtZW5hYmxlZC1vcmctcG9saWN5LXR5cGVzLmpzIiwid2VicGFjazovLy8uL2J1aWxkL3NyYy9hY3Rpb25zL2dldC1lbmFibGVkLW9yZy1zZXJ2aWNlcy5qcyIsIndlYnBhY2s6Ly8vLi9idWlsZC9zcmMvYWN0aW9ucy9jaGVjay1vcmctY2xvdWRmb3JtYXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vYnVpbGQvc3JjL2FjdGlvbnMvY2hlY2stY29udHJvbC10b3dlci5qcyIsIndlYnBhY2s6Ly8vLi9idWlsZC9zcmMvYWN0aW9ucy9nZXQtaWRjLWluZm8uanMiLCJ3ZWJwYWNrOi8vLy4vYnVpbGQvc3JjL2FjdGlvbnMvZ2V0LW9yZy1kYS1hY2NvdW50cy5qcyIsIndlYnBhY2s6Ly8vLi9idWlsZC9zcmMvYWN0aW9ucy9nZXQtb3JnLW1lbWJlci1hY2NvdW50cy5qcyIsIndlYnBhY2s6Ly8vLi9idWlsZC9zcmMvYWN0aW9ucy9nZXQtb3JnLW91cy5qcyIsIndlYnBhY2s6Ly8vLi9idWlsZC9zcmMvYWN0aW9ucy9jcmVhdGUtYmFja2xvZy5qcyIsIndlYnBhY2s6Ly8vLi9idWlsZC9zcmMvYWN0aW9ucy9jcmVhdGUtamlyYWltcG9ydC5qcyIsIndlYnBhY2s6Ly8vLi9idWlsZC9zcmMvYWN0aW9ucy9jcmVhdGUtYXNhbmFpbXBvcnQuanMiLCJ3ZWJwYWNrOi8vLy4vYnVpbGQvc3JjL2FjdGlvbnMvemlwLWFzc2Vzc21lbnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IHJlcXVpcmUoXCJAYXdzLXNkay9jbGllbnQtc3RzXCIpOyIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSByZXF1aXJlKFwiQGF3cy1zZGsvY2xpZW50LW9yZ2FuaXphdGlvbnNcIik7IiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IHJlcXVpcmUoXCJAYXdzLXNkay9jbGllbnQtaWFtXCIpOyIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSByZXF1aXJlKFwiQGF3cy1zZGsvY2xpZW50LWNsb3VkZm9ybWF0aW9uXCIpOyIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSByZXF1aXJlKFwiQGF3cy1zZGsvY2xpZW50LXNzby1hZG1pblwiKTsiLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gcmVxdWlyZShcIkBhd3Mtc2RrL2NsaWVudC1lYzJcIik7IiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IHJlcXVpcmUoXCJAYXdzLXNkay9jbGllbnQtY2xvdWR0cmFpbFwiKTsiLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gcmVxdWlyZShcIkBhd3Mtc2RrL2NsaWVudC1jb25maWctc2VydmljZVwiKTsiLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gcmVxdWlyZShcIkBhd3Mtc2RrL2NsaWVudC1jb250cm9sdG93ZXJcIik7IiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IHJlcXVpcmUoXCJAYXdzLXNkay9jbGllbnQtY29zdC1hbmQtdXNhZ2UtcmVwb3J0LXNlcnZpY2VcIik7IiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IHJlcXVpcmUoXCJub2RlOmNvbnNvbGVcIik7IiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IHJlcXVpcmUoXCJub2RlOnN0cmVhbVwiKTsiLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gcmVxdWlyZShcImZzXCIpOyIsImltcG9ydCB7IENvbnNvbGUgfSBmcm9tICdub2RlOmNvbnNvbGUnO1xuaW1wb3J0IHsgVHJhbnNmb3JtIH0gZnJvbSAnbm9kZTpzdHJlYW0nO1xuaW1wb3J0ICogYXMgZnMgZnJvbSAnZnMnO1xuY29uc3QgdHMgPSBuZXcgVHJhbnNmb3JtKHsgdHJhbnNmb3JtKGNodW5rLCBlbmMsIGNiKSB7IGNiKG51bGwsIGNodW5rKTsgfSB9KTtcbmNvbnN0IGxvZ2dlciA9IG5ldyBDb25zb2xlKHsgc3Rkb3V0OiB0cyB9KTtcbmZ1bmN0aW9uIGdldFRhYmxlKGRhdGEpIHtcbiAgICBsb2dnZXIudGFibGUoZGF0YSk7XG4gICAgcmV0dXJuICh0cy5yZWFkKCkgfHwgJycpLnRvU3RyaW5nKCk7XG59XG5hc3luYyBmdW5jdGlvbiBjcmVhdGVSZXBvcnQoYXNzZXNzbWVudCkge1xuICAgIGxldCB0YXNrcyA9IFtdO1xuICAgIGxldCBkYXRlVGltZSA9IG5ldyBEYXRlKCk7XG4gICAgY29uc3QgcmVwb3J0RmlsZSA9IFwiLi9jZmF0LnR4dFwiO1xuICAgIGxldCByZXBvcnQgPSBcIkNsb3VkIEZvdW5kYXRpb24gQXNzZXNzbWVudCBUb29sXCI7XG4gICAgcmVwb3J0ICs9IGBcXG5HZW5lcmF0ZWQgb246ICR7ZGF0ZVRpbWUudG9VVENTdHJpbmcoKX0gXFxuXFxuYDtcbiAgICBsZXQgc2NvcmUgPSAwO1xuICAgIGxldCB0b3RhbFJlcXVpcmVkTG9lID0gMDtcbiAgICBsZXQgdG90YWxTY29yZSA9IDA7XG4gICAgbGV0IGNmYXRTdGF0dXMgPSBcIkNPTVBMRVRFXCI7XG4gICAgaWYgKGFzc2Vzc21lbnQuY2ZhdENoZWNrcyAmJiBhc3Nlc3NtZW50LmNmYXRDaGVja3MubGVuZ3RoID4gMCkge1xuICAgICAgICByZXBvcnQgKz0gYFxcbkluY29tcGxldGUgUmVxdWlyZW1lbnRzOmA7XG4gICAgICAgIGZvciAoY29uc3QgY2hlY2sgb2YgYXNzZXNzbWVudC5jZmF0Q2hlY2tzKSB7XG4gICAgICAgICAgICB0b3RhbFNjb3JlICs9IGNoZWNrLndlaWdodDtcbiAgICAgICAgICAgIGlmIChjaGVjay5yZXF1aXJlZCA9PT0gdHJ1ZSAmJiBjaGVjay5zdGF0dXMgPT09ICdpbmNvbXBsZXRlJykge1xuICAgICAgICAgICAgICAgIHJlcG9ydCArPSBgXFxuICAgIElOQ09NUExFVEU6ICR7Y2hlY2suY2hlY2t9YDtcbiAgICAgICAgICAgICAgICB0b3RhbFJlcXVpcmVkTG9lICs9IGNoZWNrLmxvZTtcbiAgICAgICAgICAgICAgICBjZmF0U3RhdHVzID0gXCJJTkNPTVBMRVRFXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2hlY2suc3RhdHVzID09PSAnY29tcGxldGUnKSB7XG4gICAgICAgICAgICAgICAgc2NvcmUgKz0gY2hlY2sud2VpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJlcG9ydCArPSBgXFxuXFxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XFxuYDtcbiAgICAgICAgcmVwb3J0ICs9IGBcXG5Gb3VuZGF0aW9uIFN0YXR1czogJHtjZmF0U3RhdHVzfWA7XG4gICAgICAgIGlmIChjZmF0U3RhdHVzID09PSBcIklOQ09NUExFVEVcIikge1xuICAgICAgICAgICAgcmVwb3J0ICs9IGBcXG5Fc3RpbWF0ZSBvZiBSZXF1aXJlZCBMZXZlbCBvZiBFZmZvcnQgKExPRSk6ICR7dG90YWxSZXF1aXJlZExvZX0gaG91cnNgO1xuICAgICAgICB9XG4gICAgICAgIHJlcG9ydCArPSBgXFxuQ0ZBVCBTY29yZTogJHtzY29yZX0gb3V0IG9mICR7dG90YWxTY29yZX1gO1xuICAgICAgICByZXBvcnQgKz0gYFxcblxcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxcbmA7XG4gICAgICAgIHJlcG9ydCArPSBgXFxuRm91bmRhdGlvbiBDaGVja3M6XFxuYDtcbiAgICAgICAgaWYgKGFzc2Vzc21lbnQuY2ZhdENoZWNrcyAmJiBhc3Nlc3NtZW50LmNmYXRDaGVja3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3Qgc3RyVGFibGUgPSBnZXRUYWJsZShhc3Nlc3NtZW50LmNmYXRDaGVja3MpO1xuICAgICAgICAgICAgcmVwb3J0ICs9IGAke3N0clRhYmxlfWA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVwb3J0ICs9IGBcXG5cXG5TdGFydCBEZXRhaWxlZCBSZXBvcnQ6XFxuXFxuYDtcbiAgICByZXBvcnQgKz0gYFxcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKmA7XG4gICAgcmVwb3J0ICs9IGBcXG4gICAgICAgICAgICAgICAgICAgTUFOQUdFTUVOVCBBQ0NPVU5UYDtcbiAgICByZXBvcnQgKz0gYFxcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKmA7XG4gICAgcmVwb3J0ICs9IGBcXG5cXG5BV1MgQUNDT1VOVCBUWVBFXFxuYDtcbiAgICByZXBvcnQgKz0gYFxcbiAgSXMgaW4gQVdTIE9yZ2FuaXphdGlvbjogJHthc3Nlc3NtZW50Lm9yZ2FuaXphdGlvbkRlcGxveX1gO1xuICAgIHJlcG9ydCArPSBgXFxuICBBc3Nlc3NpbmcgQVdTIE1hbmFnZW1lbnQgQWNjb3VudDogJHthc3Nlc3NtZW50Lm1hbmFnZW1lbnRBY2NvdW50fWA7XG4gICAgcmVwb3J0ICs9IGBcXG5cXG5JQU0gVVNFUlMgQ0hFQ0tcXG5gO1xuICAgIGlmIChhc3Nlc3NtZW50LmlhbVVzZXJDaGVja3MgJiYgYXNzZXNzbWVudC5pYW1Vc2VyQ2hlY2tzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZm9yIChjb25zdCBpYW1Vc2VyIG9mIGFzc2Vzc21lbnQuaWFtVXNlckNoZWNrcykge1xuICAgICAgICAgICAgcmVwb3J0ICs9IGBcXG4gIElBTSBVc2VyOiAke2lhbVVzZXIudXNlck5hbWV9YDtcbiAgICAgICAgICAgIGlmIChpYW1Vc2VyLmFjY2Vzc0tleUlkKSB7XG4gICAgICAgICAgICAgICAgcmVwb3J0ICs9IGBcXG4gICAgVXNlciBBUEkgS2V5IElEOiAke2lhbVVzZXIuYWNjZXNzS2V5SWR9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlcG9ydCArPSBgXFxuYDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmVwb3J0ICs9IGBcXG4gIE5vIElBTSBVc2VycyBmb3VuZC5gO1xuICAgIH1cbiAgICByZXBvcnQgKz0gYFxcblxcbkVDMiBJTlNUQU5DRSBDSEVDS1xcbmA7XG4gICAgaWYgKGFzc2Vzc21lbnQuZWMyQ2hlY2tzICYmIGFzc2Vzc21lbnQuZWMyQ2hlY2tzLmZpbmQocGFyYW0gPT4gcGFyYW0uZWMyRm91bmQgPT09IHRydWUpKSB7XG4gICAgICAgIGZvciAoY29uc3QgZWMyIG9mIGFzc2Vzc21lbnQuZWMyQ2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoZWMyLmVjMkZvdW5kKSB7XG4gICAgICAgICAgICAgICAgcmVwb3J0ICs9IGBcXG4gICR7ZWMyLnJlZ2lvbn0gLSBmb3VuZCBFQzIgSW5zdGFuY2UocykuYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmVwb3J0ICs9IGBcXG4gIE5vIEVDMiBpbnN0YW5jZXMgZm91bmQuYDtcbiAgICB9XG4gICAgcmVwb3J0ICs9IGBcXG5cXG5WUEMgQ0hFQ0tcXG5gO1xuICAgIGlmIChhc3Nlc3NtZW50LnZwY0NoZWNrcyAmJiBhc3Nlc3NtZW50LnZwY0NoZWNrcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGZvciAoY29uc3QgdnBjRmluZCBvZiBhc3Nlc3NtZW50LnZwY0NoZWNrcykge1xuICAgICAgICAgICAgaWYgKHZwY0ZpbmQudnBjRm91bmQpIHtcbiAgICAgICAgICAgICAgICByZXBvcnQgKz0gYFxcbiAgJHt2cGNGaW5kLnJlZ2lvbn0gLSBmb3VuZCBWUEMocykuYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmVwb3J0ICs9IGBcXG4gIE5vIFZQQ3MgZm91bmQuYDtcbiAgICB9XG4gICAgcmVwb3J0ICs9IGBcXG5cXG5BV1MgQ09ORklHIENIRUNLXFxuYDtcbiAgICBpZiAoYXNzZXNzbWVudC5jb25maWdEZXRhaWxzICYmIGFzc2Vzc21lbnQuY29uZmlnRGV0YWlscy5maW5kKHBhcmFtID0+IHBhcmFtLmNvbmZpZ1JlY29yZGVyRm91bmQgPT09IHRydWUpKSB7XG4gICAgICAgIGZvciAoY29uc3QgY29uZmlnRmluZCBvZiBhc3Nlc3NtZW50LmNvbmZpZ0RldGFpbHMpIHtcbiAgICAgICAgICAgIGlmIChjb25maWdGaW5kLmNvbmZpZ1JlY29yZGVyRm91bmQpIHtcbiAgICAgICAgICAgICAgICByZXBvcnQgKz0gYFxcbiAgJHtjb25maWdGaW5kLnJlZ2lvbn0gLSBDb25maWcgUmVjb3JkZXIgZm91bmRgO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvbmZpZ0ZpbmQuY29uZmlnRGVsaXZlcnlDaGFubmVsRm91bmQpIHtcbiAgICAgICAgICAgICAgICByZXBvcnQgKz0gYFxcbiAgJHtjb25maWdGaW5kLnJlZ2lvbn0gLSBDb25maWcgRGVsaXZlcnkgQ2hhbm5lbCBmb3VuZGA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJlcG9ydCArPSBgXFxuICBObyBBV1MgQ29uZmlnIHJlc291cmNlIGRpc2NvdmVyZWRgO1xuICAgIH1cbiAgICByZXBvcnQgKz0gYFxcblxcbk1BTkFHRU1FTlQgQUNDT1VOVCBUQVNLUzpgO1xuICAgIGNvbnN0IG1hQ2F0ZWdvcnkgPSBcIk1hbmFnZW1lbnQgQWNjb3VudFwiO1xuICAgIGlmIChhc3Nlc3NtZW50LmlhbVVzZXJDaGVja3MgJiYgYXNzZXNzbWVudC5pYW1Vc2VyQ2hlY2tzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZm9yIChjb25zdCBpYW1Vc2VyIG9mIGFzc2Vzc21lbnQuaWFtVXNlckNoZWNrcykge1xuICAgICAgICAgICAgbGV0IGlhbVRhc2sgPSB7IHRpdGxlOiBgUmVtb3ZlIElBTSB1c2VyICR7aWFtVXNlci51c2VyTmFtZX1gLCBjYXRlZ29yeTogbWFDYXRlZ29yeSwgZGV0YWlsOiBgUmV2aWV3IGFuZCBkZXRlcm1pbmUgaWYgSUFNIHVzZXIgJHtpYW1Vc2VyLnVzZXJOYW1lfSBjYW4gYmUgZGVsZXRlZC5gIH07XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gYCR7aWFtVGFzay50aXRsZX0gLSAke2lhbVRhc2suY2F0ZWdvcnl9IC0gJHtpYW1UYXNrLmRldGFpbH1gO1xuICAgICAgICAgICAgdGFza3MucHVzaChpYW1UYXNrKTtcbiAgICAgICAgICAgIHJlcG9ydCArPSBgXFxuICAke21lc3NhZ2V9YDtcbiAgICAgICAgICAgIGlmIChpYW1Vc2VyLmFjY2Vzc0tleUlkKSB7XG4gICAgICAgICAgICAgICAgbGV0IGlhbUFwaVRhc2sgPSB7IHRpdGxlOiBgUmVtb3ZlIElBTSB1c2VyICR7aWFtVXNlci51c2VyTmFtZX0gQVBJIGtleSAke2lhbVVzZXIuYWNjZXNzS2V5SWR9IGAsIGNhdGVnb3J5OiBtYUNhdGVnb3J5LCBkZXRhaWw6IGBSZXZpZXcgYW5kIGRldGVybWluZSBpZiBJQU0gdXNlciBBUEkga2V5ICR7aWFtVXNlci5hY2Nlc3NLZXlJZH0gZm9yICR7aWFtVXNlci51c2VyTmFtZX0gY2FuIGJlIHJlbW92ZWQuYCB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBgJHtpYW1BcGlUYXNrLnRpdGxlfSAtICR7aWFtQXBpVGFzay5jYXRlZ29yeX0gLSAke2lhbUFwaVRhc2suZGV0YWlsfWA7XG4gICAgICAgICAgICAgICAgcmVwb3J0ICs9IGBcXG4gICR7bWVzc2FnZX1gO1xuICAgICAgICAgICAgICAgIHRhc2tzLnB1c2goaWFtQXBpVGFzayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGFzc2Vzc21lbnQuZWMyQ2hlY2tzICYmIGFzc2Vzc21lbnQuZWMyQ2hlY2tzLmZpbmQocGFyYW0gPT4gcGFyYW0uZWMyRm91bmQgPT09IHRydWUpKSB7XG4gICAgICAgIGZvciAoY29uc3QgZWMyIG9mIGFzc2Vzc21lbnQuZWMyQ2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoZWMyLmVjMkZvdW5kICYmIGVjMi5yZWdpb24pIHtcbiAgICAgICAgICAgICAgICBsZXQgZWMyVGFzayA9IHsgdGl0bGU6IGBEZWxldGUgRUMyIGluc3RhbmNlIGluICR7ZWMyLnJlZ2lvbn1gLCBjYXRlZ29yeTogbWFDYXRlZ29yeSwgZGV0YWlsOiBgRGVsZXRlIGFueSB1bm5lY2Vzc2FyeSBFQzIgaW5zdGFuY2UgaW4gJHtlYzIucmVnaW9ufWAgfTtcbiAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gYCR7ZWMyVGFzay50aXRsZX0gLSAke2VjMlRhc2suY2F0ZWdvcnl9IC0gJHtlYzJUYXNrLmRldGFpbH1gO1xuICAgICAgICAgICAgICAgIHJlcG9ydCArPSBgXFxuICAke21lc3NhZ2V9YDtcbiAgICAgICAgICAgICAgICB0YXNrcy5wdXNoKGVjMlRhc2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChhc3Nlc3NtZW50LnZwY0NoZWNrcyAmJiBhc3Nlc3NtZW50LnZwY0NoZWNrcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGZvciAoY29uc3QgdnBjRmluZCBvZiBhc3Nlc3NtZW50LnZwY0NoZWNrcykge1xuICAgICAgICAgICAgaWYgKHZwY0ZpbmQudnBjRm91bmQgJiYgdnBjRmluZC5yZWdpb24pIHtcbiAgICAgICAgICAgICAgICBsZXQgdnBjVGFzayA9IHsgdGl0bGU6IGBEZWxldGUgVlBDIGluICR7dnBjRmluZC5yZWdpb259YCwgY2F0ZWdvcnk6IG1hQ2F0ZWdvcnksIGRldGFpbDogYERlbGV0ZSBhbnkgdW5uZWNlc3NhcnkgVlBDIGluICR7dnBjRmluZC5yZWdpb259IHRvIGluY2x1ZGUgdGhlIGRlZmF1bHQgVlBDLmAgfTtcbiAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gYCR7dnBjVGFzay50aXRsZX0gLSAke3ZwY1Rhc2suY2F0ZWdvcnl9IC0gJHt2cGNUYXNrLmRldGFpbH1gO1xuICAgICAgICAgICAgICAgIHJlcG9ydCArPSBgXFxuICAke21lc3NhZ2V9YDtcbiAgICAgICAgICAgICAgICB0YXNrcy5wdXNoKHZwY1Rhc2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJlcG9ydCArPSBgXFxuXFxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqYDtcbiAgICByZXBvcnQgKz0gYFxcbiAgICAgICAgICAgICAgICAgICAgR09WRVJOQU5DRWA7XG4gICAgcmVwb3J0ICs9IGBcXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipgO1xuICAgIHJlcG9ydCArPSBgXFxuXFxuQVdTIE9SR0FOSVpBVElPTiBQT0xJQ1kgVFlQRVNcXG5gO1xuICAgIHJlcG9ydCArPSBgXFxuICBTZXJ2aWNlIENvbnRyb2wgUG9saWNpZXMgKFNDUCkgZW5hYmxlZDogJHthc3Nlc3NtZW50LnNjcEVuYWJsZWR9YDtcbiAgICByZXBvcnQgKz0gYFxcbiAgVGFnIFBvbGljaWVzIGVuYWJsZWQ6ICR7YXNzZXNzbWVudC50YWdQb2xpY3lFbmFibGVkfWA7XG4gICAgcmVwb3J0ICs9IGBcXG4gIEJhY2t1cCBQb2xpY2llcyBlbmFibGVkOiAke2Fzc2Vzc21lbnQuYmFja3VwUG9saWN5RW5hYmxlZH1gO1xuICAgIHJlcG9ydCArPSBgXFxuXFxuQVdTIE9SR0FOSVpBVElPTiBDTE9VREZPUk1BVElPTlxcbmA7XG4gICAgcmVwb3J0ICs9IGBcXG4gIEFXUyBDbG91ZEZvcm1hdGlvbiBPcmdhbml6YXRpb24gc3RhY2sgc2V0cyBzdGF0dXMgOiAke2Fzc2Vzc21lbnQub3JnQ2xvdWRGb3JtYXRpb25TdGF0dXN9YDtcbiAgICByZXBvcnQgKz0gYFxcblxcbkNMT1VEVFJBSUwgQ0hFQ0tcXG5gO1xuICAgIGlmIChhc3Nlc3NtZW50LmNsb3VkVHJhaWxEZXRhaWxzICYmIGFzc2Vzc21lbnQuY2xvdWRUcmFpbERldGFpbHMubGVuZ3RoID4gMCkge1xuICAgICAgICBmb3IgKGNvbnN0IGN0RmluZCBvZiBhc3Nlc3NtZW50LmNsb3VkVHJhaWxEZXRhaWxzKSB7XG4gICAgICAgICAgICBpZiAoY3RGaW5kLnRyYWlsRm91bmQpIHtcbiAgICAgICAgICAgICAgICByZXBvcnQgKz0gYFxcbiAgQ2xvdWRUcmFpbCBmb3VuZCBpbiAke2N0RmluZC5yZWdpb259YDtcbiAgICAgICAgICAgICAgICByZXBvcnQgKz0gYFxcbiAgICBJcyBPcmdhbml6YXRpb24gVHJhaWw6ICR7Y3RGaW5kLmlzT3JnVHJhaWx9YDtcbiAgICAgICAgICAgICAgICByZXBvcnQgKz0gYFxcbiAgICBJcyBNdWx0aVJlZ2lvbjogJHtjdEZpbmQuaXNNdWx0aVJlZ2lvbn1gO1xuICAgICAgICAgICAgICAgIHJlcG9ydCArPSBgXFxuYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmVwb3J0ICs9IGBcXG4gIE5vIEFXUyBDbG91ZFRyYWlsIHJlc291cmNlIGRpc2NvdmVyZWRgO1xuICAgIH1cbiAgICByZXBvcnQgKz0gYFxcblxcbkdPVkVSTkFOQ0UgU0VSVklDRVMgRU5BQkxFRCBJTiBBV1MgT1JHQU5JWkFUSU9OOlxcbmA7XG4gICAgaWYgKGFzc2Vzc21lbnQub3JnU2VydmljZXMpIHtcbiAgICAgICAgaWYgKGFzc2Vzc21lbnQub3JnU2VydmljZXMuZmluZChwYXJhbSA9PiBwYXJhbS5zZXJ2aWNlID09PSAnY2xvdWR0cmFpbC5hbWF6b25hd3MuY29tJykpIHtcbiAgICAgICAgICAgIHJlcG9ydCArPSBgXFxuICBBV1MgQ2xvdWRUcmFpbGA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFzc2Vzc21lbnQub3JnU2VydmljZXMuZmluZChwYXJhbSA9PiBwYXJhbS5zZXJ2aWNlID09PSAnY29uZmlnLmFtYXpvbmF3cy5jb20nKSkge1xuICAgICAgICAgICAgcmVwb3J0ICs9IGBcXG4gIEFXUyBDb25maWdgO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXBvcnQgKz0gYFxcbiAgTm8gZ292ZXJuYW5jZSBzZXJ2aWNlIGVuYWJsZWRgO1xuICAgIH1cbiAgICAvLy8vLyBTRVQgVEhFIEJBQ0tMT0cgVEFTSyBGT1IgR09WRVJOQU5DRSAvLy8vL1xuICAgIHJlcG9ydCArPSBgXFxuXFxuR09WRVJOQU5DRSBUQVNLUzpgO1xuICAgIGNvbnN0IGdvdkNhdGVnb3J5ID0gXCJHb3Zlcm5hbmNlXCI7XG4gICAgaWYgKCFhc3Nlc3NtZW50Lm9yZ1NlcnZpY2VzIHx8ICFhc3Nlc3NtZW50Lm9yZ1NlcnZpY2VzLmZpbmQocGFyYW0gPT4gcGFyYW0uc2VydmljZSA9PT0gJ2Nsb3VkdHJhaWwuYW1hem9uYXdzLmNvbScpKSB7XG4gICAgICAgIGNvbnN0IGN0T3JnU2VydmljZVRhc2sgPSB7IHRpdGxlOiAnRW5hYmxlIEFXUyBDbG91ZFRyYWlsJywgY2F0ZWdvcnk6IGdvdkNhdGVnb3J5LCBkZXRhaWw6IGBFbmFibGUgQVdTIENsb3VkVHJhaWwgaW4gQVdTIE9yZ2FuaXphdGlvbmAgfTtcbiAgICAgICAgdGFza3MucHVzaChjdE9yZ1NlcnZpY2VUYXNrKTtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGAke2N0T3JnU2VydmljZVRhc2sudGl0bGV9IC0gJHtjdE9yZ1NlcnZpY2VUYXNrLmNhdGVnb3J5fSAtICR7Y3RPcmdTZXJ2aWNlVGFzay5kZXRhaWx9YDtcbiAgICAgICAgcmVwb3J0ICs9IGBcXG4gICR7bWVzc2FnZX1gO1xuICAgIH1cbiAgICBpZiAoIWFzc2Vzc21lbnQub3JnU2VydmljZXMgfHwgIWFzc2Vzc21lbnQub3JnU2VydmljZXMuZmluZChwYXJhbSA9PiBwYXJhbS5zZXJ2aWNlID09PSAnY29uZmlnLmFtYXpvbmF3cy5jb20nKSkge1xuICAgICAgICBjb25zdCBjb25maWdPcmdTZXJ2aWNlVGFzayA9IHsgdGl0bGU6ICdFbmFibGUgQVdTIENvbmZpZycsIGNhdGVnb3J5OiBnb3ZDYXRlZ29yeSwgZGV0YWlsOiBgRW5hYmxlIEFXUyBDb25maWcgaW4gQVdTIE9yZ2FuaXphdGlvbmAgfTtcbiAgICAgICAgdGFza3MucHVzaChjb25maWdPcmdTZXJ2aWNlVGFzayk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBgJHtjb25maWdPcmdTZXJ2aWNlVGFzay50aXRsZX0gLSAke2NvbmZpZ09yZ1NlcnZpY2VUYXNrLmNhdGVnb3J5fSAtICR7Y29uZmlnT3JnU2VydmljZVRhc2suZGV0YWlsfWA7XG4gICAgICAgIHJlcG9ydCArPSBgXFxuICAke21lc3NhZ2V9YDtcbiAgICB9XG4gICAgaWYgKCFhc3Nlc3NtZW50LnNjcEVuYWJsZWQpIHtcbiAgICAgICAgY29uc3Qgc2NwRW5hYmxlZFRhc2sgPSB7IHRpdGxlOiAnRW5hYmxlIFNDUCcsIGNhdGVnb3J5OiBnb3ZDYXRlZ29yeSwgZGV0YWlsOiBgRW5hYmxlIFNDUCBpbiBBV1MgT3JnYW5pemF0aW9uYCB9O1xuICAgICAgICB0YXNrcy5wdXNoKHNjcEVuYWJsZWRUYXNrKTtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGAke3NjcEVuYWJsZWRUYXNrLnRpdGxlfSAtICR7c2NwRW5hYmxlZFRhc2suY2F0ZWdvcnl9IC0gJHtzY3BFbmFibGVkVGFzay5kZXRhaWx9YDtcbiAgICAgICAgcmVwb3J0ICs9IGBcXG4gICR7bWVzc2FnZX1gO1xuICAgIH1cbiAgICBpZiAoIWFzc2Vzc21lbnQudGFnUG9saWN5RW5hYmxlZCkge1xuICAgICAgICBsZXQgdGFnUG9saWN5RW5hYmxlZFRhc2sgPSB7IHRpdGxlOiAnRW5hYmxlIFRhZyBQb2xpY3knLCBjYXRlZ29yeTogZ292Q2F0ZWdvcnksIGRldGFpbDogYEVuYWJsZSBUYWcgUG9saWN5IGluIEFXUyBPcmdhbml6YXRpb25gIH07XG4gICAgICAgIHRhc2tzLnB1c2godGFnUG9saWN5RW5hYmxlZFRhc2spO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gYCR7dGFnUG9saWN5RW5hYmxlZFRhc2sudGl0bGV9IC0gJHt0YWdQb2xpY3lFbmFibGVkVGFzay5jYXRlZ29yeX0gLSAke3RhZ1BvbGljeUVuYWJsZWRUYXNrLmRldGFpbH1gO1xuICAgICAgICByZXBvcnQgKz0gYFxcbiAgJHttZXNzYWdlfWA7XG4gICAgfVxuICAgIGlmICghYXNzZXNzbWVudC5iYWNrdXBQb2xpY3lFbmFibGVkKSB7XG4gICAgICAgIGxldCBiYWNrdXBQb2xpY3lFbmFibGVkVGFzayA9IHsgdGl0bGU6ICdFbmFibGUgQmFja3VwIFBvbGljeScsIGNhdGVnb3J5OiBnb3ZDYXRlZ29yeSwgZGV0YWlsOiBgRW5hYmxlIEJhY2t1cCBQb2xpY3kgaW4gQVdTIE9yZ2FuaXphdGlvbmAgfTtcbiAgICAgICAgdGFza3MucHVzaChiYWNrdXBQb2xpY3lFbmFibGVkVGFzayk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBgJHtiYWNrdXBQb2xpY3lFbmFibGVkVGFzay50aXRsZX0gLSAke2JhY2t1cFBvbGljeUVuYWJsZWRUYXNrLmNhdGVnb3J5fSAtICR7YmFja3VwUG9saWN5RW5hYmxlZFRhc2suZGV0YWlsfWA7XG4gICAgICAgIHJlcG9ydCArPSBgXFxuICAke21lc3NhZ2V9YDtcbiAgICB9XG4gICAgcmVwb3J0ICs9IGBcXG5cXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipgO1xuICAgIHJlcG9ydCArPSBgXFxuICAgICAgICAgICAgICAgIEZJTkFOQ0lBTCBNQU5BR0VNRU5UYDtcbiAgICByZXBvcnQgKz0gYFxcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKmA7XG4gICAgcmVwb3J0ICs9IGBcXG5cXG5MZWdhY3kgQ1VSYDtcbiAgICByZXBvcnQgKz0gYFxcbiAgSXMgbGVnYWN5IENVUiBzZXR1cDogJHthc3Nlc3NtZW50LmlzTGVnYWN5Q3VyU2V0dXB9YDtcbiAgICByZXBvcnQgKz0gYFxcblxcbkNMT1VEIEZJTkFOQ0lBTCBNQU5BR0VNRU5UIFRBU0tTOmA7XG4gICAgY29uc3QgZmluQ2F0ZWdvcnkgPSBcIkNsb3VkIEZpbmFuY2lhbCBNYW5hZ2VtZW50XCI7XG4gICAgaWYgKCFhc3Nlc3NtZW50LmlzTGVnYWN5Q3VyU2V0dXApIHtcbiAgICAgICAgY29uc3QgbGVnYWN5Q3VyU2V0dXBUYXNrID0geyB0aXRsZTogJ1NldHVwIGxlZ2FjeSBDVVInLCBjYXRlZ29yeTogZmluQ2F0ZWdvcnksIGRldGFpbDogYFNldHVwIGxlZ2FjeSBDVVIgaW4gQVdTIE9yZ2FuaXphdGlvbmAgfTtcbiAgICAgICAgdGFza3MucHVzaChsZWdhY3lDdXJTZXR1cFRhc2spO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gYCR7bGVnYWN5Q3VyU2V0dXBUYXNrLnRpdGxlfSAtICR7bGVnYWN5Q3VyU2V0dXBUYXNrLmNhdGVnb3J5fSAtICR7bGVnYWN5Q3VyU2V0dXBUYXNrLmRldGFpbH1gO1xuICAgICAgICByZXBvcnQgKz0gYFxcbiAgJHttZXNzYWdlfWA7XG4gICAgfVxuICAgIHJlcG9ydCArPSBgXFxuXFxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqYDtcbiAgICByZXBvcnQgKz0gYFxcbiAgICAgICAgICAgICAgICBNVUxUSS1BQ0NPVU5UIFNUUkFURUdZYDtcbiAgICByZXBvcnQgKz0gYFxcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKmA7XG4gICAgcmVwb3J0ICs9IGBcXG5cXG5BV1MgT1JHQU5JWkFUSU9OIERFVEFJTFNcXG5gO1xuICAgIHJlcG9ydCArPSBgXFxuICBBV1MgT3JnYW5pemF0aW9uIElkOiAke2Fzc2Vzc21lbnQub3JnSWR9YDtcbiAgICByZXBvcnQgKz0gYFxcbiAgQVdTIE9yZ2FuaXphdGlvbiBBUk46ICR7YXNzZXNzbWVudC5vcmdBcm59YDtcbiAgICByZXBvcnQgKz0gYFxcbiAgQVdTIE9yZ2FuaXphdGlvbiBSb290IE9VIElkOiAke2Fzc2Vzc21lbnQub3JnUm9vdE91SWR9YDtcbiAgICByZXBvcnQgKz0gYFxcblxcbkFXUyBPUkdBTklaQVRJT04gQ0xPVURGT1JNQVRJT05cXG5gO1xuICAgIHJlcG9ydCArPSBgXFxuICBBV1MgQ2xvdWRGb3JtYXRpb24gT3JnYW5pemF0aW9uIHN0YWNrIHNldHMgc3RhdHVzIDogJHthc3Nlc3NtZW50Lm9yZ0Nsb3VkRm9ybWF0aW9uU3RhdHVzfWA7XG4gICAgbGV0IHRyYW5zaXRpb25hbEZvdW5kLCBzdXNwZW5kZWRGb3VuZCwgaW5mcmFzdHJ1Y3R1cmVGb3VuZCA9IGZhbHNlO1xuICAgIGxldCB3b3JrbG9hZHNGb3VuZCA9IGZhbHNlO1xuICAgIGxldCBzZWN1cml0eUZvdW5kID0gZmFsc2U7XG4gICAgaWYgKGFzc2Vzc21lbnQub3JnUm9vdE91SWQpIHtcbiAgICAgICAgcmVwb3J0ICs9IGBcXG5cXG5BV1MgT1JHQU5JWkFUSU9OIFRPUC1MRVZFTCBPUkdBTklaQVRJT04gVU5JVFNcXG5gO1xuICAgICAgICByZXBvcnQgKz0gYFxcbiAgTGlzdCBvZiBPcmdhbml6YXRpb24ncyB0b3AtbGV2ZWwgT1VzIGFuZCBBV1MgYWNjb3VudHM6YDtcbiAgICAgICAgaWYgKGFzc2Vzc21lbnQub3JnT3VJbmZvICYmIGFzc2Vzc21lbnQub3JnT3VJbmZvLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qgb3Ugb2YgYXNzZXNzbWVudC5vcmdPdUluZm8pIHtcbiAgICAgICAgICAgICAgICBpZiAob3UubmFtZT8udG9Mb3dlckNhc2UoKSA9PT0gJ3N1c3BlbmRlZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgc3VzcGVuZGVkRm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAob3UubmFtZT8udG9Mb3dlckNhc2UoKSA9PT0gJ3RyYW5zaXRpb25hbCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbmFsRm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAob3UubmFtZT8udG9Mb3dlckNhc2UoKSA9PT0gJ3dvcmtsb2FkcycpIHtcbiAgICAgICAgICAgICAgICAgICAgd29ya2xvYWRzRm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAob3UubmFtZT8udG9Mb3dlckNhc2UoKSA9PT0gJ3NlY3VyaXR5Jykge1xuICAgICAgICAgICAgICAgICAgICBzZWN1cml0eUZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG91Lm5hbWU/LnRvTG93ZXJDYXNlKCkgPT09ICdpbmZyYXN0cnVjdHVyZScpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5mcmFzdHJ1Y3R1cmVGb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlcG9ydCArPSBgXFxuICAgIE9yZ2FuaXphdGlvbmFsIFVuaXQ6ICR7b3UubmFtZX1gO1xuICAgICAgICAgICAgICAgIHJlcG9ydCArPSBgXFxuICAgICAgT3JnYW5pemF0aW9uYWwgVW5pdCBJZDogJHtvdS5pZH1gO1xuICAgICAgICAgICAgICAgIGlmIChvdS5hY2NvdW50cyAmJiBvdS5hY2NvdW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcG9ydCArPSBgXFxuICAgICAgQVdTIEFjY291bnRzOmA7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYWNjb3VudCBvZiBvdS5hY2NvdW50cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVwb3J0ICs9IGBcXG4gICAgICAgICR7YWNjb3VudC5OYW1lfWA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVwb3J0ICs9IGBcXG5gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVwb3J0ICs9IGBcXG4gICAgICBBV1MgQWNjb3VudHM6IE5vbmVgO1xuICAgICAgICAgICAgICAgICAgICByZXBvcnQgKz0gYFxcbmA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVwb3J0ICs9IGBcXG4gIE5vIHRvcCBsZXZlbCBPVXMgZm91bmQuYDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXBvcnQgKz0gYFxcblxcbkFXUyBPUkdBTklaQVRJT04gTUVNQkVSIEFDQ09VTlRTXFxuYDtcbiAgICBpZiAoYXNzZXNzbWVudC5vcmdNZW1iZXJBY2NvdW50cyAmJiBhc3Nlc3NtZW50Lm9yZ01lbWJlckFjY291bnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZm9yIChjb25zdCBtZW1iZXJBY2NvdW50IG9mIGFzc2Vzc21lbnQub3JnTWVtYmVyQWNjb3VudHMpIHtcbiAgICAgICAgICAgIHJlcG9ydCArPSBgXFxuICBBY2NvdW50OiAke21lbWJlckFjY291bnQuYWNjb3VudE5hbWV9YDtcbiAgICAgICAgICAgIHJlcG9ydCArPSBgXFxuICBBY2NvdW50IEVtYWlsOiAke21lbWJlckFjY291bnQuYWNjb3VudEVtYWlsfVxcbmA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJlcG9ydCArPSBgTm8gbWVtYmVyIGFjY291bnRzIGZvdW5kIHdoaWNoIGlzIGFtYXppbmcgYXMgdGhpcyBpcyBydW5uaW5nIGZyb20gb25lLmA7XG4gICAgfVxuICAgIHJlcG9ydCArPSBgXFxuXFxuQVdTIE9SR0FOSVpBVElPTiBFTkFCTEVEIFNFUlZJQ0VTXFxuYDtcbiAgICByZXBvcnQgKz0gYFxcbiAgVGhlIGZvbGxvd2luZyBBV1MgU2VydmljZXMgYXJlIGVuYWJsZWQgd2l0aGluIHlvdXIgQVdTIE9yZ2FuaXphdGlvbjpgO1xuICAgIGlmIChhc3Nlc3NtZW50Lm9yZ1NlcnZpY2VzICYmIGFzc2Vzc21lbnQub3JnU2VydmljZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBmb3IgKGNvbnN0IG9yZ1NlcnZpY2Ugb2YgYXNzZXNzbWVudC5vcmdTZXJ2aWNlcykge1xuICAgICAgICAgICAgcmVwb3J0ICs9IGBcXG4gICAgJHtvcmdTZXJ2aWNlLnNlcnZpY2V9YDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmVwb3J0ICs9IGBcXG4gICAgTm8gdHJ1c3RlZCBhY2Nlc3MgZW5hYmxlZCBpbiB0aGUgQVdTIE9yZ2FuaXphdGlvbmA7XG4gICAgfVxuICAgIGxldCBpZGVudGl0eURlbGVnYXRlZCA9IGZhbHNlO1xuICAgIGxldCBzZWN1cml0eUh1YkRlbGVnYXRlZCA9IGZhbHNlO1xuICAgIGxldCBndWFyZER1dHlEZWxlZ2F0ZWQgPSBmYWxzZTtcbiAgICBsZXQgY29uZmlnRGVsZWdhdGVkID0gZmFsc2U7XG4gICAgbGV0IGlhbUFjY2Vzc0FuYWx5emVyRGVsZWdhdGVkID0gZmFsc2U7XG4gICAgbGV0IHMzU3RvcmFnZUxlbnNEZWxlZ2F0ZWQgPSBmYWxzZTtcbiAgICBsZXQgaXBhbURlbGVnYXRlZCA9IGZhbHNlO1xuICAgIGxldCBhY2NvdW50RGVsZWdhdGVkID0gZmFsc2U7XG4gICAgbGV0IGJhY2t1cERlbGVnYXRlZCA9IGZhbHNlO1xuICAgIHJlcG9ydCArPSBgXFxuXFxuQVdTIE9SR0FOSVpBVElPTiBJTlRFR1JBVEVEIFNFUlZJQ0UgUkVHSVNURVJFRCBERUxFR0FURUQgQURNSU5TXFxuYDtcbiAgICBpZiAoYXNzZXNzbWVudC5vcmdEZWxlZ2F0ZWRBZG1pbkFjY291bnRzICYmIGFzc2Vzc21lbnQub3JnRGVsZWdhdGVkQWRtaW5BY2NvdW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGZvciAoY29uc3QgYWNjb3VudCBvZiBhc3Nlc3NtZW50Lm9yZ0RlbGVnYXRlZEFkbWluQWNjb3VudHMpIHtcbiAgICAgICAgICAgIHJlcG9ydCArPSBgXFxuICBBY2NvdW50OiAke2FjY291bnQuYWNjb3VudE5hbWV9YDtcbiAgICAgICAgICAgIGlmIChhY2NvdW50LnNlcnZpY2VzICYmIGFjY291bnQuc2VydmljZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHJlcG9ydCArPSBgXFxuICBEZWxlZ2F0ZWQgU2VydmljZXM6YDtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHNydiBvZiBhY2NvdW50LnNlcnZpY2VzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcG9ydCArPSBgXFxuICAgICR7c3J2LlNlcnZpY2VQcmluY2lwYWx9YDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNydi5TZXJ2aWNlUHJpbmNpcGFsID09PSAnc2VjdXJpdHlodWIuYW1hem9uYXdzLmNvbScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlY3VyaXR5SHViRGVsZWdhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoc3J2LlNlcnZpY2VQcmluY2lwYWwgPT09ICdndWFyZGR1dHkuYW1hem9uYXdzLmNvbScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGd1YXJkRHV0eURlbGVnYXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHNydi5TZXJ2aWNlUHJpbmNpcGFsID09PSAnc3NvLmFtYXpvbmF3cy5jb20nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZGVudGl0eURlbGVnYXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHNydi5TZXJ2aWNlUHJpbmNpcGFsID09PSAnY29uZmlnLmFtYXpvbmF3cy5jb20nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maWdEZWxlZ2F0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChzcnYuU2VydmljZVByaW5jaXBhbCA9PT0gJ2FjY2Vzcy1hbmFseXplci5hbWF6b25hd3MuY29tJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWFtQWNjZXNzQW5hbHl6ZXJEZWxlZ2F0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChzcnYuU2VydmljZVByaW5jaXBhbCA9PT0gJ3N0b3JhZ2UtbGVucy5zMy5hbWF6b25hd3MuY29tJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgczNTdG9yYWdlTGVuc0RlbGVnYXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHNydi5TZXJ2aWNlUHJpbmNpcGFsID09PSAnaXBhbS5hbWF6b25hd3MuY29tJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXBhbURlbGVnYXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHNydi5TZXJ2aWNlUHJpbmNpcGFsID09PSAnYWNjb3VudC5hbWF6b25hd3MuY29tJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudERlbGVnYXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHNydi5TZXJ2aWNlUHJpbmNpcGFsID09PSAnYmFja3VwLmFtYXpvbmF3cy5jb20nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrdXBEZWxlZ2F0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVwb3J0ICs9IGBcXG4gYDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmVwb3J0ICs9IGBcXG4gIE5vIGRlbGVnYXRlZCBhZG1pbiBhY2NvdW50cyBpbiBBV1MgT3JnYW5pemF0aW9uYDtcbiAgICB9XG4gICAgcmVwb3J0ICs9IGBcXG5cXG5NVUxUSS1BQ0NPVU5UIFNUUkFURUdZIFRBU0tTOmA7XG4gICAgbGV0IG1hc0NhdGVnb3J5ID0gJ011bHRpLUFjY291bnQgU3RyYXRlZ3knO1xuICAgIGNvbnN0IGFjY291bnRFbWFpbFJldmlld1Rhc2sgPSB7IHRpdGxlOiAnUmV2aWV3IEFjY291bnQgRW1haWwgQWRkcmVzc2VzJywgY2F0ZWdvcnk6IG1hc0NhdGVnb3J5LCBkZXRhaWw6IGBSZXZpZXcgQWNjb3VudCBFbWFpbCBBZGRyZXNzZXMgaW4gQVdTIE9yZ2FuaXphdGlvbmAgfTtcbiAgICBjb25zdCBtZXNzYWdlID0gYCR7YWNjb3VudEVtYWlsUmV2aWV3VGFzay50aXRsZX0gLSAke2FjY291bnRFbWFpbFJldmlld1Rhc2suY2F0ZWdvcnl9IC0gJHthY2NvdW50RW1haWxSZXZpZXdUYXNrLmRldGFpbH1gO1xuICAgIHJlcG9ydCArPSBgXFxuICAke21lc3NhZ2V9YDtcbiAgICBpZiAoIWFzc2Vzc21lbnQuc2NwRW5hYmxlZCkge1xuICAgICAgICBjb25zdCBzY3BFbmFibGVkVGFzayA9IHsgdGl0bGU6ICdFbmFibGUgU2VydmljZSBDb250cm9sIFBvbGljeScsIGNhdGVnb3J5OiBtYXNDYXRlZ29yeSwgZGV0YWlsOiBgRW5hYmxlIFNlcnZpY2UgQ29udHJvbCBQb2xpY3kgaW4gQVdTIE9yZ2FuaXphdGlvbmAgfTtcbiAgICAgICAgdGFza3MucHVzaChzY3BFbmFibGVkVGFzayk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBgJHtzY3BFbmFibGVkVGFzay50aXRsZX0gLSAke3NjcEVuYWJsZWRUYXNrLmNhdGVnb3J5fSAtICR7c2NwRW5hYmxlZFRhc2suZGV0YWlsfWA7XG4gICAgICAgIHJlcG9ydCArPSBgXFxuICAke21lc3NhZ2V9YDtcbiAgICB9XG4gICAgaWYgKCF0cmFuc2l0aW9uYWxGb3VuZCkge1xuICAgICAgICBjb25zdCB0cmFuc2l0aW9uYWxUYXNrID0geyB0aXRsZTogJ0RlcGxveSBUcmFuc2l0aW9uYWwgT1UnLCBjYXRlZ29yeTogbWFzQ2F0ZWdvcnksIGRldGFpbDogYERlcGxveSBUcmFuc2l0aW9uYWwgT1UgaW4gQVdTIE9yZ2FuaXphdGlvbmAgfTtcbiAgICAgICAgdGFza3MucHVzaCh0cmFuc2l0aW9uYWxUYXNrKTtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGAke3RyYW5zaXRpb25hbFRhc2sudGl0bGV9IC0gJHt0cmFuc2l0aW9uYWxUYXNrLmNhdGVnb3J5fSAtICR7dHJhbnNpdGlvbmFsVGFzay5kZXRhaWx9YDtcbiAgICAgICAgcmVwb3J0ICs9IGBcXG4gICR7bWVzc2FnZX1gO1xuICAgIH1cbiAgICBpZiAoIXN1c3BlbmRlZEZvdW5kKSB7XG4gICAgICAgIGNvbnN0IHN1c3BlbmRlZFRhc2sgPSB7IHRpdGxlOiAnRGVwbG95IFN1c3BlbmRlZCBPVScsIGNhdGVnb3J5OiBtYXNDYXRlZ29yeSwgZGV0YWlsOiBgRGVwbG95IFN1c3BlbmRlZCBPVSBpbiBBV1MgT3JnYW5pemF0aW9uYCB9O1xuICAgICAgICB0YXNrcy5wdXNoKHN1c3BlbmRlZFRhc2spO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gYCR7c3VzcGVuZGVkVGFzay50aXRsZX0gLSAke3N1c3BlbmRlZFRhc2suY2F0ZWdvcnl9IC0gJHtzdXNwZW5kZWRUYXNrLmRldGFpbH1gO1xuICAgICAgICByZXBvcnQgKz0gYFxcbiAgJHttZXNzYWdlfWA7XG4gICAgfVxuICAgIGlmICghd29ya2xvYWRzRm91bmQpIHtcbiAgICAgICAgY29uc3Qgd29ya2xvYWRzVGFzayA9IHsgdGl0bGU6ICdEZXBsb3kgV29ya2xvYWRzIE9VJywgY2F0ZWdvcnk6IG1hc0NhdGVnb3J5LCBkZXRhaWw6IGBEZXBsb3kgV29ya2xvYWRzIE9VIGluIEFXUyBPcmdhbml6YXRpb25gIH07XG4gICAgICAgIHRhc2tzLnB1c2god29ya2xvYWRzVGFzayk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBgJHt3b3JrbG9hZHNUYXNrLnRpdGxlfSAtICR7d29ya2xvYWRzVGFzay5jYXRlZ29yeX0gLSAke3dvcmtsb2Fkc1Rhc2suZGV0YWlsfWA7XG4gICAgICAgIHJlcG9ydCArPSBgXFxuICAke21lc3NhZ2V9YDtcbiAgICB9XG4gICAgaWYgKCFzZWN1cml0eUZvdW5kKSB7XG4gICAgICAgIGNvbnN0IHNlY3VyaXR5VGFzayA9IHsgdGl0bGU6ICdEZXBsb3kgU2VjdXJpdHkgT1UnLCBjYXRlZ29yeTogbWFzQ2F0ZWdvcnksIGRldGFpbDogYERlcGxveSBTZWN1cml0eSBPVSBpbiBBV1MgT3JnYW5pemF0aW9uYCB9O1xuICAgICAgICB0YXNrcy5wdXNoKHNlY3VyaXR5VGFzayk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBgJHtzZWN1cml0eVRhc2sudGl0bGV9IC0gJHtzZWN1cml0eVRhc2suY2F0ZWdvcnl9IC0gJHtzZWN1cml0eVRhc2suZGV0YWlsfWA7XG4gICAgICAgIHJlcG9ydCArPSBgXFxuICAke21lc3NhZ2V9YDtcbiAgICB9XG4gICAgaWYgKCFpbmZyYXN0cnVjdHVyZUZvdW5kKSB7XG4gICAgICAgIGNvbnN0IGluZnJhc3RydWN0dXJlVGFzayA9IHsgdGl0bGU6ICdEZXBsb3kgSW5mcmFzdHJ1Y3R1cmUgT1UnLCBjYXRlZ29yeTogbWFzQ2F0ZWdvcnksIGRldGFpbDogYERlcGxveSBJbmZyYXN0cnVjdHVyZSBPVSBpbiBBV1MgT3JnYW5pemF0aW9uYCB9O1xuICAgICAgICB0YXNrcy5wdXNoKGluZnJhc3RydWN0dXJlVGFzayk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBgJHtpbmZyYXN0cnVjdHVyZVRhc2sudGl0bGV9IC0gJHtpbmZyYXN0cnVjdHVyZVRhc2suY2F0ZWdvcnl9IC0gJHtpbmZyYXN0cnVjdHVyZVRhc2suZGV0YWlsfWA7XG4gICAgICAgIHJlcG9ydCArPSBgXFxuICAke21lc3NhZ2V9YDtcbiAgICB9XG4gICAgcmVwb3J0ICs9IGBcXG5cXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipgO1xuICAgIHJlcG9ydCArPSBgXFxuICAgICAgICAgICAgICAgICAgTEFORElORyBaT05FYDtcbiAgICByZXBvcnQgKz0gYFxcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKmA7XG4gICAgcmVwb3J0ICs9IGBcXG5cXG5BV1MgQ09OVFJPTCBUT1dFUlxcbmA7XG4gICAgaWYgKGFzc2Vzc21lbnQuY29udHJvbFRvd2VyUmVnaW9uKSB7XG4gICAgICAgIHJlcG9ydCArPSBgXFxuICBDb250cm9sIFRvd2VyIGhvbWUgcmVnaW9uOiAke2Fzc2Vzc21lbnQuY29udHJvbFRvd2VyUmVnaW9ufWA7XG4gICAgICAgIHJlcG9ydCArPSBgXFxuICBDb250cm9sIFRvd2VyIHN0YXR1czogJHthc3Nlc3NtZW50LmNvbnRyb2xUb3dlclN0YXR1c31gO1xuICAgICAgICByZXBvcnQgKz0gYFxcbiAgQ29udHJvbCBUb3dlciBMYW5kaW5nIFpvbmUgdmVyc2lvbjogJHthc3Nlc3NtZW50LmNvbnRyb2xUb3dlckRlcGxveWVkVmVyc2lvbn1gO1xuICAgICAgICByZXBvcnQgKz0gYFxcbiAgTGF0ZXN0IGF2YWlsYWJsZSB2ZXJzaW9uOiAke2Fzc2Vzc21lbnQuY29udHJvbFRvd2VyTGF0ZXN0QXZhaWxhYmxlVmVyc2lvbn1gO1xuICAgICAgICByZXBvcnQgKz0gYFxcbiAgRHJpZnQgU3RhdHVzOiAke2Fzc2Vzc21lbnQuY29udHJvbFRvd2VyRHJpZnRTdGF0dXN9YDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJlcG9ydCArPSBgXFxuICBBV1MgQ29udHJvbCBUb3dlciBpcyBub3QgZGVwbG95ZWQgaW4gdGhlIEFXUyBPcmdhbml6YXRpb25gO1xuICAgIH1cbiAgICByZXBvcnQgKz0gYFxcblxcbkxBTkRJTkcgWk9ORSBUQVNLUzpgO1xuICAgIGxldCBselRhc2tOdW1iZXIgPSAxO1xuICAgIGNvbnN0IGx6V2F5cG9pbnQgPSBcIkxhbmRpbmcgWm9uZVwiO1xuICAgIGlmIChhc3Nlc3NtZW50LmNvbnRyb2xUb3dlclJlZ2lvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IGRlcGxveUNvbnRyb2xUb3dlclRhc2sgPSB7IHRpdGxlOiAnRGVwbG95IEFXUyBDb250cm9sIFRvd2VyJywgY2F0ZWdvcnk6IGx6V2F5cG9pbnQsIGRldGFpbDogYERlcGxveSBBV1MgQ29udHJvbCBUb3dlciBpbiBBV1MgT3JnYW5pemF0aW9uYCB9O1xuICAgICAgICB0YXNrcy5wdXNoKGRlcGxveUNvbnRyb2xUb3dlclRhc2spO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gYCR7ZGVwbG95Q29udHJvbFRvd2VyVGFzay50aXRsZX0gLSAke2RlcGxveUNvbnRyb2xUb3dlclRhc2suY2F0ZWdvcnl9IC0gJHtkZXBsb3lDb250cm9sVG93ZXJUYXNrLmRldGFpbH1gO1xuICAgICAgICByZXBvcnQgKz0gYFxcbiAgJHttZXNzYWdlfWA7XG4gICAgfVxuICAgIGlmIChhc3Nlc3NtZW50LmNvbnRyb2xUb3dlckRyaWZ0U3RhdHVzID09PSAnRFJJRlRFRCcpIHtcbiAgICAgICAgY29uc3QgZml4THpEcmlmdFRhc2sgPSB7IHRpdGxlOiAnRml4IGRyaWZ0IGluIGRlcGxveWVkIGxhbmRpbmcgem9uZScsIGNhdGVnb3J5OiBseldheXBvaW50LCBkZXRhaWw6IGBGaXggZHJpZnQgaW4gZGVwbG95ZWQgbGFuZGluZyB6b25lYCB9O1xuICAgICAgICB0YXNrcy5wdXNoKGZpeEx6RHJpZnRUYXNrKTtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGAke2ZpeEx6RHJpZnRUYXNrLnRpdGxlfSAtICR7Zml4THpEcmlmdFRhc2suY2F0ZWdvcnl9IC0gJHtmaXhMekRyaWZ0VGFzay5kZXRhaWx9YDtcbiAgICAgICAgcmVwb3J0ICs9IGBcXG4gICR7bWVzc2FnZX1gO1xuICAgIH1cbiAgICBpZiAoYXNzZXNzbWVudC5jb250cm9sVG93ZXJEZXBsb3llZFZlcnNpb24gIT09IGFzc2Vzc21lbnQuY29udHJvbFRvd2VyTGF0ZXN0QXZhaWxhYmxlVmVyc2lvbikge1xuICAgICAgICBjb25zdCB1cGRhdGVDb250cm9sVG93ZXJUYXNrID0geyB0aXRsZTogYFVwZGF0ZSBBV1MgQ29udHJvbCBUb3dlciB0byBsYXRlc3QgdmVyc2lvbmAsIGNhdGVnb3J5OiBseldheXBvaW50LCBkZXRhaWw6IGBVcGRhdGUgQVdTIENvbnRyb2wgVG93ZXIgdG8gdmVyc2lvbiAke2Fzc2Vzc21lbnQuY29udHJvbFRvd2VyTGF0ZXN0QXZhaWxhYmxlVmVyc2lvbn1gIH07XG4gICAgICAgIHRhc2tzLnB1c2godXBkYXRlQ29udHJvbFRvd2VyVGFzayk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBgJHt1cGRhdGVDb250cm9sVG93ZXJUYXNrLnRpdGxlfSAtICR7dXBkYXRlQ29udHJvbFRvd2VyVGFzay5jYXRlZ29yeX0gLSAke3VwZGF0ZUNvbnRyb2xUb3dlclRhc2suZGV0YWlsfWA7XG4gICAgICAgIHJlcG9ydCArPSBgXFxuICAke21lc3NhZ2V9YDtcbiAgICB9XG4gICAgaWYgKCFhc3Nlc3NtZW50Lm9yZ1NlcnZpY2VzIHx8ICFhc3Nlc3NtZW50Lm9yZ1NlcnZpY2VzLmZpbmQocGFyYW0gPT4gcGFyYW0uc2VydmljZSA9PT0gJ21lbWJlci5vcmcuc3RhY2tzZXRzLmNsb3VkZm9ybWF0aW9uLmFtYXpvbmF3cy5jb20nKSkge1xuICAgICAgICBjb25zdCBvcmdTZXJ2aWNlQ2ZuRW5hYmxlVGFzayA9IHsgdGl0bGU6ICdFbmFibGUgQVdTIENsb3VkRm9ybWF0aW9uJywgY2F0ZWdvcnk6IGx6V2F5cG9pbnQsIGRldGFpbDogYEVuYWJsZSBBV1MgQ2xvdWRGb3JtYXRpb24gaW4gQVdTIE9yZ2FuaXphdGlvbmAgfTtcbiAgICAgICAgdGFza3MucHVzaChvcmdTZXJ2aWNlQ2ZuRW5hYmxlVGFzayk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBgJHtvcmdTZXJ2aWNlQ2ZuRW5hYmxlVGFzay50aXRsZX0gLSAke29yZ1NlcnZpY2VDZm5FbmFibGVUYXNrLmNhdGVnb3J5fSAtICR7b3JnU2VydmljZUNmbkVuYWJsZVRhc2suZGV0YWlsfWA7XG4gICAgICAgIHJlcG9ydCArPSBgXFxuICAke21lc3NhZ2V9YDtcbiAgICB9XG4gICAgcmVwb3J0ICs9IGBcXG5cXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipgO1xuICAgIHJlcG9ydCArPSBgXFxuICAgICAgICAgICAgICAgICAgICBJREVOVElUWWA7XG4gICAgcmVwb3J0ICs9IGBcXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipgO1xuICAgIGlmIChhc3Nlc3NtZW50LmlkY0luZm8pIHtcbiAgICAgICAgcmVwb3J0ICs9IGBcXG5cXG5BV1MgSUFNIElERU5USVRZIENFTlRFUlxcbmA7XG4gICAgICAgIHJlcG9ydCArPSBgXFxuICBJZEMgUmVnaW9uOiAke2Fzc2Vzc21lbnQuaWRjSW5mby5yZWdpb259YDtcbiAgICAgICAgcmVwb3J0ICs9IGBcXG4gIElkQyBBUk46ICR7YXNzZXNzbWVudC5pZGNJbmZvLmFybn1gO1xuICAgICAgICByZXBvcnQgKz0gYFxcbiAgSWRDIEluc3RhbmNlIElkOiAke2Fzc2Vzc21lbnQuaWRjSW5mby5pZH1gO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmVwb3J0ICs9IGBcXG5cXG5BV1MgSUFNIElERU5USVRZIENFTlRFUiBOT1QgRk9VTkRcXG5gO1xuICAgIH1cbiAgICByZXBvcnQgKz0gYFxcblxcbklERU5USVRZIFRBU0tTOmA7XG4gICAgY29uc3Qgc3NvQ2F0ZWdvcnkgPSAnSWRlbnRpdHknO1xuICAgIGlmICghYXNzZXNzbWVudC5vcmdTZXJ2aWNlcyB8fCAhYXNzZXNzbWVudC5vcmdTZXJ2aWNlcy5maW5kKHBhcmFtID0+IHBhcmFtLnNlcnZpY2UgPT09ICdzc28uYW1hem9uYXdzLmNvbScpKSB7XG4gICAgICAgIGNvbnN0IHNzb1Rhc2sgPSB7IHRpdGxlOiAnRW5hYmxlIEFXUyBTaW5nbGUgU2lnbi1PbicsIGNhdGVnb3J5OiBzc29DYXRlZ29yeSwgZGV0YWlsOiBgRW5hYmxlIEFXUyBTaW5nbGUgU2lnbi1PbiBpbiBBV1MgT3JnYW5pemF0aW9uYCB9O1xuICAgICAgICB0YXNrcy5wdXNoKHNzb1Rhc2spO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gYCR7c3NvVGFzay50aXRsZX0gLSAke3Nzb1Rhc2suY2F0ZWdvcnl9IC0gJHtzc29UYXNrLmRldGFpbH1gO1xuICAgICAgICByZXBvcnQgKz0gYFxcbiAgJHttZXNzYWdlfWA7XG4gICAgfVxuICAgIGlmICghaWRlbnRpdHlEZWxlZ2F0ZWQpIHtcbiAgICAgICAgY29uc3QgaWRlbnRpdHlEZWxlZ2F0ZWRUYXNrID0geyB0aXRsZTogJ0RlbGVnYXRlIGFkbWluaXN0cmF0aW9uIHRvIEFXUyBJQU0gSWRlbnRpdHkgQ2VudGVyJywgY2F0ZWdvcnk6IHNzb0NhdGVnb3J5LCBkZXRhaWw6IGBEZWxlZ2F0ZSBhZG1pbmlzdHJhdGlvbiB0byBBV1MgSUFNIElkZW50aXR5IENlbnRlcmAgfTtcbiAgICAgICAgdGFza3MucHVzaChpZGVudGl0eURlbGVnYXRlZFRhc2spO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gYCR7aWRlbnRpdHlEZWxlZ2F0ZWRUYXNrLnRpdGxlfSAtICR7aWRlbnRpdHlEZWxlZ2F0ZWRUYXNrLmNhdGVnb3J5fSAtICR7aWRlbnRpdHlEZWxlZ2F0ZWRUYXNrLmRldGFpbH1gO1xuICAgICAgICByZXBvcnQgKz0gYFxcbiAgJHttZXNzYWdlfWA7XG4gICAgfVxuICAgIGlmICghYXNzZXNzbWVudC5zY3BFbmFibGVkKSB7XG4gICAgICAgIGNvbnN0IHNzb1Rhc2sgPSB7IHRpdGxlOiAnRW5hYmxlIEFXUyBTaW5nbGUgU2lnbi1PbicsIGNhdGVnb3J5OiBzc29DYXRlZ29yeSwgZGV0YWlsOiBgRW5hYmxlIEFXUyBTaW5nbGUgU2lnbi1PbiBpbiBBV1MgT3JnYW5pemF0aW9uYCB9O1xuICAgICAgICB0YXNrcy5wdXNoKHNzb1Rhc2spO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gYCR7c3NvVGFzay50aXRsZX0gLSAke3Nzb1Rhc2suY2F0ZWdvcnl9IC0gJHtzc29UYXNrLmRldGFpbH1gO1xuICAgICAgICByZXBvcnQgKz0gYFxcbiAgJHttZXNzYWdlfWA7XG4gICAgfVxuICAgIHJlcG9ydCArPSBgXFxuXFxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqYDtcbiAgICByZXBvcnQgKz0gYFxcbiAgICAgICAgICAgICAgICAgICAgU0VDVVJJVFlgO1xuICAgIHJlcG9ydCArPSBgXFxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqYDtcbiAgICByZXBvcnQgKz0gYFxcblxcbkFXUyBTRUNVUklUWSBTRVJWSUNFUyBFTkFCTEVEIElOIEFXUyBPUkdBTklaQVRJT046XFxuYDtcbiAgICBpZiAoYXNzZXNzbWVudC5vcmdTZXJ2aWNlcyAmJiBhc3Nlc3NtZW50Lm9yZ1NlcnZpY2VzLmZpbmQocGFyYW0gPT4gcGFyYW0uc2VydmljZSA9PT0gJ2d1YXJkZHV0eS5hbWF6b25hd3MuY29tJykpIHtcbiAgICAgICAgcmVwb3J0ICs9IGBcXG4gIEFXUyBHdWFyZER1dHlgO1xuICAgIH1cbiAgICBpZiAoYXNzZXNzbWVudC5vcmdTZXJ2aWNlcyAmJiBhc3Nlc3NtZW50Lm9yZ1NlcnZpY2VzLmZpbmQocGFyYW0gPT4gcGFyYW0uc2VydmljZSA9PT0gJ3NlY3VyaXR5aHViLmFtYXpvbmF3cy5jb20nKSkge1xuICAgICAgICByZXBvcnQgKz0gYFxcbiAgQVdTIFNlY3VyaXR5IEh1YmA7XG4gICAgfVxuICAgIGlmIChhc3Nlc3NtZW50Lm9yZ1NlcnZpY2VzICYmIGFzc2Vzc21lbnQub3JnU2VydmljZXMuZmluZChwYXJhbSA9PiBwYXJhbS5zZXJ2aWNlID09PSAnYWNjZXNzLWFuYWx5emVyLmFtYXpvbmF3cy5jb20nKSkge1xuICAgICAgICByZXBvcnQgKz0gYFxcbiAgSUFNIEFjY2VzcyBBbmFseXplcmA7XG4gICAgfVxuICAgIGlmIChhc3Nlc3NtZW50Lm9yZ1NlcnZpY2VzICYmIGFzc2Vzc21lbnQub3JnU2VydmljZXMuZmluZChwYXJhbSA9PiBwYXJhbS5zZXJ2aWNlID09PSAnbWFjaWUuYW1hem9uYXdzLmNvbScpKSB7XG4gICAgICAgIHJlcG9ydCArPSBgXFxuICBNYWNpZWA7XG4gICAgfVxuICAgIGlmIChhc3Nlc3NtZW50Lm9yZ1NlcnZpY2VzICYmIGFzc2Vzc21lbnQub3JnU2VydmljZXMuZmluZChwYXJhbSA9PiBwYXJhbS5zZXJ2aWNlID09PSAnc3RvcmFnZS1sZW5zLnMzLmFtYXpvbmF3cy5jb20nKSkge1xuICAgICAgICByZXBvcnQgKz0gYFxcbiAgQW1hem9uIFMzIFN0b3JhZ2UgTGVuc2A7XG4gICAgfVxuICAgIGlmIChhc3Nlc3NtZW50Lm9yZ1NlcnZpY2VzICYmIGFzc2Vzc21lbnQub3JnU2VydmljZXMuZmluZChwYXJhbSA9PiBwYXJhbS5zZXJ2aWNlID09PSAnaW5zcGVjdG9yMi5hbWF6b25hd3MuY29tJykpIHtcbiAgICAgICAgcmVwb3J0ICs9IGBcXG4gIEFtYXpvbiBJbnNwZWN0b3JgO1xuICAgIH1cbiAgICBpZiAoYXNzZXNzbWVudC5vcmdTZXJ2aWNlcyAmJiBhc3Nlc3NtZW50Lm9yZ1NlcnZpY2VzLmZpbmQocGFyYW0gPT4gcGFyYW0uc2VydmljZSA9PT0gJ2Nsb3VkdHJhaWwuYW1hem9uYXdzLmNvbScpKSB7XG4gICAgICAgIHJlcG9ydCArPSBgXFxuICBBV1MgQ2xvdWRUcmFpbGA7XG4gICAgfVxuICAgIGlmIChhc3Nlc3NtZW50Lm9yZ1NlcnZpY2VzICYmIGFzc2Vzc21lbnQub3JnU2VydmljZXMuZmluZChwYXJhbSA9PiBwYXJhbS5zZXJ2aWNlID09PSAnY29uZmlnLmFtYXpvbmF3cy5jb20nKSkge1xuICAgICAgICByZXBvcnQgKz0gYFxcbiAgQVdTIENvbmZpZ2A7XG4gICAgfVxuICAgIHJlcG9ydCArPSBgXFxuXFxuU0VDVVJJVFkgVEFTS1M6YDtcbiAgICBjb25zdCBzZWNDYXRlZ29yeSA9IFwiU2VjdXJpdHlcIjtcbiAgICBpZiAoIWFzc2Vzc21lbnQuc2NwRW5hYmxlZCkge1xuICAgICAgICBjb25zdCBzc29UYXNrID0geyB0aXRsZTogJ0VuYWJsZSBBV1MgU2luZ2xlIFNpZ24tT24nLCBjYXRlZ29yeTogc2VjQ2F0ZWdvcnksIGRldGFpbDogYEVuYWJsZSBBV1MgU2luZ2xlIFNpZ24tT24gaW4gQVdTIE9yZ2FuaXphdGlvbmAgfTtcbiAgICAgICAgdGFza3MucHVzaChzc29UYXNrKTtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGAke3Nzb1Rhc2sudGl0bGV9IC0gJHtzc29UYXNrLmNhdGVnb3J5fSAtICR7c3NvVGFzay5kZXRhaWx9YDtcbiAgICAgICAgcmVwb3J0ICs9IGBcXG4gICR7bWVzc2FnZX1gO1xuICAgIH1cbiAgICBpZiAoIWFzc2Vzc21lbnQub3JnU2VydmljZXMgfHwgIWFzc2Vzc21lbnQub3JnU2VydmljZXMuZmluZChwYXJhbSA9PiBwYXJhbS5zZXJ2aWNlID09PSAnZ3VhcmRkdXR5LmFtYXpvbmF3cy5jb20nKSkge1xuICAgICAgICBjb25zdCB0YXNrR3VhcmREdXR5RGVsZWdhdGVkID0geyB0aXRsZTogJ0RlbGVnYXRlIGFkbWluaXN0cmF0aW9uIHRvIEFXUyBHdWFyZER1dHknLCBjYXRlZ29yeTogc2VjQ2F0ZWdvcnksIGRldGFpbDogYERlbGVnYXRlIGFkbWluaXN0cmF0aW9uIHRvIEFXUyBHdWFyZER1dHlgIH07XG4gICAgICAgIHRhc2tzLnB1c2godGFza0d1YXJkRHV0eURlbGVnYXRlZCk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBgJHt0YXNrR3VhcmREdXR5RGVsZWdhdGVkLnRpdGxlfSAtICR7dGFza0d1YXJkRHV0eURlbGVnYXRlZC5jYXRlZ29yeX0gLSAke3Rhc2tHdWFyZER1dHlEZWxlZ2F0ZWQuZGV0YWlsfWA7XG4gICAgICAgIHJlcG9ydCArPSBgXFxuICAke21lc3NhZ2V9YDtcbiAgICB9XG4gICAgaWYgKCFhc3Nlc3NtZW50Lm9yZ1NlcnZpY2VzIHx8ICFhc3Nlc3NtZW50Lm9yZ1NlcnZpY2VzLmZpbmQocGFyYW0gPT4gcGFyYW0uc2VydmljZSA9PT0gJ3NlY3VyaXR5aHViLmFtYXpvbmF3cy5jb20nKSkge1xuICAgICAgICBjb25zdCB0YXNrU2VjdXJpdHlIdWJEZWxlZ2F0ZWQgPSB7IHRpdGxlOiAnRGVsZWdhdGUgYWRtaW5pc3RyYXRpb24gdG8gQVdTIFNlY3VyaXR5IEh1YicsIGNhdGVnb3J5OiBzZWNDYXRlZ29yeSwgZGV0YWlsOiBgRGVsZWdhdGUgYWRtaW5pc3RyYXRpb24gdG8gQVdTIFNlY3VyaXR5IEh1YmAgfTtcbiAgICAgICAgdGFza3MucHVzaCh0YXNrU2VjdXJpdHlIdWJEZWxlZ2F0ZWQpO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gYCR7dGFza1NlY3VyaXR5SHViRGVsZWdhdGVkLnRpdGxlfSAtICR7dGFza1NlY3VyaXR5SHViRGVsZWdhdGVkLmNhdGVnb3J5fSAtICR7dGFza1NlY3VyaXR5SHViRGVsZWdhdGVkLmRldGFpbH1gO1xuICAgICAgICByZXBvcnQgKz0gYFxcbiAgJHttZXNzYWdlfWA7XG4gICAgfVxuICAgIGlmICghYXNzZXNzbWVudC5vcmdTZXJ2aWNlcyB8fCAhYXNzZXNzbWVudC5vcmdTZXJ2aWNlcy5maW5kKHBhcmFtID0+IHBhcmFtLnNlcnZpY2UgPT09ICdhY2Nlc3MtYW5hbHl6ZXIuYW1hem9uYXdzLmNvbScpKSB7XG4gICAgICAgIGNvbnN0IHRhc2tJYW1BY2Nlc3NBbmFseXplckRlbGVnYXRlZCA9IHsgdGl0bGU6ICdEZWxlZ2F0ZSBhZG1pbmlzdHJhdGlvbiB0byBBV1MgSUFNIEFjY2VzcyBBbmFseXplcicsIGNhdGVnb3J5OiBzZWNDYXRlZ29yeSwgZGV0YWlsOiBgRGVsZWdhdGUgYWRtaW5pc3RyYXRpb24gdG8gQVdTIElBTSBBY2Nlc3MgQW5hbHl6ZXJgIH07XG4gICAgICAgIHRhc2tzLnB1c2godGFza0lhbUFjY2Vzc0FuYWx5emVyRGVsZWdhdGVkKTtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGAke3Rhc2tJYW1BY2Nlc3NBbmFseXplckRlbGVnYXRlZC50aXRsZX0gLSAke3Rhc2tJYW1BY2Nlc3NBbmFseXplckRlbGVnYXRlZC5jYXRlZ29yeX0gLSAke3Rhc2tJYW1BY2Nlc3NBbmFseXplckRlbGVnYXRlZC5kZXRhaWx9YDtcbiAgICAgICAgcmVwb3J0ICs9IGBcXG4gICR7bWVzc2FnZX1gO1xuICAgIH1cbiAgICBpZiAoIWFzc2Vzc21lbnQub3JnU2VydmljZXMgfHwgIWFzc2Vzc21lbnQub3JnU2VydmljZXMuZmluZChwYXJhbSA9PiBwYXJhbS5zZXJ2aWNlID09PSAnY2xvdWR0cmFpbC5hbWF6b25hd3MuY29tJykpIHtcbiAgICAgICAgY29uc3QgdGFza0Nsb3VkVHJhaWxEZWxlZ2F0ZWQgPSB7IHRpdGxlOiAnRGVsZWdhdGUgYWRtaW5pc3RyYXRpb24gdG8gQVdTIENsb3VkVHJhaWwnLCBjYXRlZ29yeTogc2VjQ2F0ZWdvcnksIGRldGFpbDogYERlbGVnYXRlIGFkbWluaXN0cmF0aW9uIHRvIEFXUyBDbG91ZFRyYWlsYCB9O1xuICAgICAgICB0YXNrcy5wdXNoKHRhc2tDbG91ZFRyYWlsRGVsZWdhdGVkKTtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGAke3Rhc2tDbG91ZFRyYWlsRGVsZWdhdGVkLnRpdGxlfSAtICR7dGFza0Nsb3VkVHJhaWxEZWxlZ2F0ZWQuY2F0ZWdvcnl9IC0gJHt0YXNrQ2xvdWRUcmFpbERlbGVnYXRlZC5kZXRhaWx9YDtcbiAgICAgICAgcmVwb3J0ICs9IGBcXG4gICR7bWVzc2FnZX1gO1xuICAgIH1cbiAgICBpZiAoIWFzc2Vzc21lbnQub3JnU2VydmljZXMgfHwgIWFzc2Vzc21lbnQub3JnU2VydmljZXMuZmluZChwYXJhbSA9PiBwYXJhbS5zZXJ2aWNlID09PSAnY29uZmlnLmFtYXpvbmF3cy5jb20nKSkge1xuICAgICAgICBjb25zdCB0YXNrQ29uZmlnRGVsZWdhdGVkID0geyB0aXRsZTogJ0RlbGVnYXRlIGFkbWluaXN0cmF0aW9uIHRvIEFXUyBDb25maWcnLCBjYXRlZ29yeTogc2VjQ2F0ZWdvcnksIGRldGFpbDogYERlbGVnYXRlIGFkbWluaXN0cmF0aW9uIHRvIEFXUyBDb25maWdgIH07XG4gICAgICAgIHRhc2tzLnB1c2godGFza0NvbmZpZ0RlbGVnYXRlZCk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBgJHt0YXNrQ29uZmlnRGVsZWdhdGVkLnRpdGxlfSAtICR7dGFza0NvbmZpZ0RlbGVnYXRlZC5jYXRlZ29yeX0gLSAke3Rhc2tDb25maWdEZWxlZ2F0ZWQuZGV0YWlsfWA7XG4gICAgICAgIHJlcG9ydCArPSBgXFxuICAke21lc3NhZ2V9YDtcbiAgICB9XG4gICAgaWYgKCFzZWN1cml0eUh1YkRlbGVnYXRlZCkge1xuICAgICAgICBjb25zdCB0YXNrU2VjdXJpdHlIdWJEZWxlZ2F0ZWQgPSB7IHRpdGxlOiAnRGVsZWdhdGUgYWRtaW5pc3RyYXRpb24gb2YgQVdTIFNlY3VyaXR5IEh1YicsIGNhdGVnb3J5OiBzZWNDYXRlZ29yeSwgZGV0YWlsOiBgRGVsZWdhdGUgYWRtaW5pc3RyYXRpb24gdG8gQVdTIFNlY3VyaXR5IEh1YmAgfTtcbiAgICAgICAgdGFza3MucHVzaCh0YXNrU2VjdXJpdHlIdWJEZWxlZ2F0ZWQpO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gYCR7dGFza1NlY3VyaXR5SHViRGVsZWdhdGVkLnRpdGxlfSAtICR7dGFza1NlY3VyaXR5SHViRGVsZWdhdGVkLmNhdGVnb3J5fSAtICR7dGFza1NlY3VyaXR5SHViRGVsZWdhdGVkLmRldGFpbH1gO1xuICAgICAgICByZXBvcnQgKz0gYFxcbiAgJHttZXNzYWdlfWA7XG4gICAgfVxuICAgIGlmICghZ3VhcmREdXR5RGVsZWdhdGVkKSB7XG4gICAgICAgIGNvbnN0IHRhc2tHdWFyZER1dHlEZWxlZ2F0ZWQgPSB7IHRpdGxlOiAnRGVsZWdhdGUgYWRtaW5pc3RyYXRpb24gb2YgQVdTIEd1YXJkRHV0eScsIGNhdGVnb3J5OiBzZWNDYXRlZ29yeSwgZGV0YWlsOiBgRGVsZWdhdGUgYWRtaW5pc3RyYXRpb24gdG8gQVdTIEd1YXJkRHV0eWAgfTtcbiAgICAgICAgdGFza3MucHVzaCh0YXNrR3VhcmREdXR5RGVsZWdhdGVkKTtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGAke3Rhc2tHdWFyZER1dHlEZWxlZ2F0ZWQudGl0bGV9IC0gJHt0YXNrR3VhcmREdXR5RGVsZWdhdGVkLmNhdGVnb3J5fSAtICR7dGFza0d1YXJkRHV0eURlbGVnYXRlZC5kZXRhaWx9YDtcbiAgICAgICAgcmVwb3J0ICs9IGBcXG4gICR7bWVzc2FnZX1gO1xuICAgIH1cbiAgICBpZiAoIWNvbmZpZ0RlbGVnYXRlZCkge1xuICAgICAgICBjb25zdCB0YXNrQ29uZmlnRGVsZWdhdGVkID0geyB0aXRsZTogJ0RlbGVnYXRlIGFkbWluaXN0cmF0aW9uIG9mIEFXUyBDb25maWcnLCBjYXRlZ29yeTogc2VjQ2F0ZWdvcnksIGRldGFpbDogYERlbGVnYXRlIGFkbWluaXN0cmF0aW9uIHRvIEFXUyBDb25maWdgIH07XG4gICAgICAgIHRhc2tzLnB1c2godGFza0NvbmZpZ0RlbGVnYXRlZCk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBgJHt0YXNrQ29uZmlnRGVsZWdhdGVkLnRpdGxlfSAtICR7dGFza0NvbmZpZ0RlbGVnYXRlZC5jYXRlZ29yeX0gLSAke3Rhc2tDb25maWdEZWxlZ2F0ZWQuZGV0YWlsfWA7XG4gICAgICAgIHJlcG9ydCArPSBgXFxuICAke21lc3NhZ2V9YDtcbiAgICB9XG4gICAgaWYgKCFpYW1BY2Nlc3NBbmFseXplckRlbGVnYXRlZCkge1xuICAgICAgICBjb25zdCB0YXNrSWFtQWNjZXNzQW5hbHl6ZXJEZWxlZ2F0ZWQgPSB7IHRpdGxlOiAnRGVsZWdhdGUgYWRtaW5pc3RyYXRpb24gb2YgQVdTIElBTSBBY2Nlc3MgQW5hbHl6ZXInLCBjYXRlZ29yeTogc2VjQ2F0ZWdvcnksIGRldGFpbDogYERlbGVnYXRlIGFkbWluaXN0cmF0aW9uIHRvIEFXUyBJQU0gQWNjZXNzIEFuYWx5emVyYCB9O1xuICAgICAgICB0YXNrcy5wdXNoKHRhc2tJYW1BY2Nlc3NBbmFseXplckRlbGVnYXRlZCk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBgJHt0YXNrSWFtQWNjZXNzQW5hbHl6ZXJEZWxlZ2F0ZWQudGl0bGV9IC0gJHt0YXNrSWFtQWNjZXNzQW5hbHl6ZXJEZWxlZ2F0ZWQuY2F0ZWdvcnl9IC0gJHt0YXNrSWFtQWNjZXNzQW5hbHl6ZXJEZWxlZ2F0ZWQuZGV0YWlsfWA7XG4gICAgICAgIHJlcG9ydCArPSBgXFxuICAke21lc3NhZ2V9YDtcbiAgICB9XG4gICAgaWYgKCFzM1N0b3JhZ2VMZW5zRGVsZWdhdGVkKSB7XG4gICAgICAgIGNvbnN0IHRhc2tTM1N0b3JhZ2VMZW5zRGVsZWdhdGVkID0geyB0aXRsZTogJ0RlbGVnYXRlIGFkbWluaXN0cmF0aW9uIG9mIEFtYXpvbiBTMyBTdG9yYWdlIExlbnMnLCBjYXRlZ29yeTogc2VjQ2F0ZWdvcnksIGRldGFpbDogYERlbGVnYXRlIGFkbWluaXN0cmF0aW9uIHRvIEFtYXpvbiBTMyBTdG9yYWdlIExlbnNgIH07XG4gICAgICAgIHRhc2tzLnB1c2godGFza1MzU3RvcmFnZUxlbnNEZWxlZ2F0ZWQpO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gYCR7dGFza1MzU3RvcmFnZUxlbnNEZWxlZ2F0ZWQudGl0bGV9IC0gJHt0YXNrUzNTdG9yYWdlTGVuc0RlbGVnYXRlZC5jYXRlZ29yeX0gLSAke3Rhc2tTM1N0b3JhZ2VMZW5zRGVsZWdhdGVkLmRldGFpbH1gO1xuICAgICAgICByZXBvcnQgKz0gYFxcbiAgJHttZXNzYWdlfWA7XG4gICAgfVxuICAgIHJlcG9ydCArPSBgXFxuXFxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqYDtcbiAgICByZXBvcnQgKz0gYFxcbiAgICAgICAgICAgICAgICAgICAgTkVUV09SS2A7XG4gICAgcmVwb3J0ICs9IGBcXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipgO1xuICAgIHJlcG9ydCArPSBgXFxuXFxuTkVUV09SSyBUQVNLUzpgO1xuICAgIGNvbnN0IG5ldHdvcmtDYXRlZ29yeSA9ICdOZXR3b3JrJztcbiAgICBpZiAoIWFzc2Vzc21lbnQub3JnU2VydmljZXMgfHwgIWFzc2Vzc21lbnQub3JnU2VydmljZXMuZmluZChwYXJhbSA9PiBwYXJhbS5zZXJ2aWNlID09PSAnZ3VhcmRkdXR5LmFtYXpvbmF3cy5jb20nKSkge1xuICAgICAgICBjb25zdCB0YXNrR3VhcmREdXR5RGVsZWdhdGVkID0geyB0aXRsZTogJ0VuYWJsZSBBV1MgR3VhcmREdXR5JywgY2F0ZWdvcnk6IG5ldHdvcmtDYXRlZ29yeSwgZGV0YWlsOiBgRW5hYmxlIEFXUyBHdWFyZER1dHkgaW4gQVdTIE9yZ2FuaXphdGlvbmAgfTtcbiAgICAgICAgdGFza3MucHVzaCh0YXNrR3VhcmREdXR5RGVsZWdhdGVkKTtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGAke3Rhc2tHdWFyZER1dHlEZWxlZ2F0ZWQudGl0bGV9IC0gJHt0YXNrR3VhcmREdXR5RGVsZWdhdGVkLmNhdGVnb3J5fSAtICR7dGFza0d1YXJkRHV0eURlbGVnYXRlZC5kZXRhaWx9YDtcbiAgICAgICAgcmVwb3J0ICs9IGBcXG4gICR7bWVzc2FnZX1gO1xuICAgIH1cbiAgICBpZiAoIWFzc2Vzc21lbnQub3JnU2VydmljZXMgfHwgIWFzc2Vzc21lbnQub3JnU2VydmljZXMuZmluZChwYXJhbSA9PiBwYXJhbS5zZXJ2aWNlID09PSAnaXBhbS5hbWF6b25hd3MuY29tJykpIHtcbiAgICAgICAgY29uc3Qgb3JnU2VydmljZUlwYW1UYXNrID0geyB0aXRsZTogJ0VuYWJsZSBBV1MgSVBBTScsIGNhdGVnb3J5OiBuZXR3b3JrQ2F0ZWdvcnksIGRldGFpbDogYEVuYWJsZSBBV1MgSVBBTSBpbiBBV1MgT3JnYW5pemF0aW9uYCB9O1xuICAgICAgICB0YXNrcy5wdXNoKG9yZ1NlcnZpY2VJcGFtVGFzayk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBgJHtvcmdTZXJ2aWNlSXBhbVRhc2sudGl0bGV9IC0gJHtvcmdTZXJ2aWNlSXBhbVRhc2suY2F0ZWdvcnl9IC0gJHtvcmdTZXJ2aWNlSXBhbVRhc2suZGV0YWlsfWA7XG4gICAgICAgIHJlcG9ydCArPSBgXFxuICAke21lc3NhZ2V9YDtcbiAgICB9XG4gICAgaWYgKCFhc3Nlc3NtZW50Lm9yZ1NlcnZpY2VzIHx8ICFhc3Nlc3NtZW50Lm9yZ1NlcnZpY2VzLmZpbmQocGFyYW0gPT4gcGFyYW0uc2VydmljZSA9PT0gJ3JhbS5hbWF6b25hd3MuY29tJykpIHtcbiAgICAgICAgY29uc3Qgb3JnU2VydmljZVJhbVRhc2sgPSB7IHRpdGxlOiAnRW5hYmxlIEFXUyBSZXNvdXJjZSBBY2Nlc3MgTWFuYWdlcicsIGNhdGVnb3J5OiBuZXR3b3JrQ2F0ZWdvcnksIGRldGFpbDogYEVuYWJsZSBBV1MgUmVzb3VyY2UgQWNjZXNzIE1hbmFnZXIgaW4gQVdTIE9yZ2FuaXphdGlvbmAgfTtcbiAgICAgICAgdGFza3MucHVzaChvcmdTZXJ2aWNlUmFtVGFzayk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBgJHtvcmdTZXJ2aWNlUmFtVGFzay50aXRsZX0gLSAke29yZ1NlcnZpY2VSYW1UYXNrLmNhdGVnb3J5fSAtICR7b3JnU2VydmljZVJhbVRhc2suZGV0YWlsfWA7XG4gICAgICAgIHJlcG9ydCArPSBgXFxuICAke21lc3NhZ2V9YDtcbiAgICB9XG4gICAgaWYgKCFpcGFtRGVsZWdhdGVkKSB7XG4gICAgICAgIGNvbnN0IHRhc2tJcGFtRGVsZWdhdGVkID0geyB0aXRsZTogJ0RlbGVnYXRlIGFkbWluaXN0cmF0aW9uIG9mIEFXUyBJUEFNJywgY2F0ZWdvcnk6IG5ldHdvcmtDYXRlZ29yeSwgZGV0YWlsOiBgRGVsZWdhdGUgYWRtaW5pc3RyYXRpb24gdG8gQVdTIElQQU1gIH07XG4gICAgICAgIHRhc2tzLnB1c2godGFza0lwYW1EZWxlZ2F0ZWQpO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gYCR7dGFza0lwYW1EZWxlZ2F0ZWQudGl0bGV9IC0gJHt0YXNrSXBhbURlbGVnYXRlZC5jYXRlZ29yeX0gLSAke3Rhc2tJcGFtRGVsZWdhdGVkLmRldGFpbH1gO1xuICAgICAgICByZXBvcnQgKz0gYFxcbiAgJHttZXNzYWdlfWA7XG4gICAgfVxuICAgIGlmICghYXNzZXNzbWVudC5zY3BFbmFibGVkKSB7XG4gICAgICAgIGNvbnN0IHRhc2tTY3BEZWxlZ2F0ZWQgPSB7IHRpdGxlOiAnRW5hYmxlIEFXUyBTZXJ2aWNlIENvbnRyb2wgUG9saWN5JywgY2F0ZWdvcnk6IG5ldHdvcmtDYXRlZ29yeSwgZGV0YWlsOiBgRW5hYmxlIEFXUyBTZXJ2aWNlIENvbnRyb2wgUG9saWN5IGluIEFXUyBPcmdhbml6YXRpb25gIH07XG4gICAgICAgIHRhc2tzLnB1c2godGFza1NjcERlbGVnYXRlZCk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBgJHt0YXNrU2NwRGVsZWdhdGVkLnRpdGxlfSAtICR7dGFza1NjcERlbGVnYXRlZC5jYXRlZ29yeX0gLSAke3Rhc2tTY3BEZWxlZ2F0ZWQuZGV0YWlsfWA7XG4gICAgICAgIHJlcG9ydCArPSBgXFxuICAke21lc3NhZ2V9YDtcbiAgICB9XG4gICAgcmVwb3J0ICs9IGBcXG5cXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipgO1xuICAgIHJlcG9ydCArPSBgXFxuICAgICAgICAgICAgICAgICAgT0JTRVJWQUJJTElUWWA7XG4gICAgcmVwb3J0ICs9IGBcXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipgO1xuICAgIHJlcG9ydCArPSBgXFxuXFxuT0JTRVJWQUJJTElUWSBUQVNLUzpgO1xuICAgIGNvbnN0IG9iQ2F0ZWdvcnkgPSAnT2JzZXJ2YWJpbGl0eSc7XG4gICAgaWYgKCFhc3Nlc3NtZW50Lm9yZ1NlcnZpY2VzIHx8ICFhc3Nlc3NtZW50Lm9yZ1NlcnZpY2VzLmZpbmQocGFyYW0gPT4gcGFyYW0uc2VydmljZSA9PT0gJ2FjY291bnQuYW1hem9uYXdzLmNvbScpKSB7XG4gICAgICAgIGNvbnN0IG9yZ1NlcnZpY2VBY2NvdW50VGFzayA9IHsgdGl0bGU6ICdFbmFibGUgQVdTIEFjY291bnQnLCBjYXRlZ29yeTogb2JDYXRlZ29yeSwgZGV0YWlsOiBgRW5hYmxlIEFXUyBBY2NvdW50IGluIEFXUyBPcmdhbml6YXRpb25gIH07XG4gICAgICAgIHRhc2tzLnB1c2gob3JnU2VydmljZUFjY291bnRUYXNrKTtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGAke29yZ1NlcnZpY2VBY2NvdW50VGFzay50aXRsZX0gLSAke29yZ1NlcnZpY2VBY2NvdW50VGFzay5jYXRlZ29yeX0gLSAke29yZ1NlcnZpY2VBY2NvdW50VGFzay5kZXRhaWx9YDtcbiAgICAgICAgcmVwb3J0ICs9IGBcXG4gICR7bWVzc2FnZX1gO1xuICAgIH1cbiAgICBpZiAoIWFjY291bnREZWxlZ2F0ZWQpIHtcbiAgICAgICAgY29uc3QgdGFza0FjY291bnREZWxlZ2F0ZWQgPSB7IHRpdGxlOiAnRGVsZWdhdGUgYWRtaW5pc3RyYXRpb24gb2YgQVdTIEFjY291bnQnLCBjYXRlZ29yeTogb2JDYXRlZ29yeSwgZGV0YWlsOiBgRGVsZWdhdGUgYWRtaW5pc3RyYXRpb24gdG8gQVdTIEFjY291bnRgIH07XG4gICAgICAgIHRhc2tzLnB1c2godGFza0FjY291bnREZWxlZ2F0ZWQpO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gYCR7dGFza0FjY291bnREZWxlZ2F0ZWQudGl0bGV9IC0gJHt0YXNrQWNjb3VudERlbGVnYXRlZC5jYXRlZ29yeX0gLSAke3Rhc2tBY2NvdW50RGVsZWdhdGVkLmRldGFpbH1gO1xuICAgICAgICByZXBvcnQgKz0gYFxcbiAgJHttZXNzYWdlfWA7XG4gICAgfVxuICAgIHJlcG9ydCArPSBgXFxuXFxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqYDtcbiAgICByZXBvcnQgKz0gYFxcbiAgICAgICAgICAgICAgIEJBQ0tVUCBBTkQgUkVDT1ZFUllgO1xuICAgIHJlcG9ydCArPSBgXFxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqYDtcbiAgICByZXBvcnQgKz0gYFxcblxcbkJBQ0tVUCBBTkQgUkVDT1ZFUlkgVEFTS1M6YDtcbiAgICBjb25zdCBiYWNrdXBXYXlwb2ludCA9ICdCYWNrdXAgYW5kIFJlY292ZXJ5JztcbiAgICBpZiAoIWFzc2Vzc21lbnQub3JnU2VydmljZXMgfHwgIWFzc2Vzc21lbnQub3JnU2VydmljZXMuZmluZChwYXJhbSA9PiBwYXJhbS5zZXJ2aWNlID09PSAnYmFja3VwLmFtYXpvbmF3cy5jb20nKSkge1xuICAgICAgICBjb25zdCBvcmdTZXJ2aWNlQmFja3VwVGFzayA9IHsgdGl0bGU6ICdFbmFibGUgQVdTIEJhY2t1cCcsIGNhdGVnb3J5OiBiYWNrdXBXYXlwb2ludCwgZGV0YWlsOiBgRW5hYmxlIEFXUyBCYWNrdXAgaW4gQVdTIE9yZ2FuaXphdGlvbmAgfTtcbiAgICAgICAgdGFza3MucHVzaChvcmdTZXJ2aWNlQmFja3VwVGFzayk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBgJHtvcmdTZXJ2aWNlQmFja3VwVGFzay50aXRsZX0gLSAke29yZ1NlcnZpY2VCYWNrdXBUYXNrLmNhdGVnb3J5fSAtICR7b3JnU2VydmljZUJhY2t1cFRhc2suZGV0YWlsfWA7XG4gICAgICAgIHJlcG9ydCArPSBgXFxuICAke21lc3NhZ2V9YDtcbiAgICB9XG4gICAgaWYgKCFiYWNrdXBEZWxlZ2F0ZWQpIHtcbiAgICAgICAgY29uc3QgdGFza0JhY2t1cERlbGVnYXRlZCA9IHsgdGl0bGU6ICdEZWxlZ2F0ZSBhZG1pbmlzdHJhdGlvbiBvZiBBV1MgQmFja3VwJywgY2F0ZWdvcnk6IGJhY2t1cFdheXBvaW50LCBkZXRhaWw6IGBEZWxlZ2F0ZSBhZG1pbmlzdHJhdGlvbiB0byBBV1MgQmFja3VwYCB9O1xuICAgICAgICB0YXNrcy5wdXNoKHRhc2tCYWNrdXBEZWxlZ2F0ZWQpO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gYCR7dGFza0JhY2t1cERlbGVnYXRlZC50aXRsZX0gLSAke3Rhc2tCYWNrdXBEZWxlZ2F0ZWQuY2F0ZWdvcnl9IC0gJHt0YXNrQmFja3VwRGVsZWdhdGVkLmRldGFpbH1gO1xuICAgICAgICByZXBvcnQgKz0gYFxcbiAgJHttZXNzYWdlfWA7XG4gICAgfVxuICAgIGlmICghYXNzZXNzbWVudC5iYWNrdXBQb2xpY3lFbmFibGVkKSB7XG4gICAgICAgIGNvbnN0IGJhY2t1cFBvbGljeUVuYWJsZWRUYXNrID0geyB0aXRsZTogJ0VuYWJsZSBBV1MgQmFja3VwIFBvbGljeScsIGNhdGVnb3J5OiBiYWNrdXBXYXlwb2ludCwgZGV0YWlsOiBgRW5hYmxlIEFXUyBCYWNrdXAgUG9saWN5IGluIEFXUyBPcmdhbml6YXRpb25gIH07XG4gICAgICAgIHRhc2tzLnB1c2goYmFja3VwUG9saWN5RW5hYmxlZFRhc2spO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gYCR7YmFja3VwUG9saWN5RW5hYmxlZFRhc2sudGl0bGV9IC0gJHtiYWNrdXBQb2xpY3lFbmFibGVkVGFzay5jYXRlZ29yeX0gLSAke2JhY2t1cFBvbGljeUVuYWJsZWRUYXNrLmRldGFpbH1gO1xuICAgICAgICByZXBvcnQgKz0gYFxcbiAgJHttZXNzYWdlfWA7XG4gICAgfVxuICAgIGlmICghYXNzZXNzbWVudC5zY3BFbmFibGVkKSB7XG4gICAgICAgIGNvbnN0IGVuYWJsZVBvbGljeVR5cGVUYXNrID0geyB0aXRsZTogJ0VuYWJsZSBBV1MgU2VydmljZSBDb250cm9sIFBvbGljeScsIGNhdGVnb3J5OiBiYWNrdXBXYXlwb2ludCwgZGV0YWlsOiBgRW5hYmxlIEFXUyBTZXJ2aWNlIENvbnRyb2wgUG9saWN5IGluIEFXUyBPcmdhbml6YXRpb25gIH07XG4gICAgICAgIHRhc2tzLnB1c2goZW5hYmxlUG9saWN5VHlwZVRhc2spO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gYCR7ZW5hYmxlUG9saWN5VHlwZVRhc2sudGl0bGV9IC0gJHtlbmFibGVQb2xpY3lUeXBlVGFzay5jYXRlZ29yeX0gLSAke2VuYWJsZVBvbGljeVR5cGVUYXNrLmRldGFpbH1gO1xuICAgICAgICByZXBvcnQgKz0gYFxcbiAgJHttZXNzYWdlfWA7XG4gICAgfVxuICAgIHJlcG9ydCArPSBgXFxuXFxuXFxuICBFTkQgUkVWSUVXYDtcbiAgICBjb25zdCByZXBvcnRGaWxlUGF0aCA9IFwiLi9jZmF0LnR4dFwiO1xuICAgIGNvbnNvbGUubG9nKGBjb21waWxpbmcgcmVwb3J0Li4uYCk7XG4gICAgY29uc29sZS5sb2coYHNhdmluZyByZXBvcnQgdG8gLi9jZmF0L2NmYXQudHh0Li4uYCk7XG4gICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZVBhdGgsIHJlcG9ydCk7XG4gICAgcmV0dXJuIHRhc2tzO1xufVxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlUmVwb3J0O1xuIiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IHJlcXVpcmUoXCJwYXRoXCIpOyIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSByZXF1aXJlKFwiYXJjaGl2ZXJcIik7IiwiaW1wb3J0IHsgZGVmaW5lQWNjb3VudFR5cGUgfSBmcm9tICcuL3NyYy9hY3Rpb25zL2RlZmluZS1hY2NvdW50LXR5cGUuanMnO1xuaW1wb3J0IGNoZWNrSWFtVXNlcnMgZnJvbSAnLi9zcmMvYWN0aW9ucy9jaGVjay1pYW0tdXNlcnMuanMnO1xuaW1wb3J0IGdldEVuYWJsZWRPcmdQb2xpY3lUeXBlcyBmcm9tICcuL3NyYy9hY3Rpb25zL2dldC1lbmFibGVkLW9yZy1wb2xpY3ktdHlwZXMuanMnO1xuaW1wb3J0IGdldEVuYWJsZWRPcmdTZXJ2aWNlcyBmcm9tICcuL3NyYy9hY3Rpb25zL2dldC1lbmFibGVkLW9yZy1zZXJ2aWNlcy5qcyc7XG5pbXBvcnQgZ2V0T3JnQ2xvdWRGb3JtYXRpb24gZnJvbSAnLi9zcmMvYWN0aW9ucy9jaGVjay1vcmctY2xvdWRmb3JtYXRpb24uanMnO1xuaW1wb3J0IGdldElkY0luZm8gZnJvbSAnLi9zcmMvYWN0aW9ucy9nZXQtaWRjLWluZm8uanMnO1xuaW1wb3J0IGdldE9yZ0RldGFpbHMgZnJvbSAnLi9zcmMvYWN0aW9ucy9nZXQtb3JnLWRldGFpbHMuanMnO1xuaW1wb3J0IGdldE9yZ1RvcExldmVsT3VzIGZyb20gJy4vc3JjL2FjdGlvbnMvZ2V0LW9yZy1vdXMuanMnO1xuaW1wb3J0IGdldEFsbFJlZ2lvbnMgZnJvbSAnLi9zcmMvYWN0aW9ucy9nZXQtcmVnaW9ucy5qcyc7XG5pbXBvcnQgY2hlY2tFYzJFeGlzdHMgZnJvbSAnLi9zcmMvYWN0aW9ucy9jaGVjay1lYzItZXhpc3RlbmNlLmpzJztcbmltcG9ydCBjaGVja1ZwY0V4aXN0cyBmcm9tICcuL3NyYy9hY3Rpb25zL2NoZWNrLXZwYy1leGlzdGVuY2UuanMnO1xuaW1wb3J0IGNoZWNrQ2xvdWRUcmFpbEV4aXN0cyBmcm9tICcuL3NyYy9hY3Rpb25zL2NoZWNrLWNsb3VkdHJhaWwtZXhpc3RlbmNlLmpzJztcbmltcG9ydCBnZXRPcmdEYUFjY291bnRzIGZyb20gJy4vc3JjL2FjdGlvbnMvZ2V0LW9yZy1kYS1hY2NvdW50cy5qcyc7XG5pbXBvcnQgY2hlY2tDb25maWdFeGlzdHMgZnJvbSAnLi9zcmMvYWN0aW9ucy9jaGVjay1jb25maWctZXhpc3RlbmNlLmpzJztcbmltcG9ydCBnZXRPcmdNZW1iZXJBY2NvdW50cyBmcm9tICcuL3NyYy9hY3Rpb25zL2dldC1vcmctbWVtYmVyLWFjY291bnRzLmpzJztcbmltcG9ydCBnZXRDb250cm9sVG93ZXIgZnJvbSAnLi9zcmMvYWN0aW9ucy9jaGVjay1jb250cm9sLXRvd2VyLmpzJztcbmltcG9ydCBjaGVja0xlZ2FjeUN1ciBmcm9tICcuL3NyYy9hY3Rpb25zL2NoZWNrLWxlZ2FjeS1jdXIuanMnO1xuaW1wb3J0IGNyZWF0ZVJlcG9ydCBmcm9tICcuL3NyYy9hY3Rpb25zL2NyZWF0ZS1yZXBvcnQuanMnO1xuaW1wb3J0IGNyZWF0ZUJhY2tsb2cgZnJvbSAnLi9zcmMvYWN0aW9ucy9jcmVhdGUtYmFja2xvZy5qcyc7XG5pbXBvcnQgY3JlYXRlSmlyYUltcG9ydCBmcm9tICcuL3NyYy9hY3Rpb25zL2NyZWF0ZS1qaXJhaW1wb3J0LmpzJztcbmltcG9ydCBjcmVhdGVBc2FuYUltcG9ydCBmcm9tICcuL3NyYy9hY3Rpb25zL2NyZWF0ZS1hc2FuYWltcG9ydC5qcyc7XG5pbXBvcnQgemlwQXNzZXNzbWVudEZpbGVzIGZyb20gJy4vc3JjL2FjdGlvbnMvemlwLWFzc2Vzc21lbnQuanMnO1xuaW1wb3J0ICogYXMgZnMgZnJvbSAnZnMnO1xuZnVuY3Rpb24gb2JqZWN0VG9DU1YoZGF0YSkge1xuICAgIGNvbnN0IGRhdGFBcnJheSA9IEFycmF5LmlzQXJyYXkoZGF0YSkgPyBkYXRhIDogW2RhdGFdO1xuICAgIGNvbnN0IGtleXMgPSBkYXRhQXJyYXkubGVuZ3RoID4gMCA/IE9iamVjdC5rZXlzKGRhdGFBcnJheVswXSkgOiBbXTtcbiAgICBjb25zdCByb3dzID0gW2tleXMuam9pbignLCcpXTtcbiAgICBmb3IgKGNvbnN0IG9iaiBvZiBkYXRhQXJyYXkpIHtcbiAgICAgICAgY29uc3QgdmFsdWVzID0ga2V5cy5tYXAoa2V5ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gb2JqW2tleV07XG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyA/IGBcIiR7dmFsdWUucmVwbGFjZSgvXCIvZywgJ1wiXCInKX1cImAgOiB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJvd3MucHVzaCh2YWx1ZXMuam9pbignLCcpKTtcbiAgICB9XG4gICAgcmV0dXJuIHJvd3Muam9pbignXFxuJyk7XG59XG5jb25zdCBtYWluID0gYXN5bmMgKCkgPT4ge1xuICAgIGxldCByZXBvcnQgPSB7fTtcbiAgICBsZXQgY2ZhdENoZWNrcyA9IFtdO1xuICAgIGNvbnN0IHJlZ2lvbiA9IHByb2Nlc3MuZW52LkFXU19SRUdJT04gfHwgJ3VzLWVhc3QtMSc7XG4gICAgY29uc3QgYWxsUmVnaW9ucyA9IGF3YWl0IGdldEFsbFJlZ2lvbnMoKTtcbiAgICBjb25zb2xlLmxvZyhcImRpc2NvdmVyaW5nIHlvdXIgQVdTIGVudmlyb25tZW50Li4uXCIpO1xuICAgIGNvbnN0IGFjY291bnRUeXBlID0gYXdhaXQgZGVmaW5lQWNjb3VudFR5cGUocmVnaW9uKTtcbiAgICBsZXQgdHJhbnNpdGlvbmFsRm91bmQsIHN1c3BlbmRlZEZvdW5kLCBpbmZyYXN0cnVjdHVyZUZvdW5kID0gZmFsc2U7XG4gICAgbGV0IHdvcmtsb2Fkc0ZvdW5kID0gZmFsc2U7XG4gICAgbGV0IHNlY3VyaXR5Rm91bmQgPSBmYWxzZTtcbiAgICBsZXQgY2ZhdElhbVVzZXJQYXNzID0gZmFsc2U7XG4gICAgbGV0IGNmYXRJYW1JZFBPcmdTZXJ2aWNlUGFzcyA9IGZhbHNlO1xuICAgIGxldCBjZmF0SWFtSWRjQ29uZmlndXJlZFBhc3MgPSBmYWxzZTtcbiAgICBsZXQgY2ZhdENsb3VkVHJhaWxQYXNzID0gZmFsc2U7XG4gICAgbGV0IGNmYXRDbG91ZFRyYWlsT3JnVHJhaWxQYXNzID0gZmFsc2U7XG4gICAgbGV0IGNmYXRWcGNQYXNzID0gdHJ1ZTtcbiAgICBsZXQgY2ZhdEVjMlBhc3MgPSBmYWxzZTtcbiAgICBsZXQgY2ZhdENvbmZpZ01hbmFnZW1lbnRBY2NvdW50UGFzcyA9IGZhbHNlO1xuICAgIGxldCBjZmF0Q29uZmlnUmVjb3JkZXJNYW5hZ2VtZW50QWNjb3VudFBhc3MgPSBmYWxzZTtcbiAgICBsZXQgY2ZhdENsb3VkVHJhaWxPcmdTZXJ2aWNlRW5hYmxlZFBhc3MgPSBmYWxzZTtcbiAgICBsZXQgY2ZhdFRhZ1BvbGljaWVzRW5hYmxlZFBhc3MgPSBmYWxzZTtcbiAgICBsZXQgY2ZhdFNjcEVuYWJsZWRQYXNzID0gZmFsc2U7XG4gICAgbGV0IGNmYXRCYWNrdXBQb2xpY2llc0VuYWJsZWRQYXNzID0gZmFsc2U7XG4gICAgbGV0IGNmYXRPcmdDbG91ZEZvcm1hdGlvbkVuYWJsZWRQYXNzID0gZmFsc2U7XG4gICAgbGV0IGNmYXRPcmdDbG91ZEZvcm1hdGlvblN0YXR1c1Bhc3MgPSBmYWxzZTtcbiAgICBsZXQgY2ZhdE9yZ1NlcnZpY2VHdWFyZER1dHlFbmFibGVkUGFzcyA9IGZhbHNlO1xuICAgIGxldCBjZmF0T3JnU2VydmljZVNlY3VyaXR5SHViRW5hYmxlZFBhc3MgPSBmYWxzZTtcbiAgICBsZXQgY2ZhdE9yZ1NlcnZpY2VJYW1BY2Nlc3NBbmFseXplckVuYWJsZWRQYXNzID0gZmFsc2U7XG4gICAgbGV0IGNmYXRPcmdTZXJ2aWNlQXdzQ29uZmlnRW5hYmxlZFBhc3MgPSBmYWxzZTtcbiAgICBsZXQgY2ZhdE9yZ1NlcnZpY2VSYW1FbmFibGVkUGFzcyA9IGZhbHNlO1xuICAgIGxldCBjZmF0Q29udHJvbFRvd2VyRGVwbG95ZWRQYXNzID0gZmFsc2U7XG4gICAgbGV0IGNmYXRDb250cm9sVG93ZXJOb3REcmlmdGVkUGFzcyA9IGZhbHNlO1xuICAgIGxldCBjZmF0Q29udHJvbFRvd2VyTGF0ZXN0VmVyc2lvblBhc3MgPSBmYWxzZTtcbiAgICBsZXQgY2ZhdExvZ0FyY2hpdmVBY2NvdW50UGFzcyA9IGZhbHNlO1xuICAgIGxldCBjZmF0QXVkaXRBY2NvdW50UGFzcyA9IGZhbHNlO1xuICAgIGxldCBjZmF0TWFuYWdlbWVudEFjY291bnRQYXNzID0gdHJ1ZTtcbiAgICBsZXQgY2ZhdE9yZ1NlcnZpY2VCYWNrdXBFbmFibGVkUGFzcyA9IGZhbHNlO1xuICAgIGlmIChhY2NvdW50VHlwZSkge1xuICAgICAgICByZXBvcnQub3JnYW5pemF0aW9uRGVwbG95ID0gYWNjb3VudFR5cGUuaXNJbk9yZ2FuaXphdGlvbjtcbiAgICAgICAgcmVwb3J0Lm1hbmFnZW1lbnRBY2NvdW50ID0gYWNjb3VudFR5cGUuaXNNYW5hZ2VtZW50QWNjb3VudDtcbiAgICAgICAgaWYgKGFjY291bnRUeXBlLmlzTWFuYWdlbWVudEFjY291bnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgYWNjb3VudFR5cGUuaXNNYW5hZ2VtZW50QWNjb3VudCA9IGZhbHNlO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJBV1MgYWNjb3VudCBpcyBub3QgdGhlIE1hbmFnZW1lbnQgQWNjb3VudCBvZiBhbiBBV1MgT3JnYW5pemF0aW9uXCIpO1xuICAgICAgICB9XG4gICAgICAgIGNmYXRNYW5hZ2VtZW50QWNjb3VudFBhc3MgPSBhY2NvdW50VHlwZS5pc01hbmFnZW1lbnRBY2NvdW50O1xuICAgIH1cbiAgICBjb25zb2xlLmxvZyhcImRpc2NvdmVyaW5nIElBTSBVc2Vycy4uLlwiKTtcbiAgICBjb25zdCBpYW1Vc2VyUmVzdWx0ID0gYXdhaXQgY2hlY2tJYW1Vc2VycygpO1xuICAgIGlmIChpYW1Vc2VyUmVzdWx0ICYmIGlhbVVzZXJSZXN1bHQubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIklBTSBVc2VycyBkaXNjb3ZlcmVkLlwiKTtcbiAgICAgICAgcmVwb3J0LmlhbVVzZXJDaGVja3MgPSBpYW1Vc2VyUmVzdWx0O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY2ZhdElhbVVzZXJQYXNzID0gdHJ1ZTtcbiAgICB9XG4gICAgY29uc29sZS5sb2coXCJkaXNjb3ZlcmluZyBFQzIgaW5zdGFuY2VzIGFjcm9zcyBhbGwgQVdTIFJlZ2lvbnMuLi5cIik7XG4gICAgY29uc3QgZWMyQ2hlY2sgPSBhd2FpdCBjaGVja0VjMkV4aXN0cyhhbGxSZWdpb25zKTtcbiAgICBpZiAoZWMyQ2hlY2sgJiYgZWMyQ2hlY2suZmluZChwYXJhbSA9PiBwYXJhbS5lYzJGb3VuZCA9PT0gdHJ1ZSkpIHtcbiAgICAgICAgcmVwb3J0LmVjMkNoZWNrcyA9IGVjMkNoZWNrO1xuICAgICAgICBjb25zb2xlLmluZm8oXCJ3YXJuaW5nOiBFQzIgaW5zdGFuY2VzIGRpc2NvdmVyZWQuXCIpO1xuICAgICAgICBmb3IgKGNvbnN0IGVjMiBvZiBlYzJDaGVjaykge1xuICAgICAgICAgICAgY2ZhdEVjMlBhc3MgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zb2xlLmxvZyhcImRpc2NvdmVyaW5nIFZQQ3MgYWNyb3NzIGFsbCBBV1MgUmVnaW9ucy4uLlwiKTtcbiAgICBjb25zdCB2cGNDaGVjayA9IGF3YWl0IGNoZWNrVnBjRXhpc3RzKGFsbFJlZ2lvbnMpO1xuICAgIHJlcG9ydC52cGNDaGVja3MgPSB2cGNDaGVjaztcbiAgICBpZiAodnBjQ2hlY2sgJiYgdnBjQ2hlY2subGVuZ3RoID4gMCkge1xuICAgICAgICBjZmF0VnBjUGFzcyA9IGZhbHNlO1xuICAgICAgICBjb25zb2xlLmxvZyhcIndhcm5pbmc6IFZQQ3MgZGlzY292ZXJlZC5cIik7XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKFwiZGlzY292ZXJpbmcgQVdTIENvbmZpZyBjb25maWd1cmF0aW9ucyBhY3Jvc3MgYWxsIEFXUyBSZWdpb25zLi4uXCIpO1xuICAgIHJlcG9ydC5jbG91ZFRyYWlsRGV0YWlscyA9IGF3YWl0IGNoZWNrQ2xvdWRUcmFpbEV4aXN0cyhhbGxSZWdpb25zKTtcbiAgICByZXBvcnQuY29uZmlnRGV0YWlscyA9IGF3YWl0IGNoZWNrQ29uZmlnRXhpc3RzKGFsbFJlZ2lvbnMpO1xuICAgIGlmIChyZXBvcnQuY29uZmlnRGV0YWlscyAmJiByZXBvcnQuY29uZmlnRGV0YWlscy5maW5kKHBhcmFtID0+IHBhcmFtLmNvbmZpZ1JlY29yZGVyRm91bmQgPT09IHRydWUpKSB7XG4gICAgICAgIGZvciAoY29uc3QgY29uZmlnRmluZCBvZiByZXBvcnQuY29uZmlnRGV0YWlscykge1xuICAgICAgICAgICAgaWYgKGNvbmZpZ0ZpbmQuY29uZmlnUmVjb3JkZXJGb3VuZCkge1xuICAgICAgICAgICAgICAgIGNmYXRDb25maWdNYW5hZ2VtZW50QWNjb3VudFBhc3MgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvbmZpZ0ZpbmQuY29uZmlnRGVsaXZlcnlDaGFubmVsRm91bmQpIHtcbiAgICAgICAgICAgICAgICBjZmF0Q29uZmlnUmVjb3JkZXJNYW5hZ2VtZW50QWNjb3VudFBhc3MgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIGFsbCB0aGUgZm9sbG93aW5nIGNhbGxzIHJlcXVpcmUgYW4gQVdTIE9yZ2FuaXphdGlvbiB0byBleGlzdCBhbmQgdGhlIGFjY291bnQgYmUgYSBtYW5hZ2VtZW50IGFjY291bnRcbiAgICBpZiAoYWNjb3VudFR5cGUuaXNJbk9yZ2FuaXphdGlvbiAmJiBhY2NvdW50VHlwZS5pc01hbmFnZW1lbnRBY2NvdW50KSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiY29sbGVjdGluZyBnZW5lcmFsIEFXUyBPcmdhbml6YXRpb24gZGV0YWlscy4uLlwiKTtcbiAgICAgICAgY29uc3Qgb3JnRGV0YWlscyA9IGF3YWl0IGdldE9yZ0RldGFpbHMoJ3VzLWVhc3QtMScpO1xuICAgICAgICBjb25zb2xlLmxvZyhcImNvbGxlY3RpbmcgQ1VSIGRldGFpbHMuLi5cIik7XG4gICAgICAgIGNvbnN0IGxlZ2FjeUN1ckNoZWNrID0gYXdhaXQgY2hlY2tMZWdhY3lDdXIoJ3VzLWVhc3QtMScpO1xuICAgICAgICBjb25zb2xlLmxvZyhcImNvbGxlY3RpbmcgQVdTIE9yZ2FuaXphdGlvbiBQb2xpY3kgZGV0YWlscy4uLlwiKTtcbiAgICAgICAgY29uc3QgZW5hYmxlT3JnUG9saWNpZXNDaGVjayA9IGF3YWl0IGdldEVuYWJsZWRPcmdQb2xpY3lUeXBlcygndXMtZWFzdC0xJyk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiY29sbGVjdGluZyBBV1MgT3JnYW5pemF0aW9uIHNlcnZpY2UgdHJ1c3RlZCBhY2Nlc3MgZGV0YWlscy4uLlwiKTtcbiAgICAgICAgcmVwb3J0Lm9yZ1NlcnZpY2VzID0gYXdhaXQgZ2V0RW5hYmxlZE9yZ1NlcnZpY2VzKCd1cy1lYXN0LTEnKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJjb2xsZWN0aW5nIEFXUyBPcmdhbml6YXRpb24gQ2xvdWRGb3JtYXRpb24gc3RhdHVzIGRldGFpbHMuLi5cIik7XG4gICAgICAgIGNvbnN0IGNmbk9yZ1N0YXR1cyA9IGF3YWl0IGdldE9yZ0Nsb3VkRm9ybWF0aW9uKHJlZ2lvbik7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiY29sbGVjdGluZyBBV1MgQ29udHJvbCBUb3dlciBkZXRhaWxzLi4uXCIpO1xuICAgICAgICBjb25zdCBjb250cm9sVG93ZXJEZXRhaWxzID0gYXdhaXQgZ2V0Q29udHJvbFRvd2VyKHJlZ2lvbik7XG4gICAgICAgIHJlcG9ydC5pZGNJbmZvID0gYXdhaXQgZ2V0SWRjSW5mbyhhbGxSZWdpb25zKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJjb2xsZWN0aW5nIEFXUyBPcmdhbml6YXRpb24gc2VydmljZSBkZWxlZ2F0ZWQgYWRtaW4gZGV0YWlscy4uLlwiKTtcbiAgICAgICAgcmVwb3J0Lm9yZ0RlbGVnYXRlZEFkbWluQWNjb3VudHMgPSBhd2FpdCBnZXRPcmdEYUFjY291bnRzKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiY29sbGVjdGluZyBBV1MgT3JnYW5pemF0aW9uIG1lbWJlciBhY2NvdW50IGRldGFpbHMuLi5cIik7XG4gICAgICAgIHJlcG9ydC5vcmdNZW1iZXJBY2NvdW50cyA9IGF3YWl0IGdldE9yZ01lbWJlckFjY291bnRzKCk7XG4gICAgICAgIHJlcG9ydC5pc0xlZ2FjeUN1clNldHVwID0gbGVnYWN5Q3VyQ2hlY2suaXNMZWdhY3lDdXJTZXR1cDtcbiAgICAgICAgcmVwb3J0Lm9yZ0FybiA9IG9yZ0RldGFpbHMuYXJuO1xuICAgICAgICByZXBvcnQub3JnSWQgPSBvcmdEZXRhaWxzLmlkO1xuICAgICAgICByZXBvcnQub3JnUm9vdE91SWQgPSBvcmdEZXRhaWxzLnJvb3RPdUlkO1xuICAgICAgICByZXBvcnQuYmFja3VwUG9saWN5RW5hYmxlZCA9IGVuYWJsZU9yZ1BvbGljaWVzQ2hlY2suYmFja3VwUG9saWN5RW5hYmxlZDtcbiAgICAgICAgcmVwb3J0LnNjcEVuYWJsZWQgPSBlbmFibGVPcmdQb2xpY2llc0NoZWNrLnNjcEVuYWJsZWQ7XG4gICAgICAgIHJlcG9ydC50YWdQb2xpY3lFbmFibGVkID0gZW5hYmxlT3JnUG9saWNpZXNDaGVjay50YWdQb2xpY3lFbmFibGVkO1xuICAgICAgICByZXBvcnQub3JnQ2xvdWRGb3JtYXRpb25TdGF0dXMgPSBjZm5PcmdTdGF0dXMuc3RhdHVzO1xuICAgICAgICByZXBvcnQuY29udHJvbFRvd2VyRGVwbG95ZWRWZXJzaW9uID0gY29udHJvbFRvd2VyRGV0YWlscy5kZXBsb3llZFZlcnNpb247XG4gICAgICAgIHJlcG9ydC5jb250cm9sVG93ZXJEcmlmdFN0YXR1cyA9IGNvbnRyb2xUb3dlckRldGFpbHMuZHJpZnRTdGF0dXM7XG4gICAgICAgIHJlcG9ydC5jb250cm9sVG93ZXJMYXRlc3RBdmFpbGFibGVWZXJzaW9uID0gY29udHJvbFRvd2VyRGV0YWlscy5sYXRlc3RBdmFpbGFibGVWZXJzaW9uO1xuICAgICAgICByZXBvcnQuY29udHJvbFRvd2VyUmVnaW9uID0gY29udHJvbFRvd2VyRGV0YWlscy5jb250cm9sVG93ZXJSZWdpb247XG4gICAgICAgIHJlcG9ydC5jb250cm9sVG93ZXJTdGF0dXMgPSBjb250cm9sVG93ZXJEZXRhaWxzLnN0YXR1cztcbiAgICAgICAgaWYgKHJlcG9ydC5pZGNJbmZvLmFybikge1xuICAgICAgICAgICAgY2ZhdElhbUlkY0NvbmZpZ3VyZWRQYXNzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVwb3J0LmNsb3VkVHJhaWxEZXRhaWxzICYmIHJlcG9ydC5jbG91ZFRyYWlsRGV0YWlscy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjZmF0Q2xvdWRUcmFpbFBhc3MgPSB0cnVlO1xuICAgICAgICAgICAgZm9yIChjb25zdCBjdEZpbmQgb2YgcmVwb3J0LmNsb3VkVHJhaWxEZXRhaWxzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGN0RmluZC50cmFpbEZvdW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjdEZpbmQuaXNPcmdUcmFpbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2ZhdENsb3VkVHJhaWxPcmdUcmFpbFBhc3MgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChyZXBvcnQub3JnU2VydmljZXMuZmluZChwYXJhbSA9PiBwYXJhbS5zZXJ2aWNlID09PSAnY2xvdWR0cmFpbC5hbWF6b25hd3MuY29tJykpIHtcbiAgICAgICAgICAgIGNmYXRDbG91ZFRyYWlsT3JnU2VydmljZUVuYWJsZWRQYXNzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVwb3J0Lm9yZ1NlcnZpY2VzLmZpbmQocGFyYW0gPT4gcGFyYW0uc2VydmljZSA9PT0gJ2NvbmZpZy5hbWF6b25hd3MuY29tJykpIHtcbiAgICAgICAgICAgIGNmYXRPcmdTZXJ2aWNlQXdzQ29uZmlnRW5hYmxlZFBhc3MgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlbmFibGVPcmdQb2xpY2llc0NoZWNrLnNjcEVuYWJsZWQpIHtcbiAgICAgICAgICAgIGNmYXRTY3BFbmFibGVkUGFzcyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVuYWJsZU9yZ1BvbGljaWVzQ2hlY2sudGFnUG9saWN5RW5hYmxlZCkge1xuICAgICAgICAgICAgY2ZhdFRhZ1BvbGljaWVzRW5hYmxlZFBhc3MgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlbmFibGVPcmdQb2xpY2llc0NoZWNrLmJhY2t1cFBvbGljeUVuYWJsZWQpIHtcbiAgICAgICAgICAgIGNmYXRCYWNrdXBQb2xpY2llc0VuYWJsZWRQYXNzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3JnRGV0YWlscy5yb290T3VJZCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJjb2xsZWN0aW5nIE9VIGFuZCBtZW1iZXIgYWNjb3VudCBkZXRhaWxzLi4uXCIpO1xuICAgICAgICAgICAgcmVwb3J0Lm9yZ091SW5mbyA9IGF3YWl0IGdldE9yZ1RvcExldmVsT3VzKCd1cy1lYXN0LTEnLCBvcmdEZXRhaWxzLnJvb3RPdUlkKTtcbiAgICAgICAgICAgIGlmIChyZXBvcnQub3JnT3VJbmZvICYmIHJlcG9ydC5vcmdPdUluZm8ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgb3Ugb2YgcmVwb3J0Lm9yZ091SW5mbykge1xuICAgICAgICAgICAgICAgICAgICBpZiAob3UubmFtZT8udG9Mb3dlckNhc2UoKSA9PT0gJ3N1c3BlbmRlZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1c3BlbmRlZEZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3UubmFtZT8udG9Mb3dlckNhc2UoKSA9PT0gJ3RyYW5zaXRpb25hbCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb25hbEZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3UubmFtZT8udG9Mb3dlckNhc2UoKSA9PT0gJ3dvcmtsb2FkcycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdvcmtsb2Fkc0ZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3UubmFtZT8udG9Mb3dlckNhc2UoKSA9PT0gJ3NlY3VyaXR5Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VjdXJpdHlGb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG91Lm5hbWU/LnRvTG93ZXJDYXNlKCkgPT09ICdpbmZyYXN0cnVjdHVyZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZnJhc3RydWN0dXJlRm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChyZXBvcnQub3JnTWVtYmVyQWNjb3VudHMgJiYgcmVwb3J0Lm9yZ01lbWJlckFjY291bnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgbWVtYmVyQWNjb3VudCBvZiByZXBvcnQub3JnTWVtYmVyQWNjb3VudHMpIHtcbiAgICAgICAgICAgICAgICBpZiAobWVtYmVyQWNjb3VudC5hY2NvdW50TmFtZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVtYmVyQWNjb3VudC5hY2NvdW50TmFtZS50b0xvd2VyQ2FzZSgpID09PSAnbG9nIGFyY2hpdmUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjZmF0TG9nQXJjaGl2ZUFjY291bnRQYXNzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobWVtYmVyQWNjb3VudC5hY2NvdW50TmFtZS50b0xvd2VyQ2FzZSgpID09PSAnYXVkaXQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjZmF0QXVkaXRBY2NvdW50UGFzcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lbWJlckFjY291bnQuYWNjb3VudE5hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ3NlY3VyaXR5IHRvb2xpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjZmF0QXVkaXRBY2NvdW50UGFzcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGlkZW50aXR5RGVsZWdhdGVkID0gZmFsc2U7XG4gICAgICAgIGxldCBzZWN1cml0eUh1YkRlbGVnYXRlZCA9IGZhbHNlO1xuICAgICAgICBsZXQgZ3VhcmREdXR5RGVsZWdhdGVkID0gZmFsc2U7XG4gICAgICAgIGxldCBjb25maWdEZWxlZ2F0ZWQgPSBmYWxzZTtcbiAgICAgICAgbGV0IGlhbUFjY2Vzc0FuYWx5emVyRGVsZWdhdGVkID0gZmFsc2U7XG4gICAgICAgIGxldCBzM1N0b3JhZ2VMZW5zRGVsZWdhdGVkID0gZmFsc2U7XG4gICAgICAgIGxldCBpcGFtRGVsZWdhdGVkID0gZmFsc2U7XG4gICAgICAgIGxldCBhY2NvdW50RGVsZWdhdGVkID0gZmFsc2U7XG4gICAgICAgIGxldCBiYWNrdXBEZWxlZ2F0ZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKHJlcG9ydC5vcmdEZWxlZ2F0ZWRBZG1pbkFjY291bnRzICYmIHJlcG9ydC5vcmdEZWxlZ2F0ZWRBZG1pbkFjY291bnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgYWNjb3VudCBvZiByZXBvcnQub3JnRGVsZWdhdGVkQWRtaW5BY2NvdW50cykge1xuICAgICAgICAgICAgICAgIGlmIChhY2NvdW50LnNlcnZpY2VzICYmIGFjY291bnQuc2VydmljZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHNydiBvZiBhY2NvdW50LnNlcnZpY2VzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3J2LlNlcnZpY2VQcmluY2lwYWwgPT09ICdzZWN1cml0eWh1Yi5hbWF6b25hd3MuY29tJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlY3VyaXR5SHViRGVsZWdhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzcnYuU2VydmljZVByaW5jaXBhbCA9PT0gJ2d1YXJkZHV0eS5hbWF6b25hd3MuY29tJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGd1YXJkRHV0eURlbGVnYXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3J2LlNlcnZpY2VQcmluY2lwYWwgPT09ICdzc28uYW1hem9uYXdzLmNvbScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZGVudGl0eURlbGVnYXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3J2LlNlcnZpY2VQcmluY2lwYWwgPT09ICdjb25maWcuYW1hem9uYXdzLmNvbScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maWdEZWxlZ2F0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNydi5TZXJ2aWNlUHJpbmNpcGFsID09PSAnYWNjZXNzLWFuYWx5emVyLmFtYXpvbmF3cy5jb20nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWFtQWNjZXNzQW5hbHl6ZXJEZWxlZ2F0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNydi5TZXJ2aWNlUHJpbmNpcGFsID09PSAnc3RvcmFnZS1sZW5zLnMzLmFtYXpvbmF3cy5jb20nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgczNTdG9yYWdlTGVuc0RlbGVnYXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3J2LlNlcnZpY2VQcmluY2lwYWwgPT09ICdpcGFtLmFtYXpvbmF3cy5jb20nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXBhbURlbGVnYXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3J2LlNlcnZpY2VQcmluY2lwYWwgPT09ICdhY2NvdW50LmFtYXpvbmF3cy5jb20nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudERlbGVnYXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3J2LlNlcnZpY2VQcmluY2lwYWwgPT09ICdiYWNrdXAuYW1hem9uYXdzLmNvbScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrdXBEZWxlZ2F0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjb250cm9sVG93ZXJEZXRhaWxzLmNvbnRyb2xUb3dlclJlZ2lvbikge1xuICAgICAgICAgICAgY2ZhdENvbnRyb2xUb3dlckRlcGxveWVkUGFzcyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbnRyb2xUb3dlckRldGFpbHMuZHJpZnRTdGF0dXMgIT09ICdEUklGVEVEJykge1xuICAgICAgICAgICAgY2ZhdENvbnRyb2xUb3dlck5vdERyaWZ0ZWRQYXNzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29udHJvbFRvd2VyRGV0YWlscy5kZXBsb3llZFZlcnNpb24gPT09IGNvbnRyb2xUb3dlckRldGFpbHMubGF0ZXN0QXZhaWxhYmxlVmVyc2lvbikge1xuICAgICAgICAgICAgY2ZhdENvbnRyb2xUb3dlckxhdGVzdFZlcnNpb25QYXNzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVwb3J0Lm9yZ1NlcnZpY2VzLmZpbmQocGFyYW0gPT4gcGFyYW0uc2VydmljZSA9PT0gJ21lbWJlci5vcmcuc3RhY2tzZXRzLmNsb3VkZm9ybWF0aW9uLmFtYXpvbmF3cy5jb20nKSkge1xuICAgICAgICAgICAgY2ZhdE9yZ0Nsb3VkRm9ybWF0aW9uU3RhdHVzUGFzcyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlcG9ydC5vcmdTZXJ2aWNlcy5maW5kKHBhcmFtID0+IHBhcmFtLnNlcnZpY2UgPT09ICdzc28uYW1hem9uYXdzLmNvbScpKSB7XG4gICAgICAgICAgICBjZmF0SWFtSWRQT3JnU2VydmljZVBhc3MgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXBvcnQub3JnU2VydmljZXMuZmluZChwYXJhbSA9PiBwYXJhbS5zZXJ2aWNlID09PSAnZ3VhcmRkdXR5LmFtYXpvbmF3cy5jb20nKSkge1xuICAgICAgICAgICAgY2ZhdE9yZ1NlcnZpY2VHdWFyZER1dHlFbmFibGVkUGFzcyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlcG9ydC5vcmdTZXJ2aWNlcy5maW5kKHBhcmFtID0+IHBhcmFtLnNlcnZpY2UgPT09ICdzZWN1cml0eWh1Yi5hbWF6b25hd3MuY29tJykpIHtcbiAgICAgICAgICAgIGNmYXRPcmdTZXJ2aWNlU2VjdXJpdHlIdWJFbmFibGVkUGFzcyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlcG9ydC5vcmdTZXJ2aWNlcy5maW5kKHBhcmFtID0+IHBhcmFtLnNlcnZpY2UgPT09ICdhY2Nlc3MtYW5hbHl6ZXIuYW1hem9uYXdzLmNvbScpKSB7XG4gICAgICAgICAgICBjZmF0T3JnU2VydmljZUlhbUFjY2Vzc0FuYWx5emVyRW5hYmxlZFBhc3MgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXBvcnQub3JnU2VydmljZXMuZmluZChwYXJhbSA9PiBwYXJhbS5zZXJ2aWNlID09PSAncmFtLmFtYXpvbmF3cy5jb20nKSkge1xuICAgICAgICAgICAgY2ZhdE9yZ1NlcnZpY2VSYW1FbmFibGVkUGFzcyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlcG9ydC5vcmdTZXJ2aWNlcy5maW5kKHBhcmFtID0+IHBhcmFtLnNlcnZpY2UgPT09ICdiYWNrdXAuYW1hem9uYXdzLmNvbScpKSB7XG4gICAgICAgICAgICBjZmF0T3JnU2VydmljZUJhY2t1cEVuYWJsZWRQYXNzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChhY2NvdW50VHlwZS5pc0luT3JnYW5pemF0aW9uICYmICFhY2NvdW50VHlwZS5pc01hbmFnZW1lbnRBY2NvdW50KSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSAnXFxuV0FSTklORzogWW91IGFyZSBydW5uaW5nIENGQVQgZnJvbSBhbiBhY2NvdW50IHRoYXQgaXMgYSBtZW1iZXIgb2YgeW91ciBBV1MgT3JnYW5pemF0aW9uLiBQbGVhc2UgcnVuIHRoZSBzb2x1dGlvbiBmcm9tIHlvdXIgQVdTIE1hbmFnZW1lbnQgYWNjb3VudC4nO1xuICAgICAgICBjb25zb2xlLndhcm4obWVzc2FnZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gJ1xcbldBUk5JTkc6IFlvdSBhcmUgcnVubmluZyBDRkFUIGZyb20gYW4gYWNjb3VudCB0aGF0IG5vdCBwYXJ0IG9mIGFuIEFXUyBPcmdhbml6YXRpb24uIFRoaXMgYWNjb3VudCB3aWxsIGJlIHRyZWF0ZWQgYXMgYSBzdGFuZGFsb25lIGFjY291bnQuJztcbiAgICAgICAgY29uc29sZS53YXJuKG1lc3NhZ2UpO1xuICAgIH1cbiAgICBsZXQgT3JnQ2hlY2sgPSB7XG4gICAgICAgIGNoZWNrOiBcIkFXUyBPcmdhbml6YXRpb24gY3JlYXRlZFwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJBV1MgT3JnYW5pemF0aW9uIGlzIGVuYWJsZWQuXCIsXG4gICAgICAgIHN0YXR1czogYWNjb3VudFR5cGUuaXNJbk9yZ2FuaXphdGlvbiA/IFwiY29tcGxldGVcIiA6IFwiaW5jb21wbGV0ZVwiLFxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgd2VpZ2h0OiA2LFxuICAgICAgICBsb2U6IDEsXG4gICAgICAgIHJlbWVkaWF0aW9uTGluazogXCJodHRwczovL2F3cy5hbWF6b24uY29tL29yZ2FuaXphdGlvbnMvZ2V0dGluZy1zdGFydGVkL1wiXG4gICAgfTtcbiAgICBjZmF0Q2hlY2tzLnB1c2goT3JnQ2hlY2spO1xuICAgIGxldCBNQUNoZWNrID0ge1xuICAgICAgICBjaGVjazogXCJNYW5hZ2VtZW50IEFjY291bnQgY3JlYXRlZFwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJBV1MgTWFuYWdlbWVudCBhY2NvdW50IGV4aXN0cy5cIixcbiAgICAgICAgc3RhdHVzOiBjZmF0TWFuYWdlbWVudEFjY291bnRQYXNzID8gXCJjb21wbGV0ZVwiIDogXCJpbmNvbXBsZXRlXCIsXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICB3ZWlnaHQ6IDYsXG4gICAgICAgIGxvZTogMSxcbiAgICAgICAgcmVtZWRpYXRpb25MaW5rOiBcImh0dHBzOi8vZG9jcy5hd3MuYW1hem9uLmNvbS9hY2NvdW50cy9sYXRlc3QvcmVmZXJlbmNlL21hbmFnZS1hY2N0LWNyZWF0aW5nLmh0bWxcIlxuICAgIH07XG4gICAgY2ZhdENoZWNrcy5wdXNoKE1BQ2hlY2spO1xuICAgIGNvbnN0IGNmYXRJYW1Vc2VyQ2hlY2sgPSB7XG4gICAgICAgIGNoZWNrOiBcIk1hbmFnZW1lbnQgQWNjb3VudCBJQU0gdXNlcnMgcmVtb3ZlZFwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJJQU0gVXNlcnMgc2hvdWxkIG5vdCBleGlzdCBpbiBNYW5hZ2VtZW50IEFjY291bnQuXCIsXG4gICAgICAgIHN0YXR1czogY2ZhdElhbVVzZXJQYXNzID8gXCJjb21wbGV0ZVwiIDogXCJpbmNvbXBsZXRlXCIsXG4gICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgICAgd2VpZ2h0OiA0LFxuICAgICAgICBsb2U6IDEsXG4gICAgICAgIHJlbWVkaWF0aW9uTGluazogXCJodHRwczovL2RvY3MuYXdzLmFtYXpvbi5jb20vSUFNL2xhdGVzdC9Vc2VyR3VpZGUvaWRfdXNlcnNfbWFuYWdlLmh0bWwjaWRfdXNlcnNfZGVsZXRpbmdcIlxuICAgIH07XG4gICAgY2ZhdENoZWNrcy5wdXNoKGNmYXRJYW1Vc2VyQ2hlY2spO1xuICAgIGNvbnN0IGNmYXRFYzJDaGVjayA9IHtcbiAgICAgICAgY2hlY2s6IFwiTWFuYWdlbWVudCBBY2NvdW50IEVDMiBpbnN0YW5jZXMgcmVtb3ZlZFwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJFQzIgSW5zdGFuY2VzIHNob3VsZCBub3QgZXhpc3QgaW4gTWFuYWdlbWVudCBBY2NvdW50LlwiLFxuICAgICAgICBzdGF0dXM6IGNmYXRFYzJQYXNzID8gXCJjb21wbGV0ZVwiIDogXCJpbmNvbXBsZXRlXCIsXG4gICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgICAgd2VpZ2h0OiA0LFxuICAgICAgICBsb2U6IDEsXG4gICAgICAgIHJlbWVkaWF0aW9uTGluazogXCJodHRwczovL2RvY3MuYXdzLmFtYXpvbi5jb20vQVdTRUMyL2xhdGVzdC9Vc2VyR3VpZGUvdGVybWluYXRpbmctaW5zdGFuY2VzLmh0bWxcIlxuICAgIH07XG4gICAgY2ZhdENoZWNrcy5wdXNoKGNmYXRFYzJDaGVjayk7XG4gICAgY29uc3QgY2ZhdFZwY0NoZWNrID0ge1xuICAgICAgICBjaGVjazogXCJNYW5hZ2VtZW50IEFjY291bnQgVlBDcyByZW1vdmVkXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIk1hbmFnZW1lbnQgQWNjb3VudCBzaG91bGQgbm90IGhhdmUgYW55IFZQQ3MuXCIsXG4gICAgICAgIHN0YXR1czogY2ZhdFZwY1Bhc3MgPyBcImNvbXBsZXRlXCIgOiBcImluY29tcGxldGVcIixcbiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgICB3ZWlnaHQ6IDQsXG4gICAgICAgIGxvZTogMSxcbiAgICAgICAgcmVtZWRpYXRpb25MaW5rOiBcImh0dHBzOi8vZ2l0aHViLmNvbS9jbG91ZC1mb3VuZGF0aW9ucy1vbi1hd3MvY2xvdWQtZm91bmRhdGlvbnMtdGVtcGxhdGVzL2Jsb2IvbWFpbi9uZXR3b3JrL25ldHdvcmstZGVmYXVsdC12cGMtZGVsZXRpb24vUkVBRE1FLm1kXCJcbiAgICB9O1xuICAgIGNmYXRDaGVja3MucHVzaChjZmF0VnBjQ2hlY2spO1xuICAgIGNvbnN0IGNmYXRMZWdhY3lDdXJDaGVjayA9IHtcbiAgICAgICAgY2hlY2s6IFwiTGVnYWN5IENVUiBzZXR1cFwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJMZWdhY3kgQ29zdCBhbmQgVXNhZ2UgUmVwb3J0IChDVVIpIHNob3VsZCBiZSBzZXR1cCBvciBkYXRhIGV4cG9ydHMuXCIsXG4gICAgICAgIHN0YXR1czogcmVwb3J0LmlzTGVnYWN5Q3VyU2V0dXAgPyBcImNvbXBsZXRlXCIgOiBcImluY29tcGxldGVcIixcbiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgICB3ZWlnaHQ6IDQsXG4gICAgICAgIGxvZTogMSxcbiAgICAgICAgcmVtZWRpYXRpb25MaW5rOiBcImh0dHBzOi8vZG9jcy5hd3MuYW1hem9uLmNvbS9jdXIvbGF0ZXN0L3VzZXJndWlkZS9kYXRhZXhwb3J0cy1jcmVhdGUtbGVnYWN5Lmh0bWxcIlxuICAgIH07XG4gICAgY29uc3QgY2ZhdENsb3VkVHJhaWxDaGVjayA9IHtcbiAgICAgICAgY2hlY2s6IFwiQ2xvdWRUcmFpbCBUcmFpbCBjcmVhdGVkXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIkNsb3VkVHJhaWwgc2hvdWxkIGJlIGVuYWJsZWQgd2l0aGluIHRoZSBhY2NvdW50LlwiLFxuICAgICAgICBzdGF0dXM6IGNmYXRDbG91ZFRyYWlsUGFzcyA/IFwiY29tcGxldGVcIiA6IFwiaW5jb21wbGV0ZVwiLFxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgd2VpZ2h0OiA2LFxuICAgICAgICBsb2U6IDMsXG4gICAgICAgIHJlbWVkaWF0aW9uTGluazogXCJodHRwczovL2RvY3MuYXdzLmFtYXpvbi5jb20vYXdzY2xvdWR0cmFpbC9sYXRlc3QvdXNlcmd1aWRlL2NyZWF0aW5nLXRyYWlsLW9yZ2FuaXphdGlvbi5odG1sXCJcbiAgICB9O1xuICAgIGNmYXRDaGVja3MucHVzaChjZmF0Q2xvdWRUcmFpbENoZWNrKTtcbiAgICBjb25zdCBjZmF0Q2xvdWRUcmFpbE9yZ1NlcnZpY2VFbmFibGVkQ2hlY2sgPSB7XG4gICAgICAgIGNoZWNrOiBcIkNsb3VkVHJhaWwgT3JnYW5pemF0aW9uIFNlcnZpY2UgZW5hYmxlZFwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJDbG91ZFRyYWlsIHNob3VsZCBiZSBlbmFibGVkIG9uIHRoZSBPcmdhbml6YXRpb24uXCIsXG4gICAgICAgIHN0YXR1czogY2ZhdENsb3VkVHJhaWxPcmdTZXJ2aWNlRW5hYmxlZFBhc3MgPyBcImNvbXBsZXRlXCIgOiBcImluY29tcGxldGVcIixcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgIHdlaWdodDogNixcbiAgICAgICAgbG9lOiAxLFxuICAgICAgICByZW1lZGlhdGlvbkxpbms6IFwiaHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL29yZ2FuaXphdGlvbnMvbGF0ZXN0L3VzZXJndWlkZS9zZXJ2aWNlcy10aGF0LWNhbi1pbnRlZ3JhdGUtY2xvdWR0cmFpbC5odG1sXCJcbiAgICB9O1xuICAgIGNmYXRDaGVja3MucHVzaChjZmF0Q2xvdWRUcmFpbE9yZ1NlcnZpY2VFbmFibGVkQ2hlY2spO1xuICAgIGNvbnN0IGNmYXRDbG91ZFRyYWlsT3JnVHJhaWxDaGVjayA9IHtcbiAgICAgICAgY2hlY2s6IFwiQ2xvdWRUcmFpbCBPcmcgVHJhaWwgZGVwbG95ZWRcIixcbiAgICAgICAgZGVzY3JpcHRpb246IFwiQXQgbGVhc3Qgb25lIENsb3VkVHJhaWwgT3JnYW5pemF0aW9uIFRyYWlsIHNob3VsZCBiZSBlbmFibGVkLlwiLFxuICAgICAgICBzdGF0dXM6IGNmYXRDbG91ZFRyYWlsT3JnVHJhaWxQYXNzID8gXCJjb21wbGV0ZVwiIDogXCJpbmNvbXBsZXRlXCIsXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICB3ZWlnaHQ6IDYsXG4gICAgICAgIGxvZTogMSxcbiAgICAgICAgcmVtZWRpYXRpb25MaW5rOiBcImh0dHBzOi8vZG9jcy5hd3MuYW1hem9uLmNvbS9hd3NjbG91ZHRyYWlsL2xhdGVzdC91c2VyZ3VpZGUvY3JlYXRpbmctdHJhaWwtb3JnYW5pemF0aW9uLmh0bWxcIlxuICAgIH07XG4gICAgY2ZhdENoZWNrcy5wdXNoKGNmYXRDbG91ZFRyYWlsT3JnVHJhaWxDaGVjayk7XG4gICAgY29uc3QgY2ZhdENvbmZpZ01hbmFnZW1lbnRBY2NvdW50Q2hlY2sgPSB7XG4gICAgICAgIGNoZWNrOiBcIkNvbmZpZyBSZWNvcmRlciBpbiBNYW5hZ2VtZW50IEFjY291bnQgY29uZmlndXJlZFwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJDb25maWcgUmVjb3JkZXIgaW4gdGhlIE1hbmFnZW1lbnQgQWNjb3VudCBzaG91bGQgYmUgZW5hYmxlZC5cIixcbiAgICAgICAgc3RhdHVzOiBjZmF0Q29uZmlnTWFuYWdlbWVudEFjY291bnRQYXNzID8gXCJjb21wbGV0ZVwiIDogXCJpbmNvbXBsZXRlXCIsXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICB3ZWlnaHQ6IDYsXG4gICAgICAgIGxvZTogMixcbiAgICAgICAgcmVtZWRpYXRpb25MaW5rOiBcImh0dHBzOi8vYXdzLmFtYXpvbi5jb20vYmxvZ3MvbXQvbWFuYWdpbmctYXdzLW9yZ2FuaXphdGlvbnMtYWNjb3VudHMtdXNpbmctYXdzLWNvbmZpZy1hbmQtYXdzLWNsb3VkZm9ybWF0aW9uLXN0YWNrc2V0cy9cIlxuICAgIH07XG4gICAgY2ZhdENoZWNrcy5wdXNoKGNmYXRDb25maWdNYW5hZ2VtZW50QWNjb3VudENoZWNrKTtcbiAgICBjb25zdCBjZmF0Q29uZmlnUmVjb3JkZXJNYW5hZ2VtZW50QWNjb3VudENoZWNrID0ge1xuICAgICAgICBjaGVjazogXCJDb25maWcgRGVsaXZlcnkgQ2hhbm5lbCBpbiBNYW5hZ2VtZW50IEFjY291bnQgY29uZmlndXJlZFwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJDb25maWcgRGVsaXZlcnkgQ2hhbm5lbCBpbiBNYW5hZ2VtZW50IEFjY291bnQgc2hvdWxkIGJlIGVuYWJsZWQuXCIsXG4gICAgICAgIHN0YXR1czogY2ZhdENvbmZpZ1JlY29yZGVyTWFuYWdlbWVudEFjY291bnRQYXNzID8gXCJjb21wbGV0ZVwiIDogXCJpbmNvbXBsZXRlXCIsXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICB3ZWlnaHQ6IDYsXG4gICAgICAgIGxvZTogMixcbiAgICAgICAgcmVtZWRpYXRpb25MaW5rOiBcImh0dHBzOi8vYXdzLmFtYXpvbi5jb20vYmxvZ3MvbXQvbWFuYWdpbmctYXdzLW9yZ2FuaXphdGlvbnMtYWNjb3VudHMtdXNpbmctYXdzLWNvbmZpZy1hbmQtYXdzLWNsb3VkZm9ybWF0aW9uLXN0YWNrc2V0cy9cIlxuICAgIH07XG4gICAgY2ZhdENoZWNrcy5wdXNoKGNmYXRDb25maWdSZWNvcmRlck1hbmFnZW1lbnRBY2NvdW50Q2hlY2spO1xuICAgIGNvbnN0IGNmYXRDbG91ZEZvcm1hdGlvbkVuYWJsZUNoZWNrID0ge1xuICAgICAgICBjaGVjazogXCJDbG91ZEZvcm1hdGlvbiBTdGFja1NldHMgYWN0aXZhdGVkXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIkNsb3VkRm9ybWF0aW9uIFN0YWNrU2V0cyBzaG91bGQgYmUgYWN0aXZhdGVkIGluIHRoZSBDbG91ZEZvcm1hdGlvbiBjb25zb2xlLlwiLFxuICAgICAgICBzdGF0dXM6IGNmYXRPcmdDbG91ZEZvcm1hdGlvbkVuYWJsZWRQYXNzID8gXCJjb21wbGV0ZVwiIDogXCJpbmNvbXBsZXRlXCIsXG4gICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgICAgd2VpZ2h0OiA1LFxuICAgICAgICBsb2U6IDEsXG4gICAgICAgIHJlbWVkaWF0aW9uTGluazogXCJodHRwczovL2RvY3MuYXdzLmFtYXpvbi5jb20vb3JnYW5pemF0aW9ucy9sYXRlc3QvdXNlcmd1aWRlL3NlcnZpY2VzLXRoYXQtY2FuLWludGVncmF0ZS1jbG91ZGZvcm1hdGlvbi5odG1sI2ludGVncmF0ZS1lbmFibGUtdGEtY2xvdWRmb3JtYXRpb25cIlxuICAgIH07XG4gICAgY2ZhdENoZWNrcy5wdXNoKGNmYXRDbG91ZEZvcm1hdGlvbkVuYWJsZUNoZWNrKTtcbiAgICBjb25zdCBjZmF0T3JnU2VydmljZUd1YXJkRHV0eUNoZWNrID0ge1xuICAgICAgICBjaGVjazogXCJHdWFyZER1dHkgT3JnYW5pemF0aW9uIHNlcnZpY2UgZW5hYmxlZFwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJHdWFyZER1dHkgT3JnYW5pemF0aW9uIHNlcnZpY2VzIHNob3VsZCBiZSBlbmFibGVkLlwiLFxuICAgICAgICBzdGF0dXM6IGNmYXRPcmdTZXJ2aWNlR3VhcmREdXR5RW5hYmxlZFBhc3MgPyBcImNvbXBsZXRlXCIgOiBcImluY29tcGxldGVcIixcbiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgICB3ZWlnaHQ6IDQsXG4gICAgICAgIGxvZTogMSxcbiAgICAgICAgcmVtZWRpYXRpb25MaW5rOiBcImh0dHBzOi8vZG9jcy5hd3MuYW1hem9uLmNvbS9vcmdhbml6YXRpb25zL2xhdGVzdC91c2VyZ3VpZGUvc2VydmljZXMtdGhhdC1jYW4taW50ZWdyYXRlLWd1YXJkZHV0eS5odG1sI2ludGVncmF0ZS1lbmFibGUtdGEtZ3VhcmRkdXR5XCJcbiAgICB9O1xuICAgIGNmYXRDaGVja3MucHVzaChjZmF0T3JnU2VydmljZUd1YXJkRHV0eUNoZWNrKTtcbiAgICBjb25zdCBjZmF0T3JnU2VydmljZVJhbUNoZWNrID0ge1xuICAgICAgICBjaGVjazogXCJSQU0gT3JnYW5pemF0aW9uIHNlcnZpY2UgZW5hYmxlZFwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJSZXNvdXJjZSBBY2Nlc3MgTWFuYWdlciAoUkFNKSB0cnVzdGVkIGFjY2VzcyBzaG91bGQgYmUgZW5hYmxlZCBpbiB0aGUgQVdTIE9yZ2FuaXphdGlvbi5cIixcbiAgICAgICAgc3RhdHVzOiBjZmF0T3JnU2VydmljZVJhbUVuYWJsZWRQYXNzID8gXCJjb21wbGV0ZVwiIDogXCJpbmNvbXBsZXRlXCIsXG4gICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgICAgd2VpZ2h0OiA0LFxuICAgICAgICBsb2U6IDEsXG4gICAgICAgIHJlbWVkaWF0aW9uTGluazogXCJodHRwczovL2RvY3MuYXdzLmFtYXpvbi5jb20vb3JnYW5pemF0aW9ucy9sYXRlc3QvdXNlcmd1aWRlL3NlcnZpY2VzLXRoYXQtY2FuLWludGVncmF0ZS1yYW0uaHRtbCNpbnRlZ3JhdGUtZW5hYmxlLXRhLXJhbVwiXG4gICAgfTtcbiAgICBjZmF0Q2hlY2tzLnB1c2goY2ZhdE9yZ1NlcnZpY2VSYW1DaGVjayk7XG4gICAgY29uc3QgY2ZhdE9yZ1NlcnZpY2VTZWN1cml0eUh1YkNoZWNrID0ge1xuICAgICAgICBjaGVjazogXCJTZWN1cml0eSBIdWIgT3JnYW5pemF0aW9uIHNlcnZpY2UgZW5hYmxlZFwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJTZWN1cml0eSBIdWIgdHJ1c3RlZCBhY2Nlc3Mgc2hvdWxkIGJlIGVuYWJsZWQgaW4gdGhlIEFXUyBPcmdhbml6YXRpb24uXCIsXG4gICAgICAgIHN0YXR1czogY2ZhdE9yZ1NlcnZpY2VTZWN1cml0eUh1YkVuYWJsZWRQYXNzID8gXCJjb21wbGV0ZVwiIDogXCJpbmNvbXBsZXRlXCIsXG4gICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgICAgd2VpZ2h0OiA0LFxuICAgICAgICBsb2U6IDEsXG4gICAgICAgIHJlbWVkaWF0aW9uTGluazogXCJodHRwczovL2RvY3MuYXdzLmFtYXpvbi5jb20vb3JnYW5pemF0aW9ucy9sYXRlc3QvdXNlcmd1aWRlL3NlcnZpY2VzLXRoYXQtY2FuLWludGVncmF0ZS1zZWN1cml0eWh1Yi5odG1sI2ludGVncmF0ZS1lbmFibGUtdGEtc2VjdXJpdHlodWJcIlxuICAgIH07XG4gICAgY2ZhdENoZWNrcy5wdXNoKGNmYXRPcmdTZXJ2aWNlU2VjdXJpdHlIdWJDaGVjayk7XG4gICAgY29uc3QgY2ZhdE9yZ1NlcnZpY2VJYW1BY2Nlc3NBbmFseXplckNoZWNrID0ge1xuICAgICAgICBjaGVjazogXCJJQU0gQWNjZXNzIEFuYWx5emVyIE9yZ2FuaXphdGlvbiBzZXJ2aWNlIGVuYWJsZWRcIixcbiAgICAgICAgZGVzY3JpcHRpb246IFwiSUFNIEFjY2VzcyBBbmFseXplciB0cnVzdGVkIGFjY2VzcyBzaG91bGQgYmUgZW5hYmxlZCBpbiB0aGUgQVdTIE9yZ2FuaXphdGlvbi5cIixcbiAgICAgICAgc3RhdHVzOiBjZmF0T3JnU2VydmljZUlhbUFjY2Vzc0FuYWx5emVyRW5hYmxlZFBhc3MgPyBcImNvbXBsZXRlXCIgOiBcImluY29tcGxldGVcIixcbiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgICB3ZWlnaHQ6IDQsXG4gICAgICAgIGxvZTogMSxcbiAgICAgICAgcmVtZWRpYXRpb25MaW5rOiBcImh0dHBzOi8vZG9jcy5hd3MuYW1hem9uLmNvbS9JQU0vbGF0ZXN0L1VzZXJHdWlkZS9hY2Nlc3MtYW5hbHl6ZXItZ2V0dGluZy1zdGFydGVkLmh0bWwjYWNjZXNzLWFuYWx5emVyLWVuYWJsaW5nXCJcbiAgICB9O1xuICAgIGNmYXRDaGVja3MucHVzaChjZmF0T3JnU2VydmljZUlhbUFjY2Vzc0FuYWx5emVyQ2hlY2spO1xuICAgIGNvbnN0IGNmYXRPcmdTZXJ2aWNlQ29uZmlnQ2hlY2sgPSB7XG4gICAgICAgIGNoZWNrOiBcIkNvbmZpZyBPcmdhbml6YXRpb24gc2VydmljZSBlbmFibGVkXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIkFXUyBDb25maWcgdHJ1c3RlZCBhY2Nlc3Mgc2hvdWxkIGJlIGVuYWJsZWQgaW4gdGhlIEFXUyBPcmdhbml6YXRpb24uXCIsXG4gICAgICAgIHN0YXR1czogY2ZhdE9yZ1NlcnZpY2VBd3NDb25maWdFbmFibGVkUGFzcyA/IFwiY29tcGxldGVcIiA6IFwiaW5jb21wbGV0ZVwiLFxuICAgICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICAgIHdlaWdodDogNCxcbiAgICAgICAgbG9lOiAxLFxuICAgICAgICByZW1lZGlhdGlvbkxpbms6IFwiaHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL29yZ2FuaXphdGlvbnMvbGF0ZXN0L3VzZXJndWlkZS9zZXJ2aWNlcy10aGF0LWNhbi1pbnRlZ3JhdGUtY29uZmlnLmh0bWwjaW50ZWdyYXRlLWVuYWJsZS10YS1jb25maWdcIlxuICAgIH07XG4gICAgY2ZhdENoZWNrcy5wdXNoKGNmYXRPcmdTZXJ2aWNlQ29uZmlnQ2hlY2spO1xuICAgIGNvbnN0IGNmYXRPcmdTZXJ2aWNlQ2xvdWRGb3JtYXRpb25DaGVjayA9IHtcbiAgICAgICAgY2hlY2s6IFwiQ2xvdWRGb3JtYXRpb24gT3JnYW5pemF0aW9uIHNlcnZpY2UgZW5hYmxlZFwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJDbG91ZEZvcm1hdGlvbiB0cnVzdGVkIGFjY2VzcyBzaG91bGQgYmUgZW5hYmxlZCBpbiB0aGUgQVdTIE9yZ2FuaXphdGlvbi5cIixcbiAgICAgICAgc3RhdHVzOiBjZmF0T3JnQ2xvdWRGb3JtYXRpb25TdGF0dXNQYXNzID8gXCJjb21wbGV0ZVwiIDogXCJpbmNvbXBsZXRlXCIsXG4gICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgICAgd2VpZ2h0OiA1LFxuICAgICAgICBsb2U6IDEsXG4gICAgICAgIHJlbWVkaWF0aW9uTGluazogXCJodHRwczovL2RvY3MuYXdzLmFtYXpvbi5jb20vQVdTQ2xvdWRGb3JtYXRpb24vbGF0ZXN0L1VzZXJHdWlkZS9zdGFja3NldHMtb3Jncy1hY3RpdmF0ZS10cnVzdGVkLWFjY2Vzcy5odG1sXCJcbiAgICB9O1xuICAgIGNmYXRDaGVja3MucHVzaChjZmF0T3JnU2VydmljZUNsb3VkRm9ybWF0aW9uQ2hlY2spO1xuICAgIGNvbnN0IGNmYXRPcmdTZXJ2aWNlQmFja3VwQ2hlY2sgPSB7XG4gICAgICAgIGNoZWNrOiBcIkJhY2t1cCBPcmdhbml6YXRpb24gc2VydmljZSBlbmFibGVkXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIkJhY2t1cCB0cnVzdGVkIGFjY2VzcyBzaG91bGQgYmUgZW5hYmxlZCBpbiB0aGUgQVdTIE9yZ2FuaXphdGlvbi5cIixcbiAgICAgICAgc3RhdHVzOiBjZmF0T3JnU2VydmljZUJhY2t1cEVuYWJsZWRQYXNzID8gXCJjb21wbGV0ZVwiIDogXCJpbmNvbXBsZXRlXCIsXG4gICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgICAgd2VpZ2h0OiA0LFxuICAgICAgICBsb2U6IDEsXG4gICAgICAgIHJlbWVkaWF0aW9uTGluazogXCJodHRwczovL2RvY3MuYXdzLmFtYXpvbi5jb20vb3JnYW5pemF0aW9ucy9sYXRlc3QvdXNlcmd1aWRlL3NlcnZpY2VzLXRoYXQtY2FuLWludGVncmF0ZS1iYWNrdXAuaHRtbCNpbnRlZ3JhdGUtZW5hYmxlLXRhLWJhY2t1cFwiXG4gICAgfTtcbiAgICBjb25zdCBjZmF0SW5mcmFPdUNoZWNrID0ge1xuICAgICAgICBjaGVjazogXCJUb3AtbGV2ZWwgSW5mcmFzdHJ1Y3R1cmUgT1UgZGVwbG95ZWRcIixcbiAgICAgICAgZGVzY3JpcHRpb246IFwiVG9wLWxldmVsIEluZnJhc3RydWN0dXJlIE9VIHNob3VsZCBleGlzdC5cIixcbiAgICAgICAgc3RhdHVzOiBpbmZyYXN0cnVjdHVyZUZvdW5kID8gXCJjb21wbGV0ZVwiIDogXCJpbmNvbXBsZXRlXCIsXG4gICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgICAgd2VpZ2h0OiA1LFxuICAgICAgICBsb2U6IDIsXG4gICAgICAgIHJlbWVkaWF0aW9uTGluazogXCJodHRwczovL2NhdGFsb2cud29ya3Nob3BzLmF3cy9jb250cm9sLXRvd2VyL2VuLVVTL2ludHJvZHVjdGlvbi9tYW5hZ2Utb3VcIlxuICAgIH07XG4gICAgY2ZhdENoZWNrcy5wdXNoKGNmYXRJbmZyYU91Q2hlY2spO1xuICAgIGNvbnN0IGNmYXRTZWN1cml0eU91Q2hlY2sgPSB7XG4gICAgICAgIGNoZWNrOiBcIlRvcC1sZXZlbCBTZWN1cml0eSBPVSBkZXBsb3llZFwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJUb3AtbGV2ZWwgU2VjdXJpdHkgT1Ugc2hvdWxkIGV4aXN0LlwiLFxuICAgICAgICBzdGF0dXM6IHNlY3VyaXR5Rm91bmQgPyBcImNvbXBsZXRlXCIgOiBcImluY29tcGxldGVcIixcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgIHdlaWdodDogNixcbiAgICAgICAgbG9lOiAyLFxuICAgICAgICByZW1lZGlhdGlvbkxpbms6IFwiaHR0cHM6Ly9jYXRhbG9nLndvcmtzaG9wcy5hd3MvY29udHJvbC10b3dlci9lbi1VUy9pbnRyb2R1Y3Rpb24vbWFuYWdlLW91XCJcbiAgICB9O1xuICAgIGNmYXRDaGVja3MucHVzaChjZmF0U2VjdXJpdHlPdUNoZWNrKTtcbiAgICBjb25zdCBjZmF0V29ya2xvYWRPdUNoZWNrID0ge1xuICAgICAgICBjaGVjazogXCJUb3AtbGV2ZWwgV29ya2xvYWRzIE9VIGRlcGxveWVkXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIlRvcC1sZXZlbCBXb3JrbG9hZHMgT1Ugc2hvdWxkIGV4aXN0LlwiLFxuICAgICAgICBzdGF0dXM6IHdvcmtsb2Fkc0ZvdW5kID8gXCJjb21wbGV0ZVwiIDogXCJpbmNvbXBsZXRlXCIsXG4gICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgICAgd2VpZ2h0OiA1LFxuICAgICAgICBsb2U6IDIsXG4gICAgICAgIHJlbWVkaWF0aW9uTGluazogXCJodHRwczovL2NhdGFsb2cud29ya3Nob3BzLmF3cy9jb250cm9sLXRvd2VyL2VuLVVTL2ludHJvZHVjdGlvbi9tYW5hZ2Utb3VcIlxuICAgIH07XG4gICAgY2ZhdENoZWNrcy5wdXNoKGNmYXRXb3JrbG9hZE91Q2hlY2spO1xuICAgIGNvbnN0IGNmYXRJYW1JZENPcmdTZXJ2aWNlQ2hlY2sgPSB7XG4gICAgICAgIGNoZWNrOiBcIklBTSBJZEMgT3JnYW5pemF0aW9uIHNlcnZpY2UgZW5hYmxlZFwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJJQU0gSWRlbnRpdHkgQ2VudGVyIHRydXN0ZWQgYWNjZXNzIHNob3VsZCBiZSBlbmFibGVkIGluIHRoZSBBV1MgT3JnYW5pemF0aW9uXCIsXG4gICAgICAgIHN0YXR1czogY2ZhdElhbUlkUE9yZ1NlcnZpY2VQYXNzID8gXCJjb21wbGV0ZVwiIDogXCJpbmNvbXBsZXRlXCIsXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICB3ZWlnaHQ6IDYsXG4gICAgICAgIGxvZTogMSxcbiAgICAgICAgcmVtZWRpYXRpb25MaW5rOiBcImh0dHBzOi8vZG9jcy5hd3MuYW1hem9uLmNvbS9zaW5nbGVzaWdub24vbGF0ZXN0L3VzZXJndWlkZS9nZXQtc2V0LXVwLWZvci1pZGMuaHRtbFwiXG4gICAgfTtcbiAgICBjZmF0Q2hlY2tzLnB1c2goY2ZhdElhbUlkQ09yZ1NlcnZpY2VDaGVjayk7XG4gICAgY29uc3QgY2ZhdElhbUlkY0NvbmZpZ3VyZWRDaGVjayA9IHtcbiAgICAgICAgY2hlY2s6IFwiSUFNIElkQyBjb25maWd1cmVkXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIklBTSBJZGVudGl0eSBDZW50ZXIgc2hvdWxkIGJlIGNvbmZpZ3VyZWQuXCIsXG4gICAgICAgIHN0YXR1czogY2ZhdElhbUlkY0NvbmZpZ3VyZWRQYXNzID8gXCJjb21wbGV0ZVwiIDogXCJpbmNvbXBsZXRlXCIsXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICB3ZWlnaHQ6IDYsXG4gICAgICAgIGxvZTogMyxcbiAgICAgICAgcmVtZWRpYXRpb25MaW5rOiBcImh0dHBzOi8vZG9jcy5hd3MuYW1hem9uLmNvbS9zaW5nbGVzaWdub24vbGF0ZXN0L3VzZXJndWlkZS90dXRvcmlhbHMuaHRtbFwiXG4gICAgfTtcbiAgICBjZmF0Q2hlY2tzLnB1c2goY2ZhdElhbUlkY0NvbmZpZ3VyZWRDaGVjayk7XG4gICAgY29uc3QgY2ZhdE9yZ1BvbGljeVNjcEVuYWJsZWQgPSB7XG4gICAgICAgIGNoZWNrOiBcIlNlcnZpY2UgQ29udHJvbCBQb2xpY2llcyBlbmFibGVkXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIlNlcnZpY2UgQ29udHJvbCBQb2xpY3kgc2hvdWxkIGJlIGVuYWJsZWQgd2l0aGluIHRoZSBBV1MgT3JnYW5pemF0aW9uLlwiLFxuICAgICAgICBzdGF0dXM6IGNmYXRTY3BFbmFibGVkUGFzcyA/IFwiY29tcGxldGVcIiA6IFwiaW5jb21wbGV0ZVwiLFxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgd2VpZ2h0OiA2LFxuICAgICAgICBsb2U6IDEsXG4gICAgICAgIHJlbWVkaWF0aW9uTGluazogXCJodHRwczovL2RvY3MuYXdzLmFtYXpvbi5jb20vb3JnYW5pemF0aW9ucy9sYXRlc3QvdXNlcmd1aWRlL29yZ3NfbWFuYWdlX3BvbGljaWVzX2VuYWJsZS1kaXNhYmxlLmh0bWxcIlxuICAgIH07XG4gICAgY2ZhdENoZWNrcy5wdXNoKGNmYXRPcmdQb2xpY3lTY3BFbmFibGVkKTtcbiAgICBjb25zdCBjZmF0T3JnUG9saWN5VGFnUG9saWN5Q2hlY2sgPSB7XG4gICAgICAgIGNoZWNrOiBcIk9yZ2FuaXphdGlvbiBUYWcgUG9saWN5IGVuYWJsZWRcIixcbiAgICAgICAgZGVzY3JpcHRpb246IFwiVGFnIFBvbGljeSBzaG91bGQgYmUgZW5hYmxlZCB3aXRoaW4gdGhlIEFXUyBPcmdhbml6YXRpb24uXCIsXG4gICAgICAgIHN0YXR1czogY2ZhdFRhZ1BvbGljaWVzRW5hYmxlZFBhc3MgPyBcImNvbXBsZXRlXCIgOiBcImluY29tcGxldGVcIixcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgIHdlaWdodDogNixcbiAgICAgICAgbG9lOiAxLFxuICAgICAgICByZW1lZGlhdGlvbkxpbms6IFwiaHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL29yZ2FuaXphdGlvbnMvbGF0ZXN0L3VzZXJndWlkZS9vcmdzX21hbmFnZV9wb2xpY2llc19lbmFibGUtZGlzYWJsZS5odG1sXCJcbiAgICB9O1xuICAgIGNmYXRDaGVja3MucHVzaChjZmF0T3JnUG9saWN5VGFnUG9saWN5Q2hlY2spO1xuICAgIGNvbnN0IGNmYXRCYWNrdXBQb2xpY2llc0VuYWJsZWRDaGVjayA9IHtcbiAgICAgICAgY2hlY2s6IFwiT3JnYW5pemF0aW9uIEJhY2t1cCBQb2xpY3kgZW5hYmxlZFwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJCYWNrdXAgUG9saWN5IHNob3VsZCBiZSBlbmFibGVkIHdpdGhpbiB0aGUgQVdTIE9yZ2FuaXphdGlvbi5cIixcbiAgICAgICAgc3RhdHVzOiBjZmF0QmFja3VwUG9saWNpZXNFbmFibGVkUGFzcyA/IFwiY29tcGxldGVcIiA6IFwiaW5jb21wbGV0ZVwiLFxuICAgICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICAgIHdlaWdodDogNSxcbiAgICAgICAgbG9lOiAxLFxuICAgICAgICByZW1lZGlhdGlvbkxpbms6IFwiaHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL29yZ2FuaXphdGlvbnMvbGF0ZXN0L3VzZXJndWlkZS9vcmdzX21hbmFnZV9wb2xpY2llc19lbmFibGUtZGlzYWJsZS5odG1sXCJcbiAgICB9O1xuICAgIGNmYXRDaGVja3MucHVzaChjZmF0QmFja3VwUG9saWNpZXNFbmFibGVkQ2hlY2spO1xuICAgIGNvbnN0IGNmYXRDb250cm9sVG93ZXJEZXBsb3llZENoZWNrID0ge1xuICAgICAgICBjaGVjazogXCJDb250cm9sIFRvd2VyIGRlcGxveWVkXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIkNvbnRyb2wgVG93ZXIgc2hvdWxkIGJlIGRlcGxveWVkLlwiLFxuICAgICAgICBzdGF0dXM6IGNmYXRDb250cm9sVG93ZXJEZXBsb3llZFBhc3MgPyBcImNvbXBsZXRlXCIgOiBcImluY29tcGxldGVcIixcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgIHdlaWdodDogNixcbiAgICAgICAgbG9lOiA2LFxuICAgICAgICByZW1lZGlhdGlvbkxpbms6IFwiaHR0cHM6Ly9jYXRhbG9nLndvcmtzaG9wcy5hd3MvY29udHJvbC10b3dlci9lbi1VUy9wcmVyZXF1aXNpdGVzL2RlcGxveWluZ1wiXG4gICAgfTtcbiAgICBjZmF0Q2hlY2tzLnB1c2goY2ZhdENvbnRyb2xUb3dlckRlcGxveWVkQ2hlY2spO1xuICAgIGNvbnN0IGNmYXRDb250cm9sVG93ZXJMYXRlc3RWZXJzaW9uQ2hlY2sgPSB7XG4gICAgICAgIGNoZWNrOiBcIkNvbnRyb2wgVG93ZXIgbGF0ZXN0IHZlcnNpb25cIixcbiAgICAgICAgZGVzY3JpcHRpb246IFwiQ29udHJvbCBUb3dlciBzaG91bGQgYmUgdGhlIGxhdGVzdCB2ZXJzaW9uLlwiLFxuICAgICAgICBzdGF0dXM6IGNmYXRDb250cm9sVG93ZXJMYXRlc3RWZXJzaW9uUGFzcyA/IFwiY29tcGxldGVcIiA6IFwiaW5jb21wbGV0ZVwiLFxuICAgICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICAgIHdlaWdodDogNSxcbiAgICAgICAgbG9lOiAyLFxuICAgICAgICByZW1lZGlhdGlvbkxpbms6IFwiaHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL2NvbnRyb2x0b3dlci9sYXRlc3QvdXNlcmd1aWRlL3VwZGF0ZS1jb250cm9sdG93ZXIuaHRtbFwiXG4gICAgfTtcbiAgICBjZmF0Q2hlY2tzLnB1c2goY2ZhdENvbnRyb2xUb3dlckxhdGVzdFZlcnNpb25DaGVjayk7XG4gICAgY29uc3QgY2ZhdENvbnRyb2xUb3dlck5vdERyaWZ0ZWRDaGVjayA9IHtcbiAgICAgICAgY2hlY2s6IFwiQ29udHJvbCBUb3dlciBub3QgZHJpZnRlZFwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJDb250cm9sIFRvd2VyIHNob3VsZCBub3QgYmUgZHJpZnRlZC5cIixcbiAgICAgICAgc3RhdHVzOiBjZmF0Q29udHJvbFRvd2VyTm90RHJpZnRlZFBhc3MgPyBcImNvbXBsZXRlXCIgOiBcImluY29tcGxldGVcIixcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgIHdlaWdodDogNixcbiAgICAgICAgbG9lOiAyLFxuICAgICAgICByZW1lZGlhdGlvbkxpbms6IFwiaHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL2NvbnRyb2x0b3dlci9sYXRlc3QvdXNlcmd1aWRlL3Jlc29sdmUtZHJpZnQuaHRtbFwiXG4gICAgfTtcbiAgICBjZmF0Q2hlY2tzLnB1c2goY2ZhdENvbnRyb2xUb3dlck5vdERyaWZ0ZWRDaGVjayk7XG4gICAgY29uc3QgY2ZhdExvZ0FyY2hpdmVBY2NvdW50Q2hlY2sgPSB7XG4gICAgICAgIGNoZWNrOiBcIkxvZyBBcmNoaXZlIGFjY291bnQgZGVwbG95ZWRcIixcbiAgICAgICAgZGVzY3JpcHRpb246IFwiTG9nIEFyY2hpdmUgYWNjb3VudCBzaG91bGQgZXhpc3QuXCIsXG4gICAgICAgIHN0YXR1czogY2ZhdExvZ0FyY2hpdmVBY2NvdW50UGFzcyA/IFwiY29tcGxldGVcIiA6IFwiaW5jb21wbGV0ZVwiLFxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgd2VpZ2h0OiA2LFxuICAgICAgICBsb2U6IDIsXG4gICAgICAgIHJlbWVkaWF0aW9uTGluazogXCJodHRwczovL2RvY3MuYXdzLmFtYXpvbi5jb20vY29udHJvbHRvd2VyL2xhdGVzdC91c2VyZ3VpZGUvZ2V0dGluZy1zdGFydGVkLWZyb20tY29uc29sZS5odG1sXCJcbiAgICB9O1xuICAgIGNmYXRDaGVja3MucHVzaChjZmF0TG9nQXJjaGl2ZUFjY291bnRDaGVjayk7XG4gICAgY29uc3QgY2ZhdEF1ZGl0QWNjb3VudENoZWNrID0ge1xuICAgICAgICBjaGVjazogXCJBdWRpdCBhY2NvdW50IGRlcGxveWVkXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIkF1ZGl0L1NlY3VyaXR5IFRvb2xpbmcgYWNjb3VudCBzaG91bGQgZXhpc3QuXCIsXG4gICAgICAgIHN0YXR1czogY2ZhdEF1ZGl0QWNjb3VudFBhc3MgPyBcImNvbXBsZXRlXCIgOiBcImluY29tcGxldGVcIixcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgIHdlaWdodDogNixcbiAgICAgICAgbG9lOiAyLFxuICAgICAgICByZW1lZGlhdGlvbkxpbms6IFwiaHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL2NvbnRyb2x0b3dlci9sYXRlc3QvdXNlcmd1aWRlL2dldHRpbmctc3RhcnRlZC1mcm9tLWNvbnNvbGUuaHRtbFwiXG4gICAgfTtcbiAgICBjZmF0Q2hlY2tzLnB1c2goY2ZhdEF1ZGl0QWNjb3VudENoZWNrKTtcbiAgICByZXBvcnQuY2ZhdENoZWNrcyA9IGNmYXRDaGVja3M7XG4gICAgY29uc29sZS50YWJsZShjZmF0Q2hlY2tzLCBbXCJjaGVja1wiLCBcInN0YXR1c1wiLCBcInJlcXVpcmVkXCIsIFwibG9lXCJdKTtcbiAgICAvLyB3cml0ZSBDRkFUIGNoZWNrcyB0byBDU1YgZmlsZSBmb3IgdXNlIGluIHRoZSBDRkFUIHJlcG9ydFxuICAgIGNvbnN0IGNmYXRDaGVja3NDc3ZGaWxlID0gXCIuL2NmYXQtY2hlY2tzLmNzdlwiO1xuICAgIGNvbnNvbGUubG9nKGB3cml0aW5nIGFzc2Vzc21lbnQgc3VtbWFyeSBjaGVja3MgdG8gLi9jZmF0L2NmYXQtY2hlY2tzLmNzdi4uLmApO1xuICAgIGNvbnN0IG9iamVjdEFycmF5Q1NWID0gb2JqZWN0VG9DU1YoY2ZhdENoZWNrcyk7XG4gICAgZnMud3JpdGVGaWxlU3luYyhjZmF0Q2hlY2tzQ3N2RmlsZSwgb2JqZWN0QXJyYXlDU1YpO1xuICAgIGNvbnN0IHJlcG9ydEZpbGUgPSBcIi4vY2ZhdC50eHRcIjtcbiAgICBjb25zdCB0YXNrcyA9IGF3YWl0IGNyZWF0ZVJlcG9ydChyZXBvcnQpO1xuICAgIGNvbnN0IGJhY2tsb2cgPSBhd2FpdCBjcmVhdGVCYWNrbG9nKHJlcG9ydCk7XG4gICAgY29uc29sZS5sb2coYGNsb3VkIGZvdW5kYXRpb24gYXNzZXNzbWVudCBjb21wbGV0ZS4gQWNjZXNzIHlvdXIgcmVwb3J0IGF0IC4vY2ZhdC9jZmF0LnR4dGApO1xuICAgIGNvbnNvbGUubG9nKGBhc3Nlc3NtZW50IHN1bW1hcnkgY2hlY2tzIHdyaXR0ZW4gdG8gLi9jZmF0L2NmYXQtY2hlY2tzLmNzdmApO1xuICAgIGNyZWF0ZUppcmFJbXBvcnQoYmFja2xvZyk7XG4gICAgYXdhaXQgY3JlYXRlQXNhbmFJbXBvcnQoYmFja2xvZyk7XG4gICAgYXdhaXQgemlwQXNzZXNzbWVudEZpbGVzKCk7XG4gICAgY29uc29sZS5sb2coYGFzc2Vzc21lbnQgZmlsZXMgemlwcGVkIHRvIC4vY2ZhdC9hc3Nlc3NtZW50LnppcGApO1xufTtcbm1haW4oKTtcbiIsImltcG9ydCB7IEVDMkNsaWVudCwgRGVzY3JpYmVSZWdpb25zQ29tbWFuZCB9IGZyb20gXCJAYXdzLXNkay9jbGllbnQtZWMyXCI7XG5hc3luYyBmdW5jdGlvbiBnZXRBbGxSZWdpb25zKCkge1xuICAgIC8vIGdyYWJiaW5nIGFsbCByZWdpb25zIGZyb20gdXMtZWFzdC0xXG4gICAgY29uc3QgZWMyQ2xpZW50ID0gbmV3IEVDMkNsaWVudCh7IHJlZ2lvbjogXCJ1cy1lYXN0LTFcIiB9KTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBkZXNjcmliZVJlZ2lvbnNDb21tYW5kID0gbmV3IERlc2NyaWJlUmVnaW9uc0NvbW1hbmQoe30pO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGVjMkNsaWVudC5zZW5kKGRlc2NyaWJlUmVnaW9uc0NvbW1hbmQpO1xuICAgICAgICBjb25zdCByZWdpb25zID0gW107XG4gICAgICAgIGZvciAoY29uc3QgcmVnaW9uIG9mIHJlc3BvbnNlLlJlZ2lvbnMgfHwgW10pIHtcbiAgICAgICAgICAgIHJlZ2lvbnMucHVzaChyZWdpb24uUmVnaW9uTmFtZSB8fCBcIlwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVnaW9ucztcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciByZXRyaWV2aW5nIHJlZ2lvbnM6XCIsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgZWMyQ2xpZW50LmRlc3Ryb3koKTtcbiAgICB9XG59XG5leHBvcnQgZGVmYXVsdCBnZXRBbGxSZWdpb25zO1xuIiwiaW1wb3J0IHsgU1RTQ2xpZW50LCBHZXRDYWxsZXJJZGVudGl0eUNvbW1hbmQgfSBmcm9tIFwiQGF3cy1zZGsvY2xpZW50LXN0c1wiO1xuaW1wb3J0IHsgT3JnYW5pemF0aW9uc0NsaWVudCwgRGVzY3JpYmVPcmdhbml6YXRpb25Db21tYW5kLCB9IGZyb20gXCJAYXdzLXNkay9jbGllbnQtb3JnYW5pemF0aW9uc1wiO1xuYXN5bmMgZnVuY3Rpb24gZ2V0QWNjb3VudElkKHJlZ2lvbikge1xuICAgIGNvbnN0IHN0c0NsaWVudCA9IG5ldyBTVFNDbGllbnQoeyByZWdpb24gfSk7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZ2V0Q2FsbGVySWRlbnRpdHlDb21tYW5kID0gbmV3IEdldENhbGxlcklkZW50aXR5Q29tbWFuZCh7fSk7XG4gICAgICAgIGNvbnN0IEFjY291bnQgPSBhd2FpdCBzdHNDbGllbnQuc2VuZChnZXRDYWxsZXJJZGVudGl0eUNvbW1hbmQpO1xuICAgICAgICByZXR1cm4gQWNjb3VudC5BY2NvdW50O1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGdldHRpbmcgYWNjb3VudCBJRDpcIiwgZXJyb3IpO1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG59XG47XG4vLyBmdW5jdGlvbiBjaGVja2luZyBpZiBtYW5hZ2VtZW50IGFjY291bnQsIG1lbWJlciBhY2NvdW50LCBvciBzdGFuZGFsb25lIGFjY291bnRcbmV4cG9ydCBjb25zdCBkZWZpbmVBY2NvdW50VHlwZSA9IGFzeW5jIChyZWdpb24pID0+IHtcbiAgICBjb25zdCBvcmdhbml6YXRpb25zQ2xpZW50ID0gbmV3IE9yZ2FuaXphdGlvbnNDbGllbnQoeyByZWdpb24gfSk7XG4gICAgbGV0IGlzSW5Pcmdhbml6YXRpb24gPSBmYWxzZTtcbiAgICBsZXQgaXNNYW5hZ2VtZW50QWNjb3VudCA9IGZhbHNlO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRBY2NvdW50SWQgPSBhd2FpdCBnZXRBY2NvdW50SWQocmVnaW9uKTtcbiAgICAgICAgaWYgKGN1cnJlbnRBY2NvdW50SWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGRlc2NyaWJlT3JnYW5pemF0aW9uQ29tbWFuZCA9IG5ldyBEZXNjcmliZU9yZ2FuaXphdGlvbkNvbW1hbmQoe30pO1xuICAgICAgICAgICAgY29uc3QgZGVzY3JpYmVPcmdhbml6YXRpb25SZXNwb25zZSA9IGF3YWl0IG9yZ2FuaXphdGlvbnNDbGllbnQuc2VuZChkZXNjcmliZU9yZ2FuaXphdGlvbkNvbW1hbmQpO1xuICAgICAgICAgICAgLy8gdGhlIGFjY291bnQgaXMgbm90IHN0YW5kYWxvbmUgYW5kIHBhcnQgb2YgQVdTIE9yZ2FuaXphdGlvblxuICAgICAgICAgICAgaWYgKGRlc2NyaWJlT3JnYW5pemF0aW9uUmVzcG9uc2UuT3JnYW5pemF0aW9uPy5NYXN0ZXJBY2NvdW50SWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtYW5hZ2VtZW50QWNjb3VudElkID0gZGVzY3JpYmVPcmdhbml6YXRpb25SZXNwb25zZS5Pcmdhbml6YXRpb24/Lk1hc3RlckFjY291bnRJZDtcbiAgICAgICAgICAgICAgICBpZiAobWFuYWdlbWVudEFjY291bnRJZCA9PSBjdXJyZW50QWNjb3VudElkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgaXMgYW4gb3JnYW5pemF0aW9uIGFuZCB0aGlzIGlzIHRoZSBtYW5hZ2VtZW50IGFjY291bnRcbiAgICAgICAgICAgICAgICAgICAgaXNNYW5hZ2VtZW50QWNjb3VudCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGlzSW5Pcmdhbml6YXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlcmUgaXMgYW4gb3JnYW5pemF0aW9uLCBidXQgdGhpcyBpc24ndCB0aGUgbWFuYWdlbWVudCBhY2NvdW50XG4gICAgICAgICAgICAgICAgICAgIGlzSW5Pcmdhbml6YXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHRoZXJlIGlzbid0IGFuIG9yZ2FuaXphdGlvbiBhbmQgdGhpcyBhY2NvdW50IGlzIHN0YW5kYWxvbmVcbiAgICAgICAgICAgICAgICBpc0luT3JnYW5pemF0aW9uID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvcjpcIiwgZXJyb3IpO1xuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgb3JnYW5pemF0aW9uc0NsaWVudC5kZXN0cm95KCk7XG4gICAgfVxuICAgIHJldHVybiB7IGlzSW5Pcmdhbml6YXRpb24sIGlzTWFuYWdlbWVudEFjY291bnQgfTtcbn07XG4iLCJpbXBvcnQgeyBJQU1DbGllbnQsIExpc3RVc2Vyc0NvbW1hbmQsIExpc3RBY2Nlc3NLZXlzQ29tbWFuZCwgR2V0QWNjZXNzS2V5TGFzdFVzZWRDb21tYW5kIH0gZnJvbSBcIkBhd3Mtc2RrL2NsaWVudC1pYW1cIjtcbi8vIGZ1bmN0aW9uIGxpc3QgYWxsIElBTSB1c2VycyBhbmQgaWYgdGhleSBoYXZlIGtleXMgaW4gdGhlIG1hbmFnZW1lbnQgYWNjb3VudFxuY29uc3QgY2hlY2tJYW1Vc2VycyA9IGFzeW5jICgpID0+IHtcbiAgICAvLyBTZXQgdG8gdXMtZWFzdC0xIGFzIElBTSBpcyBnbG9iYWwgYW5kIHJlZ2lvbiBpc24ndCBhIGNvbmNlcm5cbiAgICBjb25zdCBpYW1DbGllbnQgPSBuZXcgSUFNQ2xpZW50KHsgcmVnaW9uOiAndXMtZWFzdC0xJyB9KTtcbiAgICBjb25zdCBpYW1Vc2VySW5mbyA9IFtdO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGxpc3RVc2Vyc0NvbW1hbmQgPSBuZXcgTGlzdFVzZXJzQ29tbWFuZCh7fSk7XG4gICAgICAgIGNvbnN0IGxpc3RVc2Vyc1Jlc3BvbnNlID0gYXdhaXQgaWFtQ2xpZW50LnNlbmQobGlzdFVzZXJzQ29tbWFuZCk7XG4gICAgICAgIGZvciAoY29uc3QgdXNlciBvZiBsaXN0VXNlcnNSZXNwb25zZS5Vc2VycyB8fCBbXSkge1xuICAgICAgICAgICAgY29uc3QgdXNlck5hbWUgPSB1c2VyLlVzZXJOYW1lIHx8IFwiXCI7XG4gICAgICAgICAgICBjb25zdCBsaXN0QWNjZXNzS2V5c0NvbW1hbmQgPSBuZXcgTGlzdEFjY2Vzc0tleXNDb21tYW5kKHtcbiAgICAgICAgICAgICAgICBVc2VyTmFtZTogdXNlck5hbWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IGxpc3RBY2Nlc3NLZXlzUmVzcG9uc2UgPSBhd2FpdCBpYW1DbGllbnQuc2VuZChsaXN0QWNjZXNzS2V5c0NvbW1hbmQpO1xuICAgICAgICAgICAgY29uc3QgYWNjZXNzS2V5cyA9IGxpc3RBY2Nlc3NLZXlzUmVzcG9uc2UuQWNjZXNzS2V5TWV0YWRhdGEgfHwgW107XG4gICAgICAgICAgICBpZiAoYWNjZXNzS2V5cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBhY2Nlc3NLZXkgb2YgYWNjZXNzS2V5cykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhY2Nlc3NLZXlJZCA9IGFjY2Vzc0tleS5BY2Nlc3NLZXlJZCB8fCBcIlwiO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBnZXRMYXN0VXNlZENvbW1hbmQgPSBuZXcgR2V0QWNjZXNzS2V5TGFzdFVzZWRDb21tYW5kKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIEFjY2Vzc0tleUlkOiBhY2Nlc3NLZXlJZCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RVc2VkUmVzcG9uc2UgPSBhd2FpdCBpYW1DbGllbnQuc2VuZChnZXRMYXN0VXNlZENvbW1hbmQpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmb3VuZFVzZXJJbmZvID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXNlck5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBhY2Nlc3NLZXlJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RVc2VkOiBsYXN0VXNlZFJlc3BvbnNlICYmIGxhc3RVc2VkUmVzcG9uc2UuQWNjZXNzS2V5TGFzdFVzZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGAke2xhc3RVc2VkUmVzcG9uc2UuQWNjZXNzS2V5TGFzdFVzZWQuTGFzdFVzZWREYXRlfWAgfHwgXCJOb3QgYXZhaWxhYmxlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiTm90IGF2YWlsYWJsZVwiLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBpYW1Vc2VySW5mby5wdXNoKGZvdW5kVXNlckluZm8pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZvdW5kVXNlckluZm8gPSB7XG4gICAgICAgICAgICAgICAgICAgIHVzZXJOYW1lXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpYW1Vc2VySW5mby5wdXNoKGZvdW5kVXNlckluZm8pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3I6XCIsIGVycm9yKTtcbiAgICB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIGlhbUNsaWVudC5kZXN0cm95KCk7XG4gICAgfVxuICAgIHJldHVybiBpYW1Vc2VySW5mbztcbn07XG5leHBvcnQgZGVmYXVsdCBjaGVja0lhbVVzZXJzO1xuIiwiaW1wb3J0IHsgRUMyQ2xpZW50LCBEZXNjcmliZUluc3RhbmNlc0NvbW1hbmQgfSBmcm9tIFwiQGF3cy1zZGsvY2xpZW50LWVjMlwiO1xuYXN5bmMgZnVuY3Rpb24gY2hlY2tFYzJFeGlzdHMocmVnaW9ucykge1xuICAgIGxldCBlYzJWYWxpZGF0aW9uID0gW107XG4gICAgZm9yIChjb25zdCByZWdpb24gb2YgcmVnaW9ucykge1xuICAgICAgICBjb25zdCBlYzJDbGllbnQgPSBuZXcgRUMyQ2xpZW50KHsgcmVnaW9uIH0pO1xuICAgICAgICBjb25zdCBjb21tYW5kID0gbmV3IERlc2NyaWJlSW5zdGFuY2VzQ29tbWFuZCh7fSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGVjMkNsaWVudC5zZW5kKGNvbW1hbmQpO1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLlJlc2VydmF0aW9ucykge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5SZXNlcnZhdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGBXQVJOSU5HOiBJbnN0YW5jZShzKSBleGlzdHMgaW4gcmVnaW9uOiAke3JlZ2lvbn1gKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZWMyRm91bmQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWdpb246IHJlZ2lvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGVjMkZvdW5kOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGVjMlZhbGlkYXRpb24ucHVzaChlYzJGb3VuZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlYzJGb3VuZCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lvbjogcmVnaW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgZWMyRm91bmQ6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGVjMlZhbGlkYXRpb24ucHVzaChlYzJGb3VuZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZWMyRm91bmQgPSB7XG4gICAgICAgICAgICAgICAgICAgIHJlZ2lvbjogcmVnaW9uLFxuICAgICAgICAgICAgICAgICAgICBlYzJGb3VuZDogZmFsc2VcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGVjMlZhbGlkYXRpb24ucHVzaChlYzJGb3VuZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgRXJyb3IgY2hlY2tpbmcgaW5zdGFuY2U6ICR7ZXJyb3J9YCk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICBlYzJDbGllbnQuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgfSAvLyBlbmQgZm9yXG4gICAgcmV0dXJuIGVjMlZhbGlkYXRpb247XG59XG47XG5leHBvcnQgZGVmYXVsdCBjaGVja0VjMkV4aXN0cztcbiIsImltcG9ydCB7IEVDMkNsaWVudCwgRGVzY3JpYmVWcGNzQ29tbWFuZCB9IGZyb20gXCJAYXdzLXNkay9jbGllbnQtZWMyXCI7XG5hc3luYyBmdW5jdGlvbiBjaGVja1ZwY0V4aXN0cyhyZWdpb25zKSB7XG4gICAgbGV0IHZwY1ZhbGlkYXRpb24gPSBbXTtcbiAgICBmb3IgKGNvbnN0IHJlZ2lvbiBvZiByZWdpb25zKSB7XG4gICAgICAgIGNvbnN0IGVjMkNsaWVudCA9IG5ldyBFQzJDbGllbnQoeyByZWdpb24gfSk7XG4gICAgICAgIGNvbnN0IGNvbW1hbmQgPSBuZXcgRGVzY3JpYmVWcGNzQ29tbWFuZCh7fSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGVjMkNsaWVudC5zZW5kKGNvbW1hbmQpO1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLlZwY3MpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuVnBjcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZwY0ZvdW5kID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVnaW9uOiByZWdpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICB2cGNGb3VuZDogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB2cGNWYWxpZGF0aW9uLnB1c2godnBjRm91bmQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdnBjRm91bmQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWdpb246IHJlZ2lvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIHZwY0ZvdW5kOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB2cGNWYWxpZGF0aW9uLnB1c2godnBjRm91bmQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZwY0ZvdW5kID0ge1xuICAgICAgICAgICAgICAgICAgICByZWdpb246IHJlZ2lvbixcbiAgICAgICAgICAgICAgICAgICAgdnBjRm91bmQ6IGZhbHNlXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB2cGNWYWxpZGF0aW9uLnB1c2godnBjRm91bmQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coYEVycm9yOiAke2Vycm9yfWApO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgZWMyQ2xpZW50LmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgIH0gLy8gZW5kIGZvclxuICAgIHJldHVybiB2cGNWYWxpZGF0aW9uO1xufVxuO1xuZXhwb3J0IGRlZmF1bHQgY2hlY2tWcGNFeGlzdHM7XG4iLCJpbXBvcnQgeyBDbG91ZFRyYWlsQ2xpZW50LCBEZXNjcmliZVRyYWlsc0NvbW1hbmQgfSBmcm9tICdAYXdzLXNkay9jbGllbnQtY2xvdWR0cmFpbCc7XG5hc3luYyBmdW5jdGlvbiBjaGVja0Nsb3VkVHJhaWxFeGlzdHMocmVnaW9ucykge1xuICAgIGxldCBjbG91ZFRyYWlsVmFsaWRhdGlvbiA9IFtdO1xuICAgIGZvciAoY29uc3QgcmVnaW9uIG9mIHJlZ2lvbnMpIHtcbiAgICAgICAgY29uc3QgY2xvdWRUcmFpbENsaWVudCA9IG5ldyBDbG91ZFRyYWlsQ2xpZW50KHsgcmVnaW9uIH0pO1xuICAgICAgICBjb25zdCBjbG91ZFRyYWlsRGVzY3JpYmVDb21tYW5kID0gbmV3IERlc2NyaWJlVHJhaWxzQ29tbWFuZCh7fSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBjbG91ZFRyYWlsUmVzcG9uc2UgPSBhd2FpdCBjbG91ZFRyYWlsQ2xpZW50LnNlbmQoY2xvdWRUcmFpbERlc2NyaWJlQ29tbWFuZCk7XG4gICAgICAgICAgICBpZiAoY2xvdWRUcmFpbFJlc3BvbnNlLnRyYWlsTGlzdCkge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdHJhaWwgb2YgY2xvdWRUcmFpbFJlc3BvbnNlLnRyYWlsTGlzdCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgdHJhaWxJbmZvID0ge307XG4gICAgICAgICAgICAgICAgICAgIGlmICh0cmFpbC5Ib21lUmVnaW9uID09IHJlZ2lvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhgdHJhaWwgZm91bmQgaW4gJHtyZWdpb259YClcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWlsSW5mbyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWdpb246IHJlZ2lvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFpbEZvdW5kOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzT3JnVHJhaWw6IHRyYWlsLklzTXVsdGlSZWdpb25UcmFpbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc011bHRpUmVnaW9uOiB0cmFpbC5Jc011bHRpUmVnaW9uVHJhaWxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFpbEluZm8gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVnaW9uOiByZWdpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhaWxGb3VuZDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2xvdWRUcmFpbFZhbGlkYXRpb24ucHVzaCh0cmFpbEluZm8pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBFcnJvciBjaGVja2luZyBpbnN0YW5jZTogJHtlcnJvcn1gKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIGNsb3VkVHJhaWxDbGllbnQuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgfSAvLyBlbmQgZm9yIHJlZ2lvbnNcbiAgICByZXR1cm4gY2xvdWRUcmFpbFZhbGlkYXRpb247XG59XG47XG5leHBvcnQgZGVmYXVsdCBjaGVja0Nsb3VkVHJhaWxFeGlzdHM7XG4iLCJpbXBvcnQgeyBDb25maWdTZXJ2aWNlQ2xpZW50LCBEZXNjcmliZUNvbmZpZ3VyYXRpb25SZWNvcmRlclN0YXR1c0NvbW1hbmQsIERlc2NyaWJlRGVsaXZlcnlDaGFubmVsc0NvbW1hbmQgfSBmcm9tICdAYXdzLXNkay9jbGllbnQtY29uZmlnLXNlcnZpY2UnO1xuYXN5bmMgZnVuY3Rpb24gY2hlY2tDb25maWdFeGlzdHMocmVnaW9ucykge1xuICAgIGxldCBjb25maWdEZXRhaWxzID0gW107XG4gICAgZm9yIChjb25zdCByZWdpb24gb2YgcmVnaW9ucykge1xuICAgICAgICBjb25zdCBjb25maWdTZXJ2aWNlQ2xpZW50ID0gbmV3IENvbmZpZ1NlcnZpY2VDbGllbnQoeyByZWdpb24gfSk7XG4gICAgICAgIGxldCBjb25maWdEZXRhaWwgPSB7XG4gICAgICAgICAgICByZWdpb246IHJlZ2lvbixcbiAgICAgICAgICAgIGNvbmZpZ1JlY29yZGVyRm91bmQ6IGZhbHNlLFxuICAgICAgICAgICAgY29uZmlnRGVsaXZlcnlDaGFubmVsRm91bmQ6IGZhbHNlXG4gICAgICAgIH07XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBDaGVjayBpZiBDb25maWcgcmVjb3JkZXIgZXhpc3RzXG4gICAgICAgICAgICBjb25zdCByZWNvcmRlclJlc3BvbnNlID0gYXdhaXQgY29uZmlnU2VydmljZUNsaWVudC5zZW5kKG5ldyBEZXNjcmliZUNvbmZpZ3VyYXRpb25SZWNvcmRlclN0YXR1c0NvbW1hbmQoe30pKTtcbiAgICAgICAgICAgIGNvbnN0IHJlY29yZGVyRXhpc3RzID0gcmVjb3JkZXJSZXNwb25zZS5Db25maWd1cmF0aW9uUmVjb3JkZXJzU3RhdHVzPy5sZW5ndGggIT09IDA7XG4gICAgICAgICAgICBpZiAocmVjb3JkZXJFeGlzdHMpIHtcbiAgICAgICAgICAgICAgICBjb25maWdEZXRhaWwuY29uZmlnUmVjb3JkZXJGb3VuZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBDaGVjayBpZiBDb25maWcgZGVsaXZlcnkgY2hhbm5lbCBleGlzdHNcbiAgICAgICAgICAgIGNvbnN0IGNoYW5uZWxSZXNwb25zZSA9IGF3YWl0IGNvbmZpZ1NlcnZpY2VDbGllbnQuc2VuZChuZXcgRGVzY3JpYmVEZWxpdmVyeUNoYW5uZWxzQ29tbWFuZCh7fSkpO1xuICAgICAgICAgICAgY29uc3QgY2hhbm5lbEV4aXN0cyA9IGNoYW5uZWxSZXNwb25zZS5EZWxpdmVyeUNoYW5uZWxzPy5sZW5ndGggIT09IDA7XG4gICAgICAgICAgICBpZiAoY2hhbm5lbEV4aXN0cykge1xuICAgICAgICAgICAgICAgIGNvbmZpZ0RldGFpbC5jb25maWdEZWxpdmVyeUNoYW5uZWxGb3VuZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25maWdEZXRhaWxzLnB1c2goY29uZmlnRGV0YWlsKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGNoZWNraW5nIEFXUyBDb25maWcgaW4gJHtyZWdpb259OmAsIGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIGNvbmZpZ1NlcnZpY2VDbGllbnQuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjb25maWdEZXRhaWxzO1xufVxuZXhwb3J0IGRlZmF1bHQgY2hlY2tDb25maWdFeGlzdHM7XG4iLCJpbXBvcnQgeyBPcmdhbml6YXRpb25zQ2xpZW50LCBEZXNjcmliZU9yZ2FuaXphdGlvbkNvbW1hbmQsIExpc3RSb290c0NvbW1hbmQgfSBmcm9tIFwiQGF3cy1zZGsvY2xpZW50LW9yZ2FuaXphdGlvbnNcIjtcbmFzeW5jIGZ1bmN0aW9uIGdldE9yZ0RldGFpbHMocmVnaW9uKSB7XG4gICAgY29uc3Qgb3JnQ2xpZW50ID0gbmV3IE9yZ2FuaXphdGlvbnNDbGllbnQoeyByZWdpb24gfSk7XG4gICAgbGV0IG9yZ0RldGFpbHMgPSB7fTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBvcmdEZXNjcmliZUNvbW1hbmQgPSBuZXcgRGVzY3JpYmVPcmdhbml6YXRpb25Db21tYW5kKHt9KTtcbiAgICAgICAgY29uc3Qgb3JnRGF0YSA9IGF3YWl0IG9yZ0NsaWVudC5zZW5kKG9yZ0Rlc2NyaWJlQ29tbWFuZCk7XG4gICAgICAgIGlmIChvcmdEYXRhLk9yZ2FuaXphdGlvbikge1xuICAgICAgICAgICAgb3JnRGV0YWlscy5pZCA9IG9yZ0RhdGEuT3JnYW5pemF0aW9uLklkID8/IFwiXCI7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgT3JnYW5pemF0aW9uIElEOiAke29yZ0RldGFpbHMuaWR9YCApO1xuICAgICAgICAgICAgb3JnRGV0YWlscy5hcm4gPSBvcmdEYXRhLk9yZ2FuaXphdGlvbi5Bcm4gPz8gXCJcIjtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGBPcmdhbml6YXRpb24gQVJOOiAke29yZ0RldGFpbHMuYXJufWApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvbW1hbmQgPSBuZXcgTGlzdFJvb3RzQ29tbWFuZCh7fSk7XG4gICAgICAgIGNvbnN0IHJvb3RzID0gYXdhaXQgb3JnQ2xpZW50LnNlbmQoY29tbWFuZCk7XG4gICAgICAgIGlmIChyb290cy5Sb290cykge1xuICAgICAgICAgICAgb3JnRGV0YWlscy5yb290T3VJZCA9IHJvb3RzLlJvb3RzWzBdLklkO1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYEFXUyBPcmcgcm9vdCBvdSBpZDogJHtvcmdEZXRhaWxzLnJvb3RPdUlkfWApXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnTm8gaW5mbyBmb3VuZCBmb3IgeW91ciBBV1MgT3JnYW5pemF0aW9uLicpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBBbiBlcnJvciBvY2N1cnJlZDogJHtlcnJvcn1gKTtcbiAgICB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIG9yZ0NsaWVudC5kZXN0cm95KCk7XG4gICAgICAgIHJldHVybiBvcmdEZXRhaWxzO1xuICAgIH1cbn1cbmV4cG9ydCBkZWZhdWx0IGdldE9yZ0RldGFpbHM7XG4iLCJpbXBvcnQgeyBDb3N0QW5kVXNhZ2VSZXBvcnRTZXJ2aWNlQ2xpZW50LCBEZXNjcmliZVJlcG9ydERlZmluaXRpb25zQ29tbWFuZCB9IGZyb20gXCJAYXdzLXNkay9jbGllbnQtY29zdC1hbmQtdXNhZ2UtcmVwb3J0LXNlcnZpY2VcIjtcbmNvbnN0IGNoZWNrTGVnYWN5Q3VyID0gYXN5bmMgKHJlZ2lvbikgPT4ge1xuICAgIC8vIFNldCB1cCBBV1MgU0RLIGNsaWVudCBmb3IgQ29zdCBFeHBsb3JlclxuICAgIGNvbnN0IGN1ckNsaWVudCA9IG5ldyBDb3N0QW5kVXNhZ2VSZXBvcnRTZXJ2aWNlQ2xpZW50KHsgcmVnaW9uIH0pO1xuICAgIGxldCBpc0xlZ2FjeUN1clNldHVwID0gZmFsc2U7XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gQ2hlY2sgaWYgQ29zdCBFeHBsb3JlciBpcyBzZXQgdXBcbiAgICAgICAgY29uc3QgaW5wdXQgPSB7fTtcbiAgICAgICAgY29uc3QgY29tbWFuZCA9IG5ldyBEZXNjcmliZVJlcG9ydERlZmluaXRpb25zQ29tbWFuZChpbnB1dCk7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgY3VyQ2xpZW50LnNlbmQoY29tbWFuZCk7XG4gICAgICAgIGlmIChyZXNwb25zZS5SZXBvcnREZWZpbml0aW9ucyAmJiByZXNwb25zZS5SZXBvcnREZWZpbml0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBpc0xlZ2FjeUN1clNldHVwID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBpc0xlZ2FjeUN1clNldHVwIH07XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAvLyBDaGVjayBpZiB0aGUgZXJyb3IgaXMgcmVsYXRlZCB0byBDb3N0IEV4cGxvcmVyIHNldHVwXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yOiAke2Vycm9yfWApO1xuICAgICAgICBpc0xlZ2FjeUN1clNldHVwID0gZmFsc2U7XG4gICAgICAgIHJldHVybiB7IGlzTGVnYWN5Q3VyU2V0dXAgfTtcbiAgICB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIC8vIENsb3NlIHRoZSBBV1MgU0RLIGNsaWVudFxuICAgICAgICBjdXJDbGllbnQuZGVzdHJveSgpO1xuICAgIH1cbn07XG5leHBvcnQgZGVmYXVsdCBjaGVja0xlZ2FjeUN1cjtcbiIsImltcG9ydCB7IE9yZ2FuaXphdGlvbnNDbGllbnQsIExpc3RSb290c0NvbW1hbmQgfSBmcm9tIFwiQGF3cy1zZGsvY2xpZW50LW9yZ2FuaXphdGlvbnNcIjtcbmFzeW5jIGZ1bmN0aW9uIGdldEVuYWJsZWRPcmdQb2xpY3lUeXBlcyhyZWdpb24pIHtcbiAgICBjb25zdCBvcmdDbGllbnQgPSBuZXcgT3JnYW5pemF0aW9uc0NsaWVudCh7IHJlZ2lvbiB9KTtcbiAgICBsZXQgcG9saWN5VHlwZXNFbmFibGVkID0ge1xuICAgICAgICBzY3BFbmFibGVkOiBmYWxzZSxcbiAgICAgICAgdGFnUG9saWN5RW5hYmxlZDogZmFsc2UsXG4gICAgICAgIGJhY2t1cFBvbGljeUVuYWJsZWQ6IGZhbHNlXG4gICAgfTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBpbnB1dCA9IHt9O1xuICAgICAgICBjb25zdCBjb21tYW5kID0gbmV3IExpc3RSb290c0NvbW1hbmQoaW5wdXQpO1xuICAgICAgICBjb25zdCByb290cyA9IGF3YWl0IG9yZ0NsaWVudC5zZW5kKGNvbW1hbmQpO1xuICAgICAgICBpZiAocm9vdHMuUm9vdHMpIHtcbiAgICAgICAgICAgIGlmIChyb290cy5Sb290c1swXS5Qb2xpY3lUeXBlcykge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZW5hYmxlZFBvbGljeSBvZiByb290cy5Sb290c1swXS5Qb2xpY3lUeXBlcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZW5hYmxlZFBvbGljeS5UeXBlID09ICdTRVJWSUNFX0NPTlRST0xfUE9MSUNZJyAmJiBlbmFibGVkUG9saWN5LlN0YXR1cyA9PSAnRU5BQkxFRCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvbGljeVR5cGVzRW5hYmxlZC5zY3BFbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoZW5hYmxlZFBvbGljeS5UeXBlID09ICdUQUdfUE9MSUNZJyAmJiBlbmFibGVkUG9saWN5LlN0YXR1cyA9PSAnRU5BQkxFRCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvbGljeVR5cGVzRW5hYmxlZC50YWdQb2xpY3lFbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoZW5hYmxlZFBvbGljeS5UeXBlID09ICdCQUNLVVBfUE9MSUNZJyAmJiBlbmFibGVkUG9saWN5LlN0YXR1cyA9PSAnRU5BQkxFRCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvbGljeVR5cGVzRW5hYmxlZC5iYWNrdXBQb2xpY3lFbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gLy8gZW5kIGZvclxuICAgICAgICAgICAgfSAvLyBlbmQgaWZcbiAgICAgICAgfSAvLyBlbmQgaWZcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYEFuIGVycm9yIG9jY3VycmVkOiAke2Vycm9yfWApO1xuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgb3JnQ2xpZW50LmRlc3Ryb3koKTtcbiAgICAgICAgcmV0dXJuIHBvbGljeVR5cGVzRW5hYmxlZDtcbiAgICB9XG59XG5leHBvcnQgZGVmYXVsdCBnZXRFbmFibGVkT3JnUG9saWN5VHlwZXM7XG4iLCJpbXBvcnQgeyBPcmdhbml6YXRpb25zQ2xpZW50LCBMaXN0QVdTU2VydmljZUFjY2Vzc0Zvck9yZ2FuaXphdGlvbkNvbW1hbmQgfSBmcm9tIFwiQGF3cy1zZGsvY2xpZW50LW9yZ2FuaXphdGlvbnNcIjtcbmFzeW5jIGZ1bmN0aW9uIGdldEVuYWJsZWRPcmdTZXJ2aWNlcyhyZWdpb24pIHtcbiAgICBjb25zdCBkaXNjb3ZlcmVkT3JnU2VydmljZXMgPSBbXTtcbiAgICBjb25zdCBvcmdDbGllbnQgPSBuZXcgT3JnYW5pemF0aW9uc0NsaWVudCh7IHJlZ2lvbiB9KTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBvcmdTZXJ2aWNlQWNjZXNzQ29tbWFuZCA9IG5ldyBMaXN0QVdTU2VydmljZUFjY2Vzc0Zvck9yZ2FuaXphdGlvbkNvbW1hbmQoe30pO1xuICAgICAgICBjb25zdCBvcmdTZXJ2aWNlQWNjZXNzUmVzcG9uc2UgPSBhd2FpdCBvcmdDbGllbnQuc2VuZChvcmdTZXJ2aWNlQWNjZXNzQ29tbWFuZCk7XG4gICAgICAgIGlmIChvcmdTZXJ2aWNlQWNjZXNzUmVzcG9uc2UuRW5hYmxlZFNlcnZpY2VQcmluY2lwYWxzICYmIG9yZ1NlcnZpY2VBY2Nlc3NSZXNwb25zZS5FbmFibGVkU2VydmljZVByaW5jaXBhbHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgb3JnU2VydmljZUFjY2Vzc1Jlc3BvbnNlLkVuYWJsZWRTZXJ2aWNlUHJpbmNpcGFscztcbiAgICAgICAgICAgIGZvciAoY29uc3Qgb3JnU2VydmljZSBvZiBvcmdTZXJ2aWNlQWNjZXNzUmVzcG9uc2UuRW5hYmxlZFNlcnZpY2VQcmluY2lwYWxzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZm91bmRPcmdTZXJ2aWNlID0geyBzZXJ2aWNlOiBvcmdTZXJ2aWNlLlNlcnZpY2VQcmluY2lwYWwgPz8gXCJcIiB9O1xuICAgICAgICAgICAgICAgIGRpc2NvdmVyZWRPcmdTZXJ2aWNlcy5wdXNoKGZvdW5kT3JnU2VydmljZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNoZWNraW5nIHNlcnZpY2UgYWNjZXNzOicsIGVycm9yKTtcbiAgICB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIG9yZ0NsaWVudC5kZXN0cm95KCk7XG4gICAgICAgIHJldHVybiBkaXNjb3ZlcmVkT3JnU2VydmljZXM7XG4gICAgfVxufVxuO1xuZXhwb3J0IGRlZmF1bHQgZ2V0RW5hYmxlZE9yZ1NlcnZpY2VzO1xuIiwiaW1wb3J0IHsgQ2xvdWRGb3JtYXRpb25DbGllbnQsIERlc2NyaWJlT3JnYW5pemF0aW9uc0FjY2Vzc0NvbW1hbmQsIH0gZnJvbSBcIkBhd3Mtc2RrL2NsaWVudC1jbG91ZGZvcm1hdGlvblwiO1xuYXN5bmMgZnVuY3Rpb24gZ2V0T3JnQ2xvdWRGb3JtYXRpb24ocmVnaW9uKSB7XG4gICAgbGV0IG9yZ0NmblN0YXR1cyA9IHtcbiAgICAgICAgc3RhdHVzOiBcImRpc2FibGVkXCJcbiAgICB9O1xuICAgIGNvbnN0IGNsb3VkRm9ybWF0aW9uQ2xpZW50ID0gbmV3IENsb3VkRm9ybWF0aW9uQ2xpZW50KHsgcmVnaW9uIH0pO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGRlc2NyaWJlT3JnQWNjZXNzSW5wdXQgPSB7fTtcbiAgICAgICAgY29uc3QgY29tbWFuZCA9IG5ldyBEZXNjcmliZU9yZ2FuaXphdGlvbnNBY2Nlc3NDb21tYW5kKGRlc2NyaWJlT3JnQWNjZXNzSW5wdXQpO1xuICAgICAgICBjb25zdCBjbG91ZEZvcm1hdGlvbk9yZ0FjY2VzcyA9IGF3YWl0IGNsb3VkRm9ybWF0aW9uQ2xpZW50LnNlbmQoY29tbWFuZCk7XG4gICAgICAgIC8vY29uc29sZS5sb2coXCJDbG91ZEZvcm1hdGlvbiBhY3RpdmF0aW9uIHN0YXR1czogXCIsIGNsb3VkRm9ybWF0aW9uT3JnQWNjZXNzLlN0YXR1cylcbiAgICAgICAgb3JnQ2ZuU3RhdHVzLnN0YXR1cyA9IGNsb3VkRm9ybWF0aW9uT3JnQWNjZXNzLlN0YXR1cyA/PyBcImRpc2FibGVkXCI7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmxvZyhgRXJyb3I6ICR7ZXJyb3J9YCk7XG4gICAgICAgIC8vdGhyb3cgbmV3IEVycm9yKGBFcnJvcjogJHtlcnJvcn1gKTtcbiAgICB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIGNsb3VkRm9ybWF0aW9uQ2xpZW50LmRlc3Ryb3koKTtcbiAgICAgICAgcmV0dXJuIG9yZ0NmblN0YXR1cztcbiAgICB9XG59XG47XG5leHBvcnQgZGVmYXVsdCBnZXRPcmdDbG91ZEZvcm1hdGlvbjtcbiIsImltcG9ydCB7IENvbnRyb2xUb3dlckNsaWVudCwgTGlzdExhbmRpbmdab25lc0NvbW1hbmQsIEdldExhbmRpbmdab25lQ29tbWFuZCB9IGZyb20gXCJAYXdzLXNkay9jbGllbnQtY29udHJvbHRvd2VyXCI7XG5hc3luYyBmdW5jdGlvbiBnZXRDb250cm9sVG93ZXIocmVnaW9uKSB7XG4gICAgbGV0IGNvbnRyb2xUb3dlckluZm8gPSB7fTtcbiAgICBjb25zdCBjb250cm9sVG93ZXJDbGllbnQgPSBuZXcgQ29udHJvbFRvd2VyQ2xpZW50KHsgcmVnaW9uIH0pO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGNvbW1hbmQgPSBuZXcgTGlzdExhbmRpbmdab25lc0NvbW1hbmQoe30pO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGNvbnRyb2xUb3dlckNsaWVudC5zZW5kKGNvbW1hbmQpO1xuICAgICAgICBpZiAocmVzcG9uc2UubGFuZGluZ1pvbmVzICYmIHJlc3BvbnNlLmxhbmRpbmdab25lcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBpbnB1dCA9IHtcbiAgICAgICAgICAgICAgICBsYW5kaW5nWm9uZUlkZW50aWZpZXI6IHJlc3BvbnNlLmxhbmRpbmdab25lc1swXS5hcm4sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgbHpSZWdpb24gPSByZXNwb25zZS5sYW5kaW5nWm9uZXNbMF0uYXJuPy50b1N0cmluZygpLnNwbGl0KCc6JylbM10gPz8gXCJcIjtcbiAgICAgICAgICAgIGlmIChselJlZ2lvbikge1xuICAgICAgICAgICAgICAgIGNvbnRyb2xUb3dlckluZm8uY29udHJvbFRvd2VyUmVnaW9uID0gbHpSZWdpb247XG4gICAgICAgICAgICAgICAgY29uc3QgY29udHJvbFRvd2VyQ2xpZW50UmVnaW9uID0gbmV3IENvbnRyb2xUb3dlckNsaWVudCh7IHJlZ2lvbjogbHpSZWdpb24gfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgY29tbWFuZCA9IG5ldyBHZXRMYW5kaW5nWm9uZUNvbW1hbmQoaW5wdXQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGx6UmVzcG9uc2UgPSBhd2FpdCBjb250cm9sVG93ZXJDbGllbnRSZWdpb24uc2VuZChjb21tYW5kKTtcbiAgICAgICAgICAgICAgICBpZiAobHpSZXNwb25zZS5sYW5kaW5nWm9uZSkge1xuICAgICAgICAgICAgICAgICAgICBjb250cm9sVG93ZXJJbmZvLnN0YXR1cyA9IGx6UmVzcG9uc2UubGFuZGluZ1pvbmUuc3RhdHVzO1xuICAgICAgICAgICAgICAgICAgICBjb250cm9sVG93ZXJJbmZvLmxhdGVzdEF2YWlsYWJsZVZlcnNpb24gPSBselJlc3BvbnNlLmxhbmRpbmdab25lLmxhdGVzdEF2YWlsYWJsZVZlcnNpb247XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xUb3dlckluZm8uZGVwbG95ZWRWZXJzaW9uID0gbHpSZXNwb25zZS5sYW5kaW5nWm9uZS52ZXJzaW9uO1xuICAgICAgICAgICAgICAgICAgICBjb250cm9sVG93ZXJJbmZvLmRyaWZ0U3RhdHVzID0gbHpSZXNwb25zZS5sYW5kaW5nWm9uZS5kcmlmdFN0YXR1cz8uc3RhdHVzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgY2hlY2tpbmcgQ29udHJvbCBUb3dlciBpbiAke3JlZ2lvbn06YCwgZXJyb3IpO1xuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgY29udHJvbFRvd2VyQ2xpZW50LmRlc3Ryb3koKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRyb2xUb3dlckluZm87XG59XG5leHBvcnQgZGVmYXVsdCBnZXRDb250cm9sVG93ZXI7XG4iLCJpbXBvcnQgeyBTU09BZG1pbkNsaWVudCwgTGlzdEluc3RhbmNlc0NvbW1hbmQgfSBmcm9tIFwiQGF3cy1zZGsvY2xpZW50LXNzby1hZG1pblwiO1xuYXN5bmMgZnVuY3Rpb24gZ2V0SWRjSW5mbyhyZWdpb25MaXN0KSB7XG4gICAgbGV0IGlkY0RldGFpbHMgPSB7IGZvdW5kOiBmYWxzZSB9O1xuICAgIGZvciAoY29uc3QgcmVnaW9uIG9mIHJlZ2lvbkxpc3QpIHtcbiAgICAgICAgY29uc3Qgc3NvQWRtaW5DbGllbnQgPSBuZXcgU1NPQWRtaW5DbGllbnQoeyByZWdpb24gfSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBzc29JbnB1dCA9IHtcbiAgICAgICAgICAgICAgICBNYXhSZXN1bHRzOiBOdW1iZXIoXCIxMDBcIilcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBjb21tYW5kID0gbmV3IExpc3RJbnN0YW5jZXNDb21tYW5kKHNzb0lucHV0KTtcbiAgICAgICAgICAgIGNvbnN0IHNzb0luc3RhbmNlUmVzcG9uc2UgPSBhd2FpdCBzc29BZG1pbkNsaWVudC5zZW5kKGNvbW1hbmQpO1xuICAgICAgICAgICAgaWYgKHNzb0luc3RhbmNlUmVzcG9uc2UuSW5zdGFuY2VzICYmIHNzb0luc3RhbmNlUmVzcG9uc2UuSW5zdGFuY2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzc29JbnN0YW5jZSA9IHNzb0luc3RhbmNlUmVzcG9uc2UuSW5zdGFuY2VzWzBdO1xuICAgICAgICAgICAgICAgIGlkY0RldGFpbHMuZm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlkY0RldGFpbHMucmVnaW9uID0gcmVnaW9uO1xuICAgICAgICAgICAgICAgIGlkY0RldGFpbHMuYXJuID0gc3NvSW5zdGFuY2UuSW5zdGFuY2VBcm47XG4gICAgICAgICAgICAgICAgaWRjRGV0YWlscy5pZCA9IHNzb0luc3RhbmNlLklkZW50aXR5U3RvcmVJZDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBFcnJvciBsb29raW5nIGZvciBBV1MgSWRlbnRpdHkgQ2VudGVyIGRldGFpbHMgaW4gcmVnaW9uICR7cmVnaW9ufWApO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgc3NvQWRtaW5DbGllbnQuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpZGNEZXRhaWxzO1xufVxuO1xuZXhwb3J0IGRlZmF1bHQgZ2V0SWRjSW5mbztcbiIsImltcG9ydCB7IE9yZ2FuaXphdGlvbnNDbGllbnQsIExpc3REZWxlZ2F0ZWRBZG1pbmlzdHJhdG9yc0NvbW1hbmQsIExpc3REZWxlZ2F0ZWRTZXJ2aWNlc0ZvckFjY291bnRDb21tYW5kIH0gZnJvbSBcIkBhd3Mtc2RrL2NsaWVudC1vcmdhbml6YXRpb25zXCI7XG5hc3luYyBmdW5jdGlvbiBnZXRPcmdEYUFjY291bnRzKCkge1xuICAgIGxldCBvcmdEYURldGFpbHMgPSBbXTtcbiAgICBjb25zdCBvcmdDbGllbnQgPSBuZXcgT3JnYW5pemF0aW9uc0NsaWVudCh7IHJlZ2lvbjogJ3VzLWVhc3QtMScgfSk7XG4gICAgbGV0IG9yZ0RhRGV0YWlsID0ge307XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgY29tbWFuZCA9IG5ldyBMaXN0RGVsZWdhdGVkQWRtaW5pc3RyYXRvcnNDb21tYW5kKHt9KTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBvcmdDbGllbnQuc2VuZChjb21tYW5kKTtcbiAgICAgICAgaWYgKHJlc3BvbnNlLkRlbGVnYXRlZEFkbWluaXN0cmF0b3JzKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGRhIG9mIHJlc3BvbnNlLkRlbGVnYXRlZEFkbWluaXN0cmF0b3JzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5wdXQgPSB7IEFjY291bnRJZDogZGEuSWQgfTtcbiAgICAgICAgICAgICAgICBjb25zdCBjb21tYW5kID0gbmV3IExpc3REZWxlZ2F0ZWRTZXJ2aWNlc0ZvckFjY291bnRDb21tYW5kKGlucHV0KTtcbiAgICAgICAgICAgICAgICBjb25zdCBhY2NvdW50UmVzcG9uc2UgPSBhd2FpdCBvcmdDbGllbnQuc2VuZChjb21tYW5kKTtcbiAgICAgICAgICAgICAgICBpZiAoYWNjb3VudFJlc3BvbnNlLkRlbGVnYXRlZFNlcnZpY2VzKSB7XG4gICAgICAgICAgICAgICAgICAgIG9yZ0RhRGV0YWlsID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VydmljZXM6IGFjY291bnRSZXNwb25zZS5EZWxlZ2F0ZWRTZXJ2aWNlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnROYW1lOiBkYS5OYW1lXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIG9yZ0RhRGV0YWlscy5wdXNoKG9yZ0RhRGV0YWlsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBFcnJvciBsb29raW5nIGZvciBkZWxlZ2F0ZWQgc2VydmljZXMuYCk7XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICBvcmdDbGllbnQuZGVzdHJveSgpO1xuICAgIH1cbiAgICByZXR1cm4gb3JnRGFEZXRhaWxzO1xufVxuO1xuZXhwb3J0IGRlZmF1bHQgZ2V0T3JnRGFBY2NvdW50cztcbiIsImltcG9ydCB7IE9yZ2FuaXphdGlvbnNDbGllbnQsIExpc3RBY2NvdW50c0NvbW1hbmQgfSBmcm9tICdAYXdzLXNkay9jbGllbnQtb3JnYW5pemF0aW9ucyc7XG5hc3luYyBmdW5jdGlvbiBnZXRPcmdNZW1iZXJBY2NvdW50cygpIHtcbiAgICBsZXQgb3JnTWVtYmVyQWNjb3VudEluZm8gPSBbXTtcbiAgICBjb25zdCBvcmdzQ2xpZW50ID0gbmV3IE9yZ2FuaXphdGlvbnNDbGllbnQoeyByZWdpb246ICd1cy1lYXN0LTEnIH0pO1xuICAgIGNvbnN0IGlucHV0ID0ge1xuICAgICAgICBNYXhSZXN1bHRzOiBOdW1iZXIoXCIyMDBcIiksXG4gICAgfTtcbiAgICB0cnkge1xuICAgICAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCBvcmdzQ2xpZW50LnNlbmQobmV3IExpc3RBY2NvdW50c0NvbW1hbmQoe30pKTtcbiAgICAgICAgaWYgKHJlc3BvbnNlLkFjY291bnRzICYmIHJlc3BvbnNlLkFjY291bnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgYWNjb3VudCBvZiByZXNwb25zZS5BY2NvdW50cykge1xuICAgICAgICAgICAgICAgIGxldCBvcmdNZW1iZXJBY2NvdW50ID0ge1xuICAgICAgICAgICAgICAgICAgICBhY2NvdW50TmFtZTogYWNjb3VudC5OYW1lLFxuICAgICAgICAgICAgICAgICAgICBhY2NvdW50RW1haWw6IGFjY291bnQuRW1haWwsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBvcmdNZW1iZXJBY2NvdW50SW5mby5wdXNoKG9yZ01lbWJlckFjY291bnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5OZXh0VG9rZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBhd2FpdCBvcmdzQ2xpZW50LnNlbmQobmV3IExpc3RBY2NvdW50c0NvbW1hbmQoeyBOZXh0VG9rZW46IHJlc3BvbnNlLk5leHRUb2tlbiB9KSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5BY2NvdW50cyAmJiByZXNwb25zZS5BY2NvdW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGFjY291bnQgb2YgcmVzcG9uc2UuQWNjb3VudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgb3JnTWVtYmVyQWNjb3VudCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudE5hbWU6IGFjY291bnQuTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudEVtYWlsOiBhY2NvdW50LkVtYWlsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JnTWVtYmVyQWNjb3VudEluZm8ucHVzaChvcmdNZW1iZXJBY2NvdW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gd2hpbGUgKHJlc3BvbnNlLk5leHRUb2tlbik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxpc3RpbmcgQVdTIGFjY291bnRzOicsIGVycm9yKTtcbiAgICB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIG9yZ3NDbGllbnQuZGVzdHJveSgpO1xuICAgIH1cbiAgICByZXR1cm4gb3JnTWVtYmVyQWNjb3VudEluZm87XG59XG5leHBvcnQgZGVmYXVsdCBnZXRPcmdNZW1iZXJBY2NvdW50cztcbiIsImltcG9ydCB7IE9yZ2FuaXphdGlvbnNDbGllbnQsIExpc3RPcmdhbml6YXRpb25hbFVuaXRzRm9yUGFyZW50Q29tbWFuZCwgTGlzdEFjY291bnRzRm9yUGFyZW50Q29tbWFuZCB9IGZyb20gXCJAYXdzLXNkay9jbGllbnQtb3JnYW5pemF0aW9uc1wiO1xuYXN5bmMgZnVuY3Rpb24gZ2V0T3JnVG9wTGV2ZWxPdXMocmVnaW9uLCByb290T3VJZCkge1xuICAgIGNvbnN0IG9yZ0NsaWVudCA9IG5ldyBPcmdhbml6YXRpb25zQ2xpZW50KHsgcmVnaW9uIH0pO1xuICAgIGxldCB0b3BMZXZlbE91cyA9IFtdO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGxpc3RPVXNDb21tYW5kID0gbmV3IExpc3RPcmdhbml6YXRpb25hbFVuaXRzRm9yUGFyZW50Q29tbWFuZCh7XG4gICAgICAgICAgICBQYXJlbnRJZDogcm9vdE91SWQsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBsaXN0T1VzUmVzcG9uc2UgPSBhd2FpdCBvcmdDbGllbnQuc2VuZChsaXN0T1VzQ29tbWFuZCk7XG4gICAgICAgIGlmIChsaXN0T1VzUmVzcG9uc2UuT3JnYW5pemF0aW9uYWxVbml0cykge1xuICAgICAgICAgICAgZm9yIChjb25zdCBvdSBvZiBsaXN0T1VzUmVzcG9uc2UuT3JnYW5pemF0aW9uYWxVbml0cykge1xuICAgICAgICAgICAgICAgIGxldCB0b3BMZXZlbE91ID0ge1xuICAgICAgICAgICAgICAgICAgICBpZDogb3UuSWQsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IG91Lk5hbWVcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IGFjY291bnRSZXNwb25zZSA9IGF3YWl0IG9yZ0NsaWVudC5zZW5kKG5ldyBMaXN0QWNjb3VudHNGb3JQYXJlbnRDb21tYW5kKHsgUGFyZW50SWQ6IG91LklkIH0pKTtcbiAgICAgICAgICAgICAgICBpZiAoYWNjb3VudFJlc3BvbnNlLkFjY291bnRzICYmIGFjY291bnRSZXNwb25zZS5BY2NvdW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvcExldmVsT3UuYWNjb3VudHMgPSBhY2NvdW50UmVzcG9uc2UuQWNjb3VudHM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRvcExldmVsT3VzLnB1c2godG9wTGV2ZWxPdSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNoZWNraW5nIHNlcnZpY2UgYWNjZXNzOicsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgb3JnQ2xpZW50LmRlc3Ryb3koKTtcbiAgICB9XG4gICAgcmV0dXJuIHRvcExldmVsT3VzO1xufVxuO1xuZXhwb3J0IGRlZmF1bHQgZ2V0T3JnVG9wTGV2ZWxPdXM7XG4iLCIvLyBiYWNrbG9nIGlzIGEgc2VyaWVzIG9mIHRhc2tzIHB1dCB0b2dldGhlciB0aGF0IHdpbGwgY2xvc2Vcbi8vIGFueSBuZWNlc3NhcnkgZmluZGluZ3MgZnJvbSB0aGUgQ0ZBVCBjaGVja3NcbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUJhY2tsb2coYXNzZXNzbWVudCkge1xuICAgIGxldCB0YXNrcyA9IFtdO1xuICAgIGlmIChhc3Nlc3NtZW50LmlhbVVzZXJDaGVja3MgJiYgYXNzZXNzbWVudC5pYW1Vc2VyQ2hlY2tzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZm9yIChjb25zdCBpYW1Vc2VyIG9mIGFzc2Vzc21lbnQuaWFtVXNlckNoZWNrcykge1xuICAgICAgICAgICAgbGV0IGlhbVRhc2sgPSB7XG4gICAgICAgICAgICAgICAgdGl0bGU6IGBSZW1vdmUgSUFNIHVzZXIgJHtpYW1Vc2VyLnVzZXJOYW1lfWAsXG4gICAgICAgICAgICAgICAgZGV0YWlsOiBgUmV2aWV3IGFuZCBkZXRlcm1pbmUgaWYgSUFNIHVzZXIgJHtpYW1Vc2VyLnVzZXJOYW1lfSBjYW4gYmUgZGVsZXRlZC5gLFxuICAgICAgICAgICAgICAgIHJlbWVkaWF0aW9uTGluazogXCJcIlxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRhc2tzLnB1c2goaWFtVGFzayk7XG4gICAgICAgICAgICBpZiAoaWFtVXNlci5hY2Nlc3NLZXlJZCkge1xuICAgICAgICAgICAgICAgIGxldCBpYW1BcGlUYXNrID0ge1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogYFJlbW92ZSBJQU0gdXNlciAke2lhbVVzZXIudXNlck5hbWV9IEFQSSBrZXkgJHtpYW1Vc2VyLmFjY2Vzc0tleUlkfSBgLFxuICAgICAgICAgICAgICAgICAgICBkZXRhaWw6IGBSZXZpZXcgYW5kIGRldGVybWluZSBpZiBJQU0gdXNlciBBUEkga2V5ICR7aWFtVXNlci5hY2Nlc3NLZXlJZH0gZm9yICR7aWFtVXNlci51c2VyTmFtZX0gY2FuIGJlIHJlbW92ZWQuYCxcbiAgICAgICAgICAgICAgICAgICAgcmVtZWRpYXRpb25MaW5rOiBcImh0dHBzOi8vZG9jcy5hd3MuYW1hem9uLmNvbS9JQU0vbGF0ZXN0L1VzZXJHdWlkZS9pZF91c2Vyc19tYW5hZ2UuaHRtbCNpZF91c2Vyc19kZWxldGluZ1wiXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0YXNrcy5wdXNoKGlhbUFwaVRhc2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChhc3Nlc3NtZW50LmVjMkNoZWNrcyAmJiBhc3Nlc3NtZW50LmVjMkNoZWNrcy5maW5kKHBhcmFtID0+IHBhcmFtLmVjMkZvdW5kID09PSB0cnVlKSkge1xuICAgICAgICBmb3IgKGNvbnN0IGVjMiBvZiBhc3Nlc3NtZW50LmVjMkNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGVjMi5lYzJGb3VuZCAmJiBlYzIucmVnaW9uKSB7XG4gICAgICAgICAgICAgICAgbGV0IGVjMlRhc2sgPSB7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBgRGVsZXRlIEVDMiBpbnN0YW5jZSBpbiAke2VjMi5yZWdpb259YCxcbiAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiBgRGVsZXRlIGFueSB1bm5lY2Vzc2FyeSBFQzIgaW5zdGFuY2UgaW4gJHtlYzIucmVnaW9ufWAsXG4gICAgICAgICAgICAgICAgICAgIHJlbWVkaWF0aW9uTGluazogXCJodHRwczovL2RvY3MuYXdzLmFtYXpvbi5jb20vQVdTRUMyL2xhdGVzdC9Vc2VyR3VpZGUvdGVybWluYXRpbmctaW5zdGFuY2VzLmh0bWxcIlxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdGFza3MucHVzaChlYzJUYXNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoYXNzZXNzbWVudC52cGNDaGVja3MgJiYgYXNzZXNzbWVudC52cGNDaGVja3MubGVuZ3RoID4gMCkge1xuICAgICAgICBmb3IgKGNvbnN0IHZwY0ZpbmQgb2YgYXNzZXNzbWVudC52cGNDaGVja3MpIHtcbiAgICAgICAgICAgIGlmICh2cGNGaW5kLnZwY0ZvdW5kICYmIHZwY0ZpbmQucmVnaW9uKSB7XG4gICAgICAgICAgICAgICAgbGV0IHZwY1Rhc2sgPSB7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBgRGVsZXRlIFZQQyBpbiAke3ZwY0ZpbmQucmVnaW9ufWAsXG4gICAgICAgICAgICAgICAgICAgIGRldGFpbDogYERlbGV0ZSBhbnkgdW5uZWNlc3NhcnkgVlBDIGluICR7dnBjRmluZC5yZWdpb259IHRvIGluY2x1ZGUgdGhlIGRlZmF1bHQgVlBDLmAsXG4gICAgICAgICAgICAgICAgICAgIHJlbWVkaWF0aW9uTGluazogXCJodHRwczovL2dpdGh1Yi5jb20vY2xvdWQtZm91bmRhdGlvbnMtb24tYXdzL2Nsb3VkLWZvdW5kYXRpb25zLXRlbXBsYXRlcy9ibG9iL21haW4vbmV0d29yay9uZXR3b3JrLWRlZmF1bHQtdnBjLWRlbGV0aW9uL1JFQURNRS5tZFwiXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0YXNrcy5wdXNoKHZwY1Rhc2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGlmICghYXNzZXNzbWVudC5zY3BFbmFibGVkKSB7XG4gICAgICAgIGNvbnN0IHNjcEVuYWJsZWRUYXNrID0ge1xuICAgICAgICAgICAgdGl0bGU6ICdFbmFibGUgU0NQJyxcbiAgICAgICAgICAgIGRldGFpbDogYEVuYWJsZSBTQ1AgaW4gQVdTIE9yZ2FuaXphdGlvbmAsXG4gICAgICAgICAgICByZW1lZGlhdGlvbkxpbms6IFwiaHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL29yZ2FuaXphdGlvbnMvbGF0ZXN0L3VzZXJndWlkZS9vcmdzX21hbmFnZV9wb2xpY2llc19lbmFibGUtZGlzYWJsZS5odG1sXCJcbiAgICAgICAgfTtcbiAgICAgICAgdGFza3MucHVzaChzY3BFbmFibGVkVGFzayk7XG4gICAgfVxuICAgIGlmICghYXNzZXNzbWVudC50YWdQb2xpY3lFbmFibGVkKSB7XG4gICAgICAgIGxldCB0YWdQb2xpY3lFbmFibGVkVGFzayA9IHtcbiAgICAgICAgICAgIHRpdGxlOiAnRW5hYmxlIFRhZyBQb2xpY3knLFxuICAgICAgICAgICAgZGV0YWlsOiBgRW5hYmxlIFRhZyBQb2xpY3kgaW4gQVdTIE9yZ2FuaXphdGlvbmAsXG4gICAgICAgICAgICByZW1lZGlhdGlvbkxpbms6IFwiaHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL29yZ2FuaXphdGlvbnMvbGF0ZXN0L3VzZXJndWlkZS9vcmdzX21hbmFnZV9wb2xpY2llc19lbmFibGUtZGlzYWJsZS5odG1sXCJcbiAgICAgICAgfTtcbiAgICAgICAgdGFza3MucHVzaCh0YWdQb2xpY3lFbmFibGVkVGFzayk7XG4gICAgfVxuICAgIGlmICghYXNzZXNzbWVudC5iYWNrdXBQb2xpY3lFbmFibGVkKSB7XG4gICAgICAgIGxldCBiYWNrdXBQb2xpY3lFbmFibGVkVGFzayA9IHtcbiAgICAgICAgICAgIHRpdGxlOiAnRW5hYmxlIEJhY2t1cCBQb2xpY3knLFxuICAgICAgICAgICAgZGV0YWlsOiBgRW5hYmxlIEJhY2t1cCBQb2xpY3kgaW4gQVdTIE9yZ2FuaXphdGlvbmAsXG4gICAgICAgICAgICByZW1lZGlhdGlvbkxpbms6IFwiaHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL29yZ2FuaXphdGlvbnMvbGF0ZXN0L3VzZXJndWlkZS9vcmdzX21hbmFnZV9wb2xpY2llc19lbmFibGUtZGlzYWJsZS5odG1sXCJcbiAgICAgICAgfTtcbiAgICAgICAgdGFza3MucHVzaChiYWNrdXBQb2xpY3lFbmFibGVkVGFzayk7XG4gICAgfVxuICAgIGlmICghYXNzZXNzbWVudC5pc0xlZ2FjeUN1clNldHVwKSB7XG4gICAgICAgIGNvbnN0IGxlZ2FjeUN1clNldHVwVGFzayA9IHtcbiAgICAgICAgICAgIHRpdGxlOiAnU2V0dXAgbGVnYWN5IENVUicsXG4gICAgICAgICAgICBkZXRhaWw6IGBTZXR1cCBsZWdhY3kgQ1VSIGluIEFXUyBPcmdhbml6YXRpb25gLFxuICAgICAgICAgICAgcmVtZWRpYXRpb25MaW5rOiBcImh0dHBzOi8vZG9jcy5hd3MuYW1hem9uLmNvbS9jdXIvbGF0ZXN0L3VzZXJndWlkZS9kYXRhZXhwb3J0cy1jcmVhdGUtbGVnYWN5Lmh0bWxcIlxuICAgICAgICB9O1xuICAgICAgICB0YXNrcy5wdXNoKGxlZ2FjeUN1clNldHVwVGFzayk7XG4gICAgfVxuICAgIGxldCB0cmFuc2l0aW9uYWxGb3VuZCwgc3VzcGVuZGVkRm91bmQsIGluZnJhc3RydWN0dXJlRm91bmQgPSBmYWxzZTtcbiAgICBsZXQgd29ya2xvYWRzRm91bmQgPSBmYWxzZTtcbiAgICBsZXQgc2VjdXJpdHlGb3VuZCA9IGZhbHNlO1xuICAgIGlmIChhc3Nlc3NtZW50Lm9yZ1Jvb3RPdUlkKSB7XG4gICAgICAgIGlmIChhc3Nlc3NtZW50Lm9yZ091SW5mbyAmJiBhc3Nlc3NtZW50Lm9yZ091SW5mby5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG91IG9mIGFzc2Vzc21lbnQub3JnT3VJbmZvKSB7XG4gICAgICAgICAgICAgICAgaWYgKG91Lm5hbWU/LnRvTG93ZXJDYXNlKCkgPT09ICdzdXNwZW5kZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1c3BlbmRlZEZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG91Lm5hbWU/LnRvTG93ZXJDYXNlKCkgPT09ICd0cmFuc2l0aW9uYWwnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb25hbEZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG91Lm5hbWU/LnRvTG93ZXJDYXNlKCkgPT09ICd3b3JrbG9hZHMnKSB7XG4gICAgICAgICAgICAgICAgICAgIHdvcmtsb2Fkc0ZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG91Lm5hbWU/LnRvTG93ZXJDYXNlKCkgPT09ICdzZWN1cml0eScpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VjdXJpdHlGb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChvdS5uYW1lPy50b0xvd2VyQ2FzZSgpID09PSAnaW5mcmFzdHJ1Y3R1cmUnKSB7XG4gICAgICAgICAgICAgICAgICAgIGluZnJhc3RydWN0dXJlRm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBsZXQgaWRlbnRpdHlEZWxlZ2F0ZWQgPSBmYWxzZTtcbiAgICBsZXQgc2VjdXJpdHlIdWJEZWxlZ2F0ZWQgPSBmYWxzZTtcbiAgICBsZXQgZ3VhcmREdXR5RGVsZWdhdGVkID0gZmFsc2U7XG4gICAgbGV0IGNvbmZpZ0RlbGVnYXRlZCA9IGZhbHNlO1xuICAgIGxldCBpYW1BY2Nlc3NBbmFseXplckRlbGVnYXRlZCA9IGZhbHNlO1xuICAgIGxldCBzM1N0b3JhZ2VMZW5zRGVsZWdhdGVkID0gZmFsc2U7XG4gICAgbGV0IGlwYW1EZWxlZ2F0ZWQgPSBmYWxzZTtcbiAgICBsZXQgYWNjb3VudERlbGVnYXRlZCA9IGZhbHNlO1xuICAgIGxldCBiYWNrdXBEZWxlZ2F0ZWQgPSBmYWxzZTtcbiAgICBpZiAoYXNzZXNzbWVudC5vcmdEZWxlZ2F0ZWRBZG1pbkFjY291bnRzICYmIGFzc2Vzc21lbnQub3JnRGVsZWdhdGVkQWRtaW5BY2NvdW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGZvciAoY29uc3QgYWNjb3VudCBvZiBhc3Nlc3NtZW50Lm9yZ0RlbGVnYXRlZEFkbWluQWNjb3VudHMpIHtcbiAgICAgICAgICAgIGlmIChhY2NvdW50LnNlcnZpY2VzICYmIGFjY291bnQuc2VydmljZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc3J2IG9mIGFjY291bnQuc2VydmljZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNydi5TZXJ2aWNlUHJpbmNpcGFsID09PSAnc2VjdXJpdHlodWIuYW1hem9uYXdzLmNvbScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlY3VyaXR5SHViRGVsZWdhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoc3J2LlNlcnZpY2VQcmluY2lwYWwgPT09ICdndWFyZGR1dHkuYW1hem9uYXdzLmNvbScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGd1YXJkRHV0eURlbGVnYXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHNydi5TZXJ2aWNlUHJpbmNpcGFsID09PSAnc3NvLmFtYXpvbmF3cy5jb20nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZGVudGl0eURlbGVnYXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHNydi5TZXJ2aWNlUHJpbmNpcGFsID09PSAnY29uZmlnLmFtYXpvbmF3cy5jb20nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maWdEZWxlZ2F0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChzcnYuU2VydmljZVByaW5jaXBhbCA9PT0gJ2FjY2Vzcy1hbmFseXplci5hbWF6b25hd3MuY29tJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWFtQWNjZXNzQW5hbHl6ZXJEZWxlZ2F0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChzcnYuU2VydmljZVByaW5jaXBhbCA9PT0gJ3N0b3JhZ2UtbGVucy5zMy5hbWF6b25hd3MuY29tJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgczNTdG9yYWdlTGVuc0RlbGVnYXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHNydi5TZXJ2aWNlUHJpbmNpcGFsID09PSAnaXBhbS5hbWF6b25hd3MuY29tJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXBhbURlbGVnYXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHNydi5TZXJ2aWNlUHJpbmNpcGFsID09PSAnYWNjb3VudC5hbWF6b25hd3MuY29tJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudERlbGVnYXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHNydi5TZXJ2aWNlUHJpbmNpcGFsID09PSAnYmFja3VwLmFtYXpvbmF3cy5jb20nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrdXBEZWxlZ2F0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGFjY291bnRFbWFpbFJldmlld1Rhc2sgPSB7XG4gICAgICAgIHRpdGxlOiAnUmV2aWV3IGFjY291bnQgZW1haWwgYWRkcmVzc2VzJyxcbiAgICAgICAgZGV0YWlsOiBgUmV2aWV3IEFjY291bnQgRW1haWwgQWRkcmVzc2VzIGluIEFXUyBPcmdhbml6YXRpb25gLFxuICAgICAgICByZW1lZGlhdGlvbkxpbms6IFwiaHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL0lBTS9sYXRlc3QvVXNlckd1aWRlL3Jvb3QtdXNlci1iZXN0LXByYWN0aWNlcy5odG1sI3J1LWJwLWdyb3VwXCJcbiAgICB9O1xuICAgIHRhc2tzLnB1c2goYWNjb3VudEVtYWlsUmV2aWV3VGFzayk7XG4gICAgLy8gT1VzXG4gICAgaWYgKCF0cmFuc2l0aW9uYWxGb3VuZCkge1xuICAgICAgICBjb25zdCB0cmFuc2l0aW9uYWxUYXNrID0ge1xuICAgICAgICAgICAgdGl0bGU6ICdEZXBsb3kgVHJhbnNpdGlvbmFsIE9VJyxcbiAgICAgICAgICAgIGRldGFpbDogYERlcGxveSBUcmFuc2l0aW9uYWwgT1UgaW4gQVdTIE9yZ2FuaXphdGlvbmAsXG4gICAgICAgICAgICByZW1lZGlhdGlvbkxpbms6IFwiaHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL3doaXRlcGFwZXJzL2xhdGVzdC9vcmdhbml6aW5nLXlvdXItYXdzLWVudmlyb25tZW50L3RyYW5zaXRpb25hbC1vdS5odG1sXCJcbiAgICAgICAgfTtcbiAgICAgICAgdGFza3MucHVzaCh0cmFuc2l0aW9uYWxUYXNrKTtcbiAgICB9XG4gICAgaWYgKCFzdXNwZW5kZWRGb3VuZCkge1xuICAgICAgICBjb25zdCBzdXNwZW5kZWRUYXNrID0ge1xuICAgICAgICAgICAgdGl0bGU6ICdEZXBsb3kgU3VzcGVuZGVkIE9VJyxcbiAgICAgICAgICAgIGRldGFpbDogYERlcGxveSBTdXNwZW5kZWQgT1UgaW4gQVdTIE9yZ2FuaXphdGlvbmAsXG4gICAgICAgICAgICByZW1lZGlhdGlvbkxpbms6IFwiaHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL3doaXRlcGFwZXJzL2xhdGVzdC9vcmdhbml6aW5nLXlvdXItYXdzLWVudmlyb25tZW50L3N1c3BlbmRlZC1vdS5odG1sXCJcbiAgICAgICAgfTtcbiAgICAgICAgdGFza3MucHVzaChzdXNwZW5kZWRUYXNrKTtcbiAgICB9XG4gICAgaWYgKCF3b3JrbG9hZHNGb3VuZCkge1xuICAgICAgICBjb25zdCB3b3JrbG9hZHNUYXNrID0ge1xuICAgICAgICAgICAgdGl0bGU6ICdEZXBsb3kgV29ya2xvYWRzIE9VJyxcbiAgICAgICAgICAgIGRldGFpbDogYERlcGxveSBXb3JrbG9hZHMgT1UgaW4gQVdTIE9yZ2FuaXphdGlvbmAsXG4gICAgICAgICAgICByZW1lZGlhdGlvbkxpbms6IFwiaHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL3doaXRlcGFwZXJzL2xhdGVzdC9vcmdhbml6aW5nLXlvdXItYXdzLWVudmlyb25tZW50L3dvcmtsb2Fkcy1vdS5odG1sXCJcbiAgICAgICAgfTtcbiAgICAgICAgdGFza3MucHVzaCh3b3JrbG9hZHNUYXNrKTtcbiAgICB9XG4gICAgaWYgKCFzZWN1cml0eUZvdW5kKSB7XG4gICAgICAgIGNvbnN0IHNlY3VyaXR5VGFzayA9IHtcbiAgICAgICAgICAgIHRpdGxlOiAnRGVwbG95IFNlY3VyaXR5IE9VJyxcbiAgICAgICAgICAgIGRldGFpbDogYERlcGxveSBTZWN1cml0eSBPVSBpbiBBV1MgT3JnYW5pemF0aW9uYCxcbiAgICAgICAgICAgIHJlbWVkaWF0aW9uTGluazogXCJodHRwczovL2RvY3MuYXdzLmFtYXpvbi5jb20vd2hpdGVwYXBlcnMvbGF0ZXN0L29yZ2FuaXppbmcteW91ci1hd3MtZW52aXJvbm1lbnQvc2VjdXJpdHktb3UtYW5kLWFjY291bnRzLmh0bWxcIlxuICAgICAgICB9O1xuICAgICAgICB0YXNrcy5wdXNoKHNlY3VyaXR5VGFzayk7XG4gICAgfVxuICAgIGlmICghaW5mcmFzdHJ1Y3R1cmVGb3VuZCkge1xuICAgICAgICBjb25zdCBpbmZyYXN0cnVjdHVyZVRhc2sgPSB7XG4gICAgICAgICAgICB0aXRsZTogJ0RlcGxveSBJbmZyYXN0cnVjdHVyZSBPVScsXG4gICAgICAgICAgICBkZXRhaWw6IGBEZXBsb3kgSW5mcmFzdHJ1Y3R1cmUgT1UgaW4gQVdTIE9yZ2FuaXphdGlvbmAsXG4gICAgICAgICAgICByZW1lZGlhdGlvbkxpbms6IFwiaHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL3doaXRlcGFwZXJzL2xhdGVzdC9vcmdhbml6aW5nLXlvdXItYXdzLWVudmlyb25tZW50L2luZnJhc3RydWN0dXJlLW91LWFuZC1hY2NvdW50cy5odG1sXCJcbiAgICAgICAgfTtcbiAgICAgICAgdGFza3MucHVzaChpbmZyYXN0cnVjdHVyZVRhc2spO1xuICAgIH1cbiAgICAvLyBDb250cm9sIFRvd2VyXG4gICAgaWYgKGFzc2Vzc21lbnQuY29udHJvbFRvd2VyUmVnaW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uc3QgZGVwbG95Q29udHJvbFRvd2VyVGFzayA9IHtcbiAgICAgICAgICAgIHRpdGxlOiAnRGVwbG95IEFXUyBDb250cm9sIFRvd2VyJyxcbiAgICAgICAgICAgIGRldGFpbDogYERlcGxveSBBV1MgQ29udHJvbCBUb3dlciBpbiBBV1MgT3JnYW5pemF0aW9uYCxcbiAgICAgICAgICAgIHJlbWVkaWF0aW9uTGluazogXCJodHRwczovL2NhdGFsb2cud29ya3Nob3BzLmF3cy9jb250cm9sLXRvd2VyL2VuLVVTL3ByZXJlcXVpc2l0ZXMvZGVwbG95aW5nXCJcbiAgICAgICAgfTtcbiAgICAgICAgdGFza3MucHVzaChkZXBsb3lDb250cm9sVG93ZXJUYXNrKTtcbiAgICB9XG4gICAgaWYgKGFzc2Vzc21lbnQuY29udHJvbFRvd2VyRHJpZnRTdGF0dXMgPT09ICdEUklGVEVEJykge1xuICAgICAgICBjb25zdCBmaXhMekRyaWZ0VGFzayA9IHtcbiAgICAgICAgICAgIHRpdGxlOiAnRml4IGRyaWZ0IGluIGRlcGxveWVkIGxhbmRpbmcgem9uZScsXG4gICAgICAgICAgICBkZXRhaWw6IGBGaXggZHJpZnQgaW4gZGVwbG95ZWQgbGFuZGluZyB6b25lYCxcbiAgICAgICAgICAgIHJlbWVkaWF0aW9uTGluazogXCJodHRwczovL2RvY3MuYXdzLmFtYXpvbi5jb20vY29udHJvbHRvd2VyL2xhdGVzdC91c2VyZ3VpZGUvcmVzb2x2ZS1kcmlmdC5odG1sXCJcbiAgICAgICAgfTtcbiAgICAgICAgdGFza3MucHVzaChmaXhMekRyaWZ0VGFzayk7XG4gICAgfVxuICAgIGlmIChhc3Nlc3NtZW50LmNvbnRyb2xUb3dlckRlcGxveWVkVmVyc2lvbiAhPT0gYXNzZXNzbWVudC5jb250cm9sVG93ZXJMYXRlc3RBdmFpbGFibGVWZXJzaW9uKSB7XG4gICAgICAgIGNvbnN0IHVwZGF0ZUNvbnRyb2xUb3dlclRhc2sgPSB7XG4gICAgICAgICAgICB0aXRsZTogYFVwZGF0ZSBBV1MgQ29udHJvbCBUb3dlciB0byBsYXRlc3QgdmVyc2lvbmAsXG4gICAgICAgICAgICBkZXRhaWw6IGBVcGRhdGUgQVdTIENvbnRyb2wgVG93ZXIgdG8gdmVyc2lvbiAke2Fzc2Vzc21lbnQuY29udHJvbFRvd2VyTGF0ZXN0QXZhaWxhYmxlVmVyc2lvbn1gLFxuICAgICAgICAgICAgcmVtZWRpYXRpb25MaW5rOiBcImh0dHBzOi8vZG9jcy5hd3MuYW1hem9uLmNvbS9jb250cm9sdG93ZXIvbGF0ZXN0L3VzZXJndWlkZS91cGRhdGUtY29udHJvbHRvd2VyLmh0bWxcIlxuICAgICAgICB9O1xuICAgICAgICB0YXNrcy5wdXNoKHVwZGF0ZUNvbnRyb2xUb3dlclRhc2spO1xuICAgIH1cbiAgICAvLyBjbG91ZHRyYWlsXG4gICAgaWYgKCFhc3Nlc3NtZW50Lm9yZ1NlcnZpY2VzIHx8ICFhc3Nlc3NtZW50Lm9yZ1NlcnZpY2VzLmZpbmQocGFyYW0gPT4gcGFyYW0uc2VydmljZSA9PT0gJ2Nsb3VkdHJhaWwuYW1hem9uYXdzLmNvbScpKSB7XG4gICAgICAgIGNvbnN0IGN0T3JnU2VydmljZVRhc2sgPSB7XG4gICAgICAgICAgICB0aXRsZTogJ0VuYWJsZSBBV1MgQ2xvdWRUcmFpbCcsXG4gICAgICAgICAgICBkZXRhaWw6IGBFbmFibGUgQVdTIENsb3VkVHJhaWwgaW4gQVdTIE9yZ2FuaXphdGlvbmAsXG4gICAgICAgICAgICByZW1lZGlhdGlvbkxpbms6IFwiaHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL2NvbnRyb2x0b3dlci9sYXRlc3QvdXNlcmd1aWRlL3Jlc29sdmUtZHJpZnQuaHRtbFwiXG4gICAgICAgIH07XG4gICAgICAgIHRhc2tzLnB1c2goY3RPcmdTZXJ2aWNlVGFzayk7XG4gICAgfVxuICAgIC8vIFMzIFN0b3JhZ2UgTGVuc1xuICAgIGlmICghczNTdG9yYWdlTGVuc0RlbGVnYXRlZCkge1xuICAgICAgICBjb25zdCB0YXNrUzNTdG9yYWdlTGVuc0RlbGVnYXRlZCA9IHtcbiAgICAgICAgICAgIHRpdGxlOiAnRGVsZWdhdGUgYWRtaW5pc3RyYXRpb24gb2YgQW1hem9uIFMzIFN0b3JhZ2UgTGVucycsXG4gICAgICAgICAgICBkZXRhaWw6IGBEZWxlZ2F0ZSBhZG1pbmlzdHJhdGlvbiB0byBBbWF6b24gUzMgU3RvcmFnZSBMZW5zYCxcbiAgICAgICAgICAgIHJlbWVkaWF0aW9uTGluazogXCJodHRwczovL2RvY3MuYXdzLmFtYXpvbi5jb20vb3JnYW5pemF0aW9ucy9sYXRlc3QvdXNlcmd1aWRlL3NlcnZpY2VzLXRoYXQtY2FuLWludGVncmF0ZS1zM2xlbnMuaHRtbCNpbnRlZ3JhdGUtZW5hYmxlLWRhLXMzbGVuc1wiXG4gICAgICAgIH07XG4gICAgICAgIHRhc2tzLnB1c2godGFza1MzU3RvcmFnZUxlbnNEZWxlZ2F0ZWQpO1xuICAgIH1cbiAgICAvLyBDbG91ZEZvcm1hdGlvblxuICAgIGlmICghYXNzZXNzbWVudC5vcmdTZXJ2aWNlcyB8fCAhYXNzZXNzbWVudC5vcmdTZXJ2aWNlcy5maW5kKHBhcmFtID0+IHBhcmFtLnNlcnZpY2UgPT09ICdtZW1iZXIub3JnLnN0YWNrc2V0cy5jbG91ZGZvcm1hdGlvbi5hbWF6b25hd3MuY29tJykpIHtcbiAgICAgICAgY29uc3Qgb3JnU2VydmljZUNmbkVuYWJsZVRhc2sgPSB7XG4gICAgICAgICAgICB0aXRsZTogJ0VuYWJsZSBBV1MgQ2xvdWRGb3JtYXRpb24nLFxuICAgICAgICAgICAgZGV0YWlsOiBgRW5hYmxlIEFXUyBDbG91ZEZvcm1hdGlvbiBpbiBBV1MgT3JnYW5pemF0aW9uYCxcbiAgICAgICAgICAgIHJlbWVkaWF0aW9uTGluazogXCJodHRwczovL2RvY3MuYXdzLmFtYXpvbi5jb20vQVdTQ2xvdWRGb3JtYXRpb24vbGF0ZXN0L1VzZXJHdWlkZS9zdGFja3NldHMtb3Jncy1hY3RpdmF0ZS10cnVzdGVkLWFjY2Vzcy5odG1sXCJcbiAgICAgICAgfTtcbiAgICAgICAgdGFza3MucHVzaChvcmdTZXJ2aWNlQ2ZuRW5hYmxlVGFzayk7XG4gICAgfVxuICAgIC8vIElkZW50aXR5IENlbnRlclxuICAgIGlmICghYXNzZXNzbWVudC5vcmdTZXJ2aWNlcyB8fCAhYXNzZXNzbWVudC5vcmdTZXJ2aWNlcy5maW5kKHBhcmFtID0+IHBhcmFtLnNlcnZpY2UgPT09ICdzc28uYW1hem9uYXdzLmNvbScpKSB7XG4gICAgICAgIGNvbnN0IHNzb1Rhc2sgPSB7XG4gICAgICAgICAgICB0aXRsZTogJ0VuYWJsZSBBV1MgU2luZ2xlIFNpZ24tT24nLFxuICAgICAgICAgICAgZGV0YWlsOiBgRW5hYmxlIEFXUyBTaW5nbGUgU2lnbi1PbiBpbiBBV1MgT3JnYW5pemF0aW9uYCxcbiAgICAgICAgICAgIHJlbWVkaWF0aW9uTGluazogXCJodHRwczovL2RvY3MuYXdzLmFtYXpvbi5jb20vc2luZ2xlc2lnbm9uL2xhdGVzdC91c2VyZ3VpZGUvZ2V0LXNldC11cC1mb3ItaWRjLmh0bWxcIlxuICAgICAgICB9O1xuICAgICAgICB0YXNrcy5wdXNoKHNzb1Rhc2spO1xuICAgIH1cbiAgICBpZiAoIWlkZW50aXR5RGVsZWdhdGVkKSB7XG4gICAgICAgIGNvbnN0IGlkZW50aXR5RGVsZWdhdGVkVGFzayA9IHtcbiAgICAgICAgICAgIHRpdGxlOiAnRGVsZWdhdGUgYWRtaW5pc3RyYXRpb24gdG8gQVdTIElBTSBJZGVudGl0eSBDZW50ZXInLFxuICAgICAgICAgICAgZGV0YWlsOiBgRGVsZWdhdGUgYWRtaW5pc3RyYXRpb24gdG8gQVdTIElBTSBJZGVudGl0eSBDZW50ZXJgLFxuICAgICAgICAgICAgcmVtZWRpYXRpb25MaW5rOiBcImh0dHBzOi8vZG9jcy5hd3MuYW1hem9uLmNvbS9zaW5nbGVzaWdub24vbGF0ZXN0L3VzZXJndWlkZS9kZWxlZ2F0ZWQtYWRtaW4uaHRtbFwiXG4gICAgICAgIH07XG4gICAgICAgIHRhc2tzLnB1c2goaWRlbnRpdHlEZWxlZ2F0ZWRUYXNrKTtcbiAgICB9XG4gICAgLy8gU2VjdXJpdHlIdWJcbiAgICBpZiAoIWFzc2Vzc21lbnQub3JnU2VydmljZXMgfHwgIWFzc2Vzc21lbnQub3JnU2VydmljZXMuZmluZChwYXJhbSA9PiBwYXJhbS5zZXJ2aWNlID09PSAnc2VjdXJpdHlodWIuYW1hem9uYXdzLmNvbScpKSB7XG4gICAgICAgIGNvbnN0IHRhc2tTZWN1cml0eUh1YkRlbGVnYXRlZCA9IHtcbiAgICAgICAgICAgIHRpdGxlOiAnRGVsZWdhdGUgYWRtaW5pc3RyYXRpb24gdG8gQVdTIFNlY3VyaXR5IEh1YicsXG4gICAgICAgICAgICBkZXRhaWw6IGBEZWxlZ2F0ZSBhZG1pbmlzdHJhdGlvbiB0byBBV1MgU2VjdXJpdHkgSHViYCxcbiAgICAgICAgICAgIHJlbWVkaWF0aW9uTGluazogXCJodHRwczovL2RvY3MuYXdzLmFtYXpvbi5jb20vb3JnYW5pemF0aW9ucy9sYXRlc3QvdXNlcmd1aWRlL3NlcnZpY2VzLXRoYXQtY2FuLWludGVncmF0ZS1zZWN1cml0eWh1Yi5odG1sI2ludGVncmF0ZS1lbmFibGUtdGEtc2VjdXJpdHlodWJcIlxuICAgICAgICB9O1xuICAgICAgICB0YXNrcy5wdXNoKHRhc2tTZWN1cml0eUh1YkRlbGVnYXRlZCk7XG4gICAgfVxuICAgIGlmICghc2VjdXJpdHlIdWJEZWxlZ2F0ZWQpIHtcbiAgICAgICAgY29uc3QgdGFza1NlY3VyaXR5SHViRGVsZWdhdGVkID0ge1xuICAgICAgICAgICAgdGl0bGU6ICdEZWxlZ2F0ZSBhZG1pbmlzdHJhdGlvbiBvZiBBV1MgU2VjdXJpdHkgSHViJyxcbiAgICAgICAgICAgIGRldGFpbDogYERlbGVnYXRlIGFkbWluaXN0cmF0aW9uIHRvIEFXUyBTZWN1cml0eSBIdWJgLFxuICAgICAgICAgICAgcmVtZWRpYXRpb25MaW5rOiBcImh0dHBzOi8vZG9jcy5hd3MuYW1hem9uLmNvbS9zZWN1cml0eWh1Yi9sYXRlc3QvdXNlcmd1aWRlL2Rlc2lnbmF0ZS1vcmdzLWFkbWluLWFjY291bnQuaHRtbFwiXG4gICAgICAgIH07XG4gICAgICAgIHRhc2tzLnB1c2godGFza1NlY3VyaXR5SHViRGVsZWdhdGVkKTtcbiAgICB9XG4gICAgLy8gSUFNIEFjY2VzcyBBbmFseXplclxuICAgIGlmICghYXNzZXNzbWVudC5vcmdTZXJ2aWNlcyB8fCAhYXNzZXNzbWVudC5vcmdTZXJ2aWNlcy5maW5kKHBhcmFtID0+IHBhcmFtLnNlcnZpY2UgPT09ICdhY2Nlc3MtYW5hbHl6ZXIuYW1hem9uYXdzLmNvbScpKSB7XG4gICAgICAgIGNvbnN0IHRhc2tJYW1BY2Nlc3NBbmFseXplckRlbGVnYXRlZCA9IHtcbiAgICAgICAgICAgIHRpdGxlOiAnRGVsZWdhdGUgYWRtaW5pc3RyYXRpb24gdG8gQVdTIElBTSBBY2Nlc3MgQW5hbHl6ZXInLFxuICAgICAgICAgICAgZGV0YWlsOiBgRGVsZWdhdGUgYWRtaW5pc3RyYXRpb24gdG8gQVdTIElBTSBBY2Nlc3MgQW5hbHl6ZXJgLFxuICAgICAgICAgICAgcmVtZWRpYXRpb25MaW5rOiBcImh0dHBzOi8vZG9jcy5hd3MuYW1hem9uLmNvbS9JQU0vbGF0ZXN0L1VzZXJHdWlkZS9hY2Nlc3MtYW5hbHl6ZXItZ2V0dGluZy1zdGFydGVkLmh0bWwjYWNjZXNzLWFuYWx5emVyLWVuYWJsaW5nXCJcbiAgICAgICAgfTtcbiAgICAgICAgdGFza3MucHVzaCh0YXNrSWFtQWNjZXNzQW5hbHl6ZXJEZWxlZ2F0ZWQpO1xuICAgIH1cbiAgICBpZiAoIWlhbUFjY2Vzc0FuYWx5emVyRGVsZWdhdGVkKSB7XG4gICAgICAgIGNvbnN0IHRhc2tJYW1BY2Nlc3NBbmFseXplckRlbGVnYXRlZCA9IHtcbiAgICAgICAgICAgIHRpdGxlOiAnRGVsZWdhdGUgYWRtaW5pc3RyYXRpb24gb2YgQVdTIElBTSBBY2Nlc3MgQW5hbHl6ZXInLFxuICAgICAgICAgICAgZGV0YWlsOiBgRGVsZWdhdGUgYWRtaW5pc3RyYXRpb24gdG8gQVdTIElBTSBBY2Nlc3MgQW5hbHl6ZXJgLFxuICAgICAgICAgICAgcmVtZWRpYXRpb25MaW5rOiBcImh0dHBzOi8vZG9jcy5hd3MuYW1hem9uLmNvbS9JQU0vbGF0ZXN0L1VzZXJHdWlkZS9hY2Nlc3MtYW5hbHl6ZXItc2V0dGluZ3MuaHRtbFwiXG4gICAgICAgIH07XG4gICAgICAgIHRhc2tzLnB1c2godGFza0lhbUFjY2Vzc0FuYWx5emVyRGVsZWdhdGVkKTtcbiAgICB9XG4gICAgLy8gR3VhcmREdXR5XG4gICAgaWYgKCFhc3Nlc3NtZW50Lm9yZ1NlcnZpY2VzIHx8ICFhc3Nlc3NtZW50Lm9yZ1NlcnZpY2VzLmZpbmQocGFyYW0gPT4gcGFyYW0uc2VydmljZSA9PT0gJ2d1YXJkZHV0eS5hbWF6b25hd3MuY29tJykpIHtcbiAgICAgICAgY29uc3QgdGFza0d1YXJkRHV0eURlbGVnYXRlZCA9IHtcbiAgICAgICAgICAgIHRpdGxlOiAnRW5hYmxlIEFXUyBHdWFyZER1dHknLFxuICAgICAgICAgICAgZGV0YWlsOiBgRW5hYmxlIEFXUyBHdWFyZER1dHkgaW4gQVdTIE9yZ2FuaXphdGlvbmAsXG4gICAgICAgICAgICByZW1lZGlhdGlvbkxpbms6IFwiaHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL29yZ2FuaXphdGlvbnMvbGF0ZXN0L3VzZXJndWlkZS9zZXJ2aWNlcy10aGF0LWNhbi1pbnRlZ3JhdGUtZ3VhcmRkdXR5Lmh0bWwjaW50ZWdyYXRlLWVuYWJsZS10YS1ndWFyZGR1dHlcIlxuICAgICAgICB9O1xuICAgICAgICB0YXNrcy5wdXNoKHRhc2tHdWFyZER1dHlEZWxlZ2F0ZWQpO1xuICAgIH1cbiAgICBpZiAoIWd1YXJkRHV0eURlbGVnYXRlZCkge1xuICAgICAgICBjb25zdCB0YXNrR3VhcmREdXR5RGVsZWdhdGVkID0ge1xuICAgICAgICAgICAgdGl0bGU6ICdEZWxlZ2F0ZSBhZG1pbmlzdHJhdGlvbiBvZiBBV1MgR3VhcmREdXR5JyxcbiAgICAgICAgICAgIGRldGFpbDogYERlbGVnYXRlIGFkbWluaXN0cmF0aW9uIHRvIEFXUyBHdWFyZER1dHlgLFxuICAgICAgICAgICAgcmVtZWRpYXRpb25MaW5rOiBcImh0dHBzOi8vZG9jcy5hd3MuYW1hem9uLmNvbS9vcmdhbml6YXRpb25zL2xhdGVzdC91c2VyZ3VpZGUvc2VydmljZXMtdGhhdC1jYW4taW50ZWdyYXRlLWd1YXJkZHV0eS5odG1sXCJcbiAgICAgICAgfTtcbiAgICAgICAgdGFza3MucHVzaCh0YXNrR3VhcmREdXR5RGVsZWdhdGVkKTtcbiAgICB9XG4gICAgLy8gQ29uZmlnXG4gICAgaWYgKCFhc3Nlc3NtZW50Lm9yZ1NlcnZpY2VzIHx8ICFhc3Nlc3NtZW50Lm9yZ1NlcnZpY2VzLmZpbmQocGFyYW0gPT4gcGFyYW0uc2VydmljZSA9PT0gJ2NvbmZpZy5hbWF6b25hd3MuY29tJykpIHtcbiAgICAgICAgY29uc3QgY29uZmlnT3JnU2VydmljZVRhc2sgPSB7XG4gICAgICAgICAgICB0aXRsZTogJ0VuYWJsZSBBV1MgQ29uZmlnJyxcbiAgICAgICAgICAgIGRldGFpbDogYEVuYWJsZSBBV1MgQ29uZmlnIGluIEFXUyBPcmdhbml6YXRpb25gLFxuICAgICAgICAgICAgcmVtZWRpYXRpb25MaW5rOiBcImh0dHBzOi8vZG9jcy5hd3MuYW1hem9uLmNvbS9vcmdhbml6YXRpb25zL2xhdGVzdC91c2VyZ3VpZGUvc2VydmljZXMtdGhhdC1jYW4taW50ZWdyYXRlLWNvbmZpZy5odG1sI2ludGVncmF0ZS1lbmFibGUtdGEtY29uZmlnXCJcbiAgICAgICAgfTtcbiAgICAgICAgdGFza3MucHVzaChjb25maWdPcmdTZXJ2aWNlVGFzayk7XG4gICAgfVxuICAgIGlmICghY29uZmlnRGVsZWdhdGVkKSB7XG4gICAgICAgIGNvbnN0IHRhc2tDb25maWdEZWxlZ2F0ZWQgPSB7XG4gICAgICAgICAgICB0aXRsZTogJ0RlbGVnYXRlIGFkbWluaXN0cmF0aW9uIG9mIEFXUyBDb25maWcnLFxuICAgICAgICAgICAgZGV0YWlsOiBgRGVsZWdhdGUgYWRtaW5pc3RyYXRpb24gdG8gQVdTIENvbmZpZ2AsXG4gICAgICAgICAgICByZW1lZGlhdGlvbkxpbms6IFwiaHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL29yZ2FuaXphdGlvbnMvbGF0ZXN0L3VzZXJndWlkZS9zZXJ2aWNlcy10aGF0LWNhbi1pbnRlZ3JhdGUtY29uZmlnLmh0bWxcIlxuICAgICAgICB9O1xuICAgICAgICB0YXNrcy5wdXNoKHRhc2tDb25maWdEZWxlZ2F0ZWQpO1xuICAgIH1cbiAgICAvLyBSQU1cbiAgICBpZiAoIWFzc2Vzc21lbnQub3JnU2VydmljZXMgfHwgIWFzc2Vzc21lbnQub3JnU2VydmljZXMuZmluZChwYXJhbSA9PiBwYXJhbS5zZXJ2aWNlID09PSAncmFtLmFtYXpvbmF3cy5jb20nKSkge1xuICAgICAgICBjb25zdCBvcmdTZXJ2aWNlUmFtVGFzayA9IHtcbiAgICAgICAgICAgIHRpdGxlOiAnRW5hYmxlIEFXUyBSZXNvdXJjZSBBY2Nlc3MgTWFuYWdlcicsXG4gICAgICAgICAgICBkZXRhaWw6IGBFbmFibGUgQVdTIFJlc291cmNlIEFjY2VzcyBNYW5hZ2VyIGluIEFXUyBPcmdhbml6YXRpb25gLFxuICAgICAgICAgICAgcmVtZWRpYXRpb25MaW5rOiBcImh0dHBzOi8vZG9jcy5hd3MuYW1hem9uLmNvbS9vcmdhbml6YXRpb25zL2xhdGVzdC91c2VyZ3VpZGUvc2VydmljZXMtdGhhdC1jYW4taW50ZWdyYXRlLXJhbS5odG1sI2ludGVncmF0ZS1lbmFibGUtdGEtcmFtXCJcbiAgICAgICAgfTtcbiAgICAgICAgdGFza3MucHVzaChvcmdTZXJ2aWNlUmFtVGFzayk7XG4gICAgfVxuICAgIC8vIElQQU1cbiAgICBpZiAoIWFzc2Vzc21lbnQub3JnU2VydmljZXMgfHwgIWFzc2Vzc21lbnQub3JnU2VydmljZXMuZmluZChwYXJhbSA9PiBwYXJhbS5zZXJ2aWNlID09PSAnaXBhbS5hbWF6b25hd3MuY29tJykpIHtcbiAgICAgICAgY29uc3Qgb3JnU2VydmljZUlwYW1UYXNrID0ge1xuICAgICAgICAgICAgdGl0bGU6ICdFbmFibGUgQVdTIElQQU0nLFxuICAgICAgICAgICAgZGV0YWlsOiBgRW5hYmxlIEFXUyBJUEFNIGluIEFXUyBPcmdhbml6YXRpb25gLFxuICAgICAgICAgICAgcmVtZWRpYXRpb25MaW5rOiBcImh0dHBzOi8vZG9jcy5hd3MuYW1hem9uLmNvbS9vcmdhbml6YXRpb25zL2xhdGVzdC91c2VyZ3VpZGUvc2VydmljZXMtdGhhdC1jYW4taW50ZWdyYXRlLWlwYW0uaHRtbFwiXG4gICAgICAgIH07XG4gICAgICAgIHRhc2tzLnB1c2gob3JnU2VydmljZUlwYW1UYXNrKTtcbiAgICB9XG4gICAgaWYgKCFpcGFtRGVsZWdhdGVkKSB7XG4gICAgICAgIGNvbnN0IHRhc2tJcGFtRGVsZWdhdGVkID0ge1xuICAgICAgICAgICAgdGl0bGU6ICdEZWxlZ2F0ZSBhZG1pbmlzdHJhdGlvbiBvZiBBV1MgSVBBTScsXG4gICAgICAgICAgICBkZXRhaWw6IGBEZWxlZ2F0ZSBhZG1pbmlzdHJhdGlvbiB0byBBV1MgSVBBTWAsXG4gICAgICAgICAgICByZW1lZGlhdGlvbkxpbms6IFwiaHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL3ZwYy9sYXRlc3QvaXBhbS9lbmFibGUtaW50ZWctaXBhbS5odG1sXCJcbiAgICAgICAgfTtcbiAgICAgICAgdGFza3MucHVzaCh0YXNrSXBhbURlbGVnYXRlZCk7XG4gICAgfVxuICAgIC8vIEFjY291bnQgTWFuYWdlclxuICAgIGlmICghYXNzZXNzbWVudC5vcmdTZXJ2aWNlcyB8fCAhYXNzZXNzbWVudC5vcmdTZXJ2aWNlcy5maW5kKHBhcmFtID0+IHBhcmFtLnNlcnZpY2UgPT09ICdhY2NvdW50LmFtYXpvbmF3cy5jb20nKSkge1xuICAgICAgICBjb25zdCBvcmdTZXJ2aWNlQWNjb3VudFRhc2sgPSB7XG4gICAgICAgICAgICB0aXRsZTogJ0VuYWJsZSBBV1MgQWNjb3VudCcsXG4gICAgICAgICAgICBkZXRhaWw6IGBFbmFibGUgQVdTIEFjY291bnQgaW4gQVdTIE9yZ2FuaXphdGlvbmAsXG4gICAgICAgICAgICByZW1lZGlhdGlvbkxpbms6IFwiaHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL2FjY291bnRzL2xhdGVzdC9yZWZlcmVuY2UvdXNpbmctb3Jncy1kZWxlZ2F0ZWQtYWRtaW4uaHRtbFwiXG4gICAgICAgIH07XG4gICAgICAgIHRhc2tzLnB1c2gob3JnU2VydmljZUFjY291bnRUYXNrKTtcbiAgICB9XG4gICAgaWYgKCFhY2NvdW50RGVsZWdhdGVkKSB7XG4gICAgICAgIGNvbnN0IHRhc2tBY2NvdW50RGVsZWdhdGVkID0ge1xuICAgICAgICAgICAgdGl0bGU6ICdEZWxlZ2F0ZSBhZG1pbmlzdHJhdGlvbiBvZiBBV1MgQWNjb3VudCcsXG4gICAgICAgICAgICBkZXRhaWw6IGBEZWxlZ2F0ZSBhZG1pbmlzdHJhdGlvbiB0byBBV1MgQWNjb3VudGAsXG4gICAgICAgICAgICByZW1lZGlhdGlvbkxpbms6IFwiXCJcbiAgICAgICAgfTtcbiAgICAgICAgdGFza3MucHVzaCh0YXNrQWNjb3VudERlbGVnYXRlZCk7XG4gICAgfVxuICAgIC8vIEJhY2t1cFxuICAgIGlmICghYXNzZXNzbWVudC5vcmdTZXJ2aWNlcyB8fCAhYXNzZXNzbWVudC5vcmdTZXJ2aWNlcy5maW5kKHBhcmFtID0+IHBhcmFtLnNlcnZpY2UgPT09ICdiYWNrdXAuYW1hem9uYXdzLmNvbScpKSB7XG4gICAgICAgIGNvbnN0IG9yZ1NlcnZpY2VCYWNrdXBUYXNrID0ge1xuICAgICAgICAgICAgdGl0bGU6ICdFbmFibGUgQVdTIEJhY2t1cCcsXG4gICAgICAgICAgICBkZXRhaWw6IGBFbmFibGUgQVdTIEJhY2t1cCBpbiBBV1MgT3JnYW5pemF0aW9uYCxcbiAgICAgICAgICAgIHJlbWVkaWF0aW9uTGluazogXCJodHRwczovL2RvY3MuYXdzLmFtYXpvbi5jb20vb3JnYW5pemF0aW9ucy9sYXRlc3QvdXNlcmd1aWRlL3NlcnZpY2VzLXRoYXQtY2FuLWludGVncmF0ZS1iYWNrdXAuaHRtbCNpbnRlZ3JhdGUtZW5hYmxlLXRhLWJhY2t1cFwiXG4gICAgICAgIH07XG4gICAgICAgIHRhc2tzLnB1c2gob3JnU2VydmljZUJhY2t1cFRhc2spO1xuICAgIH1cbiAgICBpZiAoIWJhY2t1cERlbGVnYXRlZCkge1xuICAgICAgICBjb25zdCB0YXNrQmFja3VwRGVsZWdhdGVkID0ge1xuICAgICAgICAgICAgdGl0bGU6ICdEZWxlZ2F0ZSBhZG1pbmlzdHJhdGlvbiBvZiBBV1MgQmFja3VwJyxcbiAgICAgICAgICAgIGRldGFpbDogYERlbGVnYXRlIGFkbWluaXN0cmF0aW9uIHRvIEFXUyBCYWNrdXBgLFxuICAgICAgICAgICAgcmVtZWRpYXRpb25MaW5rOiBcImh0dHBzOi8vZG9jcy5hd3MuYW1hem9uLmNvbS9hd3MtYmFja3VwL2xhdGVzdC9kZXZndWlkZS9tYW5hZ2UtY3Jvc3MtYWNjb3VudC5odG1sI2JhY2t1cC1kZWxlZ2F0ZWRhZG1pblwiXG4gICAgICAgIH07XG4gICAgICAgIHRhc2tzLnB1c2godGFza0JhY2t1cERlbGVnYXRlZCk7XG4gICAgfVxuICAgIHJldHVybiB0YXNrcztcbn1cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUJhY2tsb2c7XG4iLCJpbXBvcnQgKiBhcyBmcyBmcm9tICdmcyc7XG5hc3luYyBmdW5jdGlvbiBjcmVhdGVKaXJhSW1wb3J0KHRhc2tzKSB7XG4gICAgbGV0IGNzdiA9ICdcIlN1bW1hcnlcIiwgXCJEZXNjcmlwdGlvblwiLCBcIlN0YXR1c1wiIFxcclxcbic7XG4gICAgZm9yIChjb25zdCB0YXNrIG9mIHRhc2tzKSB7XG4gICAgICAgIGNzdiArPSBgXCJjZmF0IC0gJHt0YXNrLmNhdGVnb3J5fSAtICR7dGFzay50aXRsZX1cIiwgXCIke3Rhc2suZGV0YWlsfVwiLCBcIk9wZW5cIiBcXHJcXG5gO1xuICAgIH1cbiAgICBmcy53cml0ZUZpbGVTeW5jKCcuL2ppcmEtaW1wb3J0LmNzdicsIGNzdik7XG4gICAgcmV0dXJuO1xufVxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlSmlyYUltcG9ydDtcbiIsImltcG9ydCAqIGFzIGZzIGZyb20gJ2ZzJztcbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUFzYW5hSW1wb3J0KHRhc2tzKSB7XG4gICAgbGV0IGNzdiA9ICdcIlRhc2tcIiwgXCJEZXNjcmlwdGlvblwiLCBcIlN0YXR1c1wiICBcXHJcXG4nO1xuICAgIGZvciAoY29uc3QgdGFzayBvZiB0YXNrcykge1xuICAgICAgICBjc3YgKz0gYFwiY2ZhdCAtICR7dGFzay50aXRsZX1cIiwgXCIke3Rhc2suZGV0YWlsfSAtIFJlbWVkaWF0aW9uIExpbms6ICR7dGFzay5yZW1lZGlhdGlvbkxpbmt9XCIsIFwiTm90IFN0YXJ0ZWRcIiBcXHJcXG5gO1xuICAgIH1cbiAgICBmcy53cml0ZUZpbGVTeW5jKCcuL2FzYW5hLWltcG9ydC5jc3YnLCBjc3YpO1xuICAgIHJldHVybjtcbn1cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUFzYW5hSW1wb3J0O1xuIiwiaW1wb3J0IGZzIGZyb20gJ2ZzJztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuaW1wb3J0IGFyY2hpdmVyIGZyb20gJ2FyY2hpdmVyJztcbmFzeW5jIGZ1bmN0aW9uIHppcEFzc2Vzc21lbnRGaWxlcygpIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBvdXRwdXQgPSBmcy5jcmVhdGVXcml0ZVN0cmVhbShwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgJ2Fzc2Vzc21lbnQuemlwJykpO1xuICAgICAgICBjb25zdCBhcmNoaXZlID0gYXJjaGl2ZXIoJ3ppcCcsIHtcbiAgICAgICAgICAgIHpsaWI6IHsgbGV2ZWw6IDkgfSwgLy8gU2V0cyB0aGUgY29tcHJlc3Npb24gbGV2ZWwuXG4gICAgICAgIH0pO1xuICAgICAgICBhcmNoaXZlLnBpcGUob3V0cHV0KTtcbiAgICAgICAgLy8gQWRkIHRoZSBmaWxlcyB0byB0aGUgYXJjaGl2ZVxuICAgICAgICBhcmNoaXZlLmZpbGUocGF0aC5qb2luKHByb2Nlc3MuY3dkKCksICdjZmF0LnR4dCcpLCB7IG5hbWU6ICdjZmF0LnR4dCcgfSk7XG4gICAgICAgIGFyY2hpdmUuZmlsZShwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgJ2NmYXQtY2hlY2tzLmNzdicpLCB7IG5hbWU6ICdjZmF0LWNoZWNrcy5jc3YnIH0pO1xuICAgICAgICBhcmNoaXZlLmZpbGUocGF0aC5qb2luKHByb2Nlc3MuY3dkKCksICdhc2FuYS1pbXBvcnQuY3N2JyksIHsgbmFtZTogJ2FzYW5hLWltcG9ydC5jc3YnIH0pO1xuICAgICAgICBhcmNoaXZlLmZpbGUocGF0aC5qb2luKHByb2Nlc3MuY3dkKCksICdqaXJhLWltcG9ydC5jc3YnKSwgeyBuYW1lOiAnamlyYS1pbXBvcnQuY3N2JyB9KTtcbiAgICAgICAgYXJjaGl2ZS5maW5hbGl6ZSgpO1xuICAgICAgICBjb25zb2xlLmxvZygnWmlwIGZpbGUgY3JlYXRlZCBzdWNjZXNzZnVsbHkhJyk7XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgemlwIGZpbGU6JywgZXJyKTtcbiAgICB9XG59XG5leHBvcnQgZGVmYXVsdCB6aXBBc3Nlc3NtZW50RmlsZXM7XG4iXSwibmFtZXMiOlsicmVxdWlyZSIsInRzIiwiVHJhbnNmb3JtIiwidHJhbnNmb3JtIiwiY2h1bmsiLCJlbmMiLCJjYiIsImxvZ2dlciIsIkNvbnNvbGUiLCJzdGRvdXQiLCJhc3luYyIsInJlcG9ydCIsImNmYXRDaGVja3MiLCJyZWdpb24iLCJwcm9jZXNzIiwiZW52IiwiQVdTX1JFR0lPTiIsImFsbFJlZ2lvbnMiLCJlYzJDbGllbnQiLCJFQzJDbGllbnQiLCJkZXNjcmliZVJlZ2lvbnNDb21tYW5kIiwiRGVzY3JpYmVSZWdpb25zQ29tbWFuZCIsInJlc3BvbnNlIiwic2VuZCIsInJlZ2lvbnMiLCJSZWdpb25zIiwicHVzaCIsIlJlZ2lvbk5hbWUiLCJlcnJvciIsImNvbnNvbGUiLCJkZXN0cm95IiwibG9nIiwiYWNjb3VudFR5cGUiLCJvcmdhbml6YXRpb25zQ2xpZW50IiwiT3JnYW5pemF0aW9uc0NsaWVudCIsImlzSW5Pcmdhbml6YXRpb24iLCJpc01hbmFnZW1lbnRBY2NvdW50IiwiY3VycmVudEFjY291bnRJZCIsInN0c0NsaWVudCIsIlNUU0NsaWVudCIsImdldENhbGxlcklkZW50aXR5Q29tbWFuZCIsIkdldENhbGxlcklkZW50aXR5Q29tbWFuZCIsIkFjY291bnQiLCJnZXRBY2NvdW50SWQiLCJkZXNjcmliZU9yZ2FuaXphdGlvbkNvbW1hbmQiLCJEZXNjcmliZU9yZ2FuaXphdGlvbkNvbW1hbmQiLCJkZXNjcmliZU9yZ2FuaXphdGlvblJlc3BvbnNlIiwiT3JnYW5pemF0aW9uIiwiTWFzdGVyQWNjb3VudElkIiwibWFuYWdlbWVudEFjY291bnRJZCIsImRlZmluZUFjY291bnRUeXBlIiwidHJhbnNpdGlvbmFsRm91bmQiLCJzdXNwZW5kZWRGb3VuZCIsImluZnJhc3RydWN0dXJlRm91bmQiLCJ3b3JrbG9hZHNGb3VuZCIsInNlY3VyaXR5Rm91bmQiLCJjZmF0SWFtVXNlclBhc3MiLCJjZmF0SWFtSWRQT3JnU2VydmljZVBhc3MiLCJjZmF0SWFtSWRjQ29uZmlndXJlZFBhc3MiLCJjZmF0Q2xvdWRUcmFpbFBhc3MiLCJjZmF0Q2xvdWRUcmFpbE9yZ1RyYWlsUGFzcyIsImNmYXRWcGNQYXNzIiwiY2ZhdEVjMlBhc3MiLCJjZmF0Q29uZmlnTWFuYWdlbWVudEFjY291bnRQYXNzIiwiY2ZhdENvbmZpZ1JlY29yZGVyTWFuYWdlbWVudEFjY291bnRQYXNzIiwiY2ZhdENsb3VkVHJhaWxPcmdTZXJ2aWNlRW5hYmxlZFBhc3MiLCJjZmF0VGFnUG9saWNpZXNFbmFibGVkUGFzcyIsImNmYXRTY3BFbmFibGVkUGFzcyIsImNmYXRCYWNrdXBQb2xpY2llc0VuYWJsZWRQYXNzIiwiY2ZhdE9yZ0Nsb3VkRm9ybWF0aW9uU3RhdHVzUGFzcyIsImNmYXRPcmdTZXJ2aWNlR3VhcmREdXR5RW5hYmxlZFBhc3MiLCJjZmF0T3JnU2VydmljZVNlY3VyaXR5SHViRW5hYmxlZFBhc3MiLCJjZmF0T3JnU2VydmljZUlhbUFjY2Vzc0FuYWx5emVyRW5hYmxlZFBhc3MiLCJjZmF0T3JnU2VydmljZUF3c0NvbmZpZ0VuYWJsZWRQYXNzIiwiY2ZhdE9yZ1NlcnZpY2VSYW1FbmFibGVkUGFzcyIsImNmYXRDb250cm9sVG93ZXJEZXBsb3llZFBhc3MiLCJjZmF0Q29udHJvbFRvd2VyTm90RHJpZnRlZFBhc3MiLCJjZmF0Q29udHJvbFRvd2VyTGF0ZXN0VmVyc2lvblBhc3MiLCJjZmF0TG9nQXJjaGl2ZUFjY291bnRQYXNzIiwiY2ZhdEF1ZGl0QWNjb3VudFBhc3MiLCJjZmF0TWFuYWdlbWVudEFjY291bnRQYXNzIiwiY2ZhdE9yZ1NlcnZpY2VCYWNrdXBFbmFibGVkUGFzcyIsIm9yZ2FuaXphdGlvbkRlcGxveSIsIm1hbmFnZW1lbnRBY2NvdW50IiwidW5kZWZpbmVkIiwiaWFtVXNlclJlc3VsdCIsImlhbUNsaWVudCIsIklBTUNsaWVudCIsImlhbVVzZXJJbmZvIiwibGlzdFVzZXJzQ29tbWFuZCIsIkxpc3RVc2Vyc0NvbW1hbmQiLCJsaXN0VXNlcnNSZXNwb25zZSIsInVzZXIiLCJVc2VycyIsInVzZXJOYW1lIiwiVXNlck5hbWUiLCJsaXN0QWNjZXNzS2V5c0NvbW1hbmQiLCJMaXN0QWNjZXNzS2V5c0NvbW1hbmQiLCJhY2Nlc3NLZXlzIiwiQWNjZXNzS2V5TWV0YWRhdGEiLCJsZW5ndGgiLCJhY2Nlc3NLZXkiLCJhY2Nlc3NLZXlJZCIsIkFjY2Vzc0tleUlkIiwiZ2V0TGFzdFVzZWRDb21tYW5kIiwiR2V0QWNjZXNzS2V5TGFzdFVzZWRDb21tYW5kIiwibGFzdFVzZWRSZXNwb25zZSIsImZvdW5kVXNlckluZm8iLCJsYXN0VXNlZCIsIkFjY2Vzc0tleUxhc3RVc2VkIiwiTGFzdFVzZWREYXRlIiwiaWFtVXNlckNoZWNrcyIsImVjMkNoZWNrIiwiZWMyVmFsaWRhdGlvbiIsImNvbW1hbmQiLCJEZXNjcmliZUluc3RhbmNlc0NvbW1hbmQiLCJSZXNlcnZhdGlvbnMiLCJlYzJGb3VuZCIsImZpbmQiLCJwYXJhbSIsImVjMkNoZWNrcyIsImluZm8iLCJlYzIiLCJ2cGNDaGVjayIsInZwY1ZhbGlkYXRpb24iLCJEZXNjcmliZVZwY3NDb21tYW5kIiwiVnBjcyIsInZwY0ZvdW5kIiwidnBjQ2hlY2tzIiwiY2xvdWRUcmFpbERldGFpbHMiLCJjbG91ZFRyYWlsVmFsaWRhdGlvbiIsImNsb3VkVHJhaWxDbGllbnQiLCJDbG91ZFRyYWlsQ2xpZW50IiwiY2xvdWRUcmFpbERlc2NyaWJlQ29tbWFuZCIsIkRlc2NyaWJlVHJhaWxzQ29tbWFuZCIsImNsb3VkVHJhaWxSZXNwb25zZSIsInRyYWlsTGlzdCIsInRyYWlsIiwidHJhaWxJbmZvIiwiSG9tZVJlZ2lvbiIsInRyYWlsRm91bmQiLCJpc09yZ1RyYWlsIiwiSXNNdWx0aVJlZ2lvblRyYWlsIiwiaXNNdWx0aVJlZ2lvbiIsImNvbmZpZ0RldGFpbHMiLCJjb25maWdTZXJ2aWNlQ2xpZW50IiwiQ29uZmlnU2VydmljZUNsaWVudCIsImNvbmZpZ0RldGFpbCIsImNvbmZpZ1JlY29yZGVyRm91bmQiLCJjb25maWdEZWxpdmVyeUNoYW5uZWxGb3VuZCIsInJlY29yZGVyUmVzcG9uc2UiLCJEZXNjcmliZUNvbmZpZ3VyYXRpb25SZWNvcmRlclN0YXR1c0NvbW1hbmQiLCJDb25maWd1cmF0aW9uUmVjb3JkZXJzU3RhdHVzIiwiY2hhbm5lbFJlc3BvbnNlIiwiRGVzY3JpYmVEZWxpdmVyeUNoYW5uZWxzQ29tbWFuZCIsIkRlbGl2ZXJ5Q2hhbm5lbHMiLCJjb25maWdGaW5kIiwib3JnRGV0YWlscyIsIm9yZ0NsaWVudCIsIm9yZ0Rlc2NyaWJlQ29tbWFuZCIsIm9yZ0RhdGEiLCJpZCIsIklkIiwiYXJuIiwiQXJuIiwiTGlzdFJvb3RzQ29tbWFuZCIsInJvb3RzIiwiUm9vdHMiLCJyb290T3VJZCIsImxlZ2FjeUN1ckNoZWNrIiwiY3VyQ2xpZW50IiwiQ29zdEFuZFVzYWdlUmVwb3J0U2VydmljZUNsaWVudCIsImlzTGVnYWN5Q3VyU2V0dXAiLCJpbnB1dCIsIkRlc2NyaWJlUmVwb3J0RGVmaW5pdGlvbnNDb21tYW5kIiwiUmVwb3J0RGVmaW5pdGlvbnMiLCJlbmFibGVPcmdQb2xpY2llc0NoZWNrIiwicG9saWN5VHlwZXNFbmFibGVkIiwic2NwRW5hYmxlZCIsInRhZ1BvbGljeUVuYWJsZWQiLCJiYWNrdXBQb2xpY3lFbmFibGVkIiwiUG9saWN5VHlwZXMiLCJlbmFibGVkUG9saWN5IiwiVHlwZSIsIlN0YXR1cyIsIm9yZ1NlcnZpY2VzIiwiZGlzY292ZXJlZE9yZ1NlcnZpY2VzIiwib3JnU2VydmljZUFjY2Vzc0NvbW1hbmQiLCJMaXN0QVdTU2VydmljZUFjY2Vzc0Zvck9yZ2FuaXphdGlvbkNvbW1hbmQiLCJvcmdTZXJ2aWNlQWNjZXNzUmVzcG9uc2UiLCJFbmFibGVkU2VydmljZVByaW5jaXBhbHMiLCJvcmdTZXJ2aWNlIiwiZm91bmRPcmdTZXJ2aWNlIiwic2VydmljZSIsIlNlcnZpY2VQcmluY2lwYWwiLCJjZm5PcmdTdGF0dXMiLCJvcmdDZm5TdGF0dXMiLCJzdGF0dXMiLCJjbG91ZEZvcm1hdGlvbkNsaWVudCIsIkNsb3VkRm9ybWF0aW9uQ2xpZW50IiwiZGVzY3JpYmVPcmdBY2Nlc3NJbnB1dCIsIkRlc2NyaWJlT3JnYW5pemF0aW9uc0FjY2Vzc0NvbW1hbmQiLCJjbG91ZEZvcm1hdGlvbk9yZ0FjY2VzcyIsImNvbnRyb2xUb3dlckRldGFpbHMiLCJjb250cm9sVG93ZXJJbmZvIiwiY29udHJvbFRvd2VyQ2xpZW50IiwiQ29udHJvbFRvd2VyQ2xpZW50IiwiTGlzdExhbmRpbmdab25lc0NvbW1hbmQiLCJsYW5kaW5nWm9uZXMiLCJsYW5kaW5nWm9uZUlkZW50aWZpZXIiLCJselJlZ2lvbiIsInRvU3RyaW5nIiwic3BsaXQiLCJjb250cm9sVG93ZXJSZWdpb24iLCJjb250cm9sVG93ZXJDbGllbnRSZWdpb24iLCJHZXRMYW5kaW5nWm9uZUNvbW1hbmQiLCJselJlc3BvbnNlIiwibGFuZGluZ1pvbmUiLCJsYXRlc3RBdmFpbGFibGVWZXJzaW9uIiwiZGVwbG95ZWRWZXJzaW9uIiwidmVyc2lvbiIsImRyaWZ0U3RhdHVzIiwiaWRjSW5mbyIsInJlZ2lvbkxpc3QiLCJpZGNEZXRhaWxzIiwiZm91bmQiLCJzc29BZG1pbkNsaWVudCIsIlNTT0FkbWluQ2xpZW50Iiwic3NvSW5wdXQiLCJNYXhSZXN1bHRzIiwiTnVtYmVyIiwiTGlzdEluc3RhbmNlc0NvbW1hbmQiLCJzc29JbnN0YW5jZVJlc3BvbnNlIiwiSW5zdGFuY2VzIiwic3NvSW5zdGFuY2UiLCJJbnN0YW5jZUFybiIsIklkZW50aXR5U3RvcmVJZCIsIm9yZ0RlbGVnYXRlZEFkbWluQWNjb3VudHMiLCJvcmdEYURldGFpbHMiLCJvcmdEYURldGFpbCIsIkxpc3REZWxlZ2F0ZWRBZG1pbmlzdHJhdG9yc0NvbW1hbmQiLCJEZWxlZ2F0ZWRBZG1pbmlzdHJhdG9ycyIsImRhIiwiQWNjb3VudElkIiwiTGlzdERlbGVnYXRlZFNlcnZpY2VzRm9yQWNjb3VudENvbW1hbmQiLCJhY2NvdW50UmVzcG9uc2UiLCJEZWxlZ2F0ZWRTZXJ2aWNlcyIsInNlcnZpY2VzIiwiYWNjb3VudE5hbWUiLCJOYW1lIiwib3JnTWVtYmVyQWNjb3VudHMiLCJvcmdNZW1iZXJBY2NvdW50SW5mbyIsIm9yZ3NDbGllbnQiLCJMaXN0QWNjb3VudHNDb21tYW5kIiwiQWNjb3VudHMiLCJhY2NvdW50Iiwib3JnTWVtYmVyQWNjb3VudCIsImFjY291bnRFbWFpbCIsIkVtYWlsIiwiTmV4dFRva2VuIiwib3JnQXJuIiwib3JnSWQiLCJvcmdSb290T3VJZCIsIm9yZ0Nsb3VkRm9ybWF0aW9uU3RhdHVzIiwiY29udHJvbFRvd2VyRGVwbG95ZWRWZXJzaW9uIiwiY29udHJvbFRvd2VyRHJpZnRTdGF0dXMiLCJjb250cm9sVG93ZXJMYXRlc3RBdmFpbGFibGVWZXJzaW9uIiwiY29udHJvbFRvd2VyU3RhdHVzIiwiY3RGaW5kIiwib3JnT3VJbmZvIiwidG9wTGV2ZWxPdXMiLCJsaXN0T1VzQ29tbWFuZCIsIkxpc3RPcmdhbml6YXRpb25hbFVuaXRzRm9yUGFyZW50Q29tbWFuZCIsIlBhcmVudElkIiwibGlzdE9Vc1Jlc3BvbnNlIiwiT3JnYW5pemF0aW9uYWxVbml0cyIsIm91IiwidG9wTGV2ZWxPdSIsIm5hbWUiLCJMaXN0QWNjb3VudHNGb3JQYXJlbnRDb21tYW5kIiwiYWNjb3VudHMiLCJ0b0xvd2VyQ2FzZSIsIm1lbWJlckFjY291bnQiLCJpZGVudGl0eURlbGVnYXRlZCIsInNlY3VyaXR5SHViRGVsZWdhdGVkIiwiZ3VhcmREdXR5RGVsZWdhdGVkIiwiY29uZmlnRGVsZWdhdGVkIiwiaWFtQWNjZXNzQW5hbHl6ZXJEZWxlZ2F0ZWQiLCJzM1N0b3JhZ2VMZW5zRGVsZWdhdGVkIiwiaXBhbURlbGVnYXRlZCIsImFjY291bnREZWxlZ2F0ZWQiLCJiYWNrdXBEZWxlZ2F0ZWQiLCJzcnYiLCJtZXNzYWdlIiwid2FybiIsIk9yZ0NoZWNrIiwiY2hlY2siLCJkZXNjcmlwdGlvbiIsInJlcXVpcmVkIiwid2VpZ2h0IiwibG9lIiwicmVtZWRpYXRpb25MaW5rIiwiTUFDaGVjayIsImNmYXRJYW1Vc2VyQ2hlY2siLCJjZmF0RWMyQ2hlY2siLCJjZmF0VnBjQ2hlY2siLCJjZmF0Q2xvdWRUcmFpbENoZWNrIiwiY2ZhdENsb3VkVHJhaWxPcmdTZXJ2aWNlRW5hYmxlZENoZWNrIiwiY2ZhdENsb3VkVHJhaWxPcmdUcmFpbENoZWNrIiwiY2ZhdENvbmZpZ01hbmFnZW1lbnRBY2NvdW50Q2hlY2siLCJjZmF0Q29uZmlnUmVjb3JkZXJNYW5hZ2VtZW50QWNjb3VudENoZWNrIiwiY2ZhdE9yZ1NlcnZpY2VHdWFyZER1dHlDaGVjayIsImNmYXRPcmdTZXJ2aWNlUmFtQ2hlY2siLCJjZmF0T3JnU2VydmljZVNlY3VyaXR5SHViQ2hlY2siLCJjZmF0T3JnU2VydmljZUlhbUFjY2Vzc0FuYWx5emVyQ2hlY2siLCJjZmF0T3JnU2VydmljZUNvbmZpZ0NoZWNrIiwiY2ZhdE9yZ1NlcnZpY2VDbG91ZEZvcm1hdGlvbkNoZWNrIiwiY2ZhdEluZnJhT3VDaGVjayIsImNmYXRTZWN1cml0eU91Q2hlY2siLCJjZmF0V29ya2xvYWRPdUNoZWNrIiwiY2ZhdElhbUlkQ09yZ1NlcnZpY2VDaGVjayIsImNmYXRJYW1JZGNDb25maWd1cmVkQ2hlY2siLCJjZmF0T3JnUG9saWN5U2NwRW5hYmxlZCIsImNmYXRPcmdQb2xpY3lUYWdQb2xpY3lDaGVjayIsImNmYXRCYWNrdXBQb2xpY2llc0VuYWJsZWRDaGVjayIsImNmYXRDb250cm9sVG93ZXJEZXBsb3llZENoZWNrIiwiY2ZhdENvbnRyb2xUb3dlckxhdGVzdFZlcnNpb25DaGVjayIsImNmYXRDb250cm9sVG93ZXJOb3REcmlmdGVkQ2hlY2siLCJjZmF0TG9nQXJjaGl2ZUFjY291bnRDaGVjayIsImNmYXRBdWRpdEFjY291bnRDaGVjayIsInRhYmxlIiwib2JqZWN0QXJyYXlDU1YiLCJkYXRhIiwiZGF0YUFycmF5IiwiQXJyYXkiLCJpc0FycmF5Iiwia2V5cyIsIk9iamVjdCIsInJvd3MiLCJqb2luIiwib2JqIiwidmFsdWVzIiwibWFwIiwia2V5IiwidmFsdWUiLCJyZXBsYWNlIiwib2JqZWN0VG9DU1YiLCJhc3Nlc3NtZW50IiwidGFza3MiLCJEYXRlIiwidG9VVENTdHJpbmciLCJzY29yZSIsInRvdGFsUmVxdWlyZWRMb2UiLCJ0b3RhbFNjb3JlIiwiY2ZhdFN0YXR1cyIsInJlYWQiLCJpYW1Vc2VyIiwidnBjRmluZCIsIm1hQ2F0ZWdvcnkiLCJpYW1UYXNrIiwidGl0bGUiLCJjYXRlZ29yeSIsImRldGFpbCIsImlhbUFwaVRhc2siLCJlYzJUYXNrIiwidnBjVGFzayIsImdvdkNhdGVnb3J5IiwiY3RPcmdTZXJ2aWNlVGFzayIsImNvbmZpZ09yZ1NlcnZpY2VUYXNrIiwic2NwRW5hYmxlZFRhc2siLCJ0YWdQb2xpY3lFbmFibGVkVGFzayIsImJhY2t1cFBvbGljeUVuYWJsZWRUYXNrIiwibGVnYWN5Q3VyU2V0dXBUYXNrIiwibWFzQ2F0ZWdvcnkiLCJ0cmFuc2l0aW9uYWxUYXNrIiwic3VzcGVuZGVkVGFzayIsIndvcmtsb2Fkc1Rhc2siLCJzZWN1cml0eVRhc2siLCJpbmZyYXN0cnVjdHVyZVRhc2siLCJseldheXBvaW50IiwiZGVwbG95Q29udHJvbFRvd2VyVGFzayIsImZpeEx6RHJpZnRUYXNrIiwidXBkYXRlQ29udHJvbFRvd2VyVGFzayIsIm9yZ1NlcnZpY2VDZm5FbmFibGVUYXNrIiwic3NvQ2F0ZWdvcnkiLCJzc29UYXNrIiwiaWRlbnRpdHlEZWxlZ2F0ZWRUYXNrIiwic2VjQ2F0ZWdvcnkiLCJ0YXNrR3VhcmREdXR5RGVsZWdhdGVkIiwidGFza1NlY3VyaXR5SHViRGVsZWdhdGVkIiwidGFza0lhbUFjY2Vzc0FuYWx5emVyRGVsZWdhdGVkIiwidGFza0Nsb3VkVHJhaWxEZWxlZ2F0ZWQiLCJ0YXNrQ29uZmlnRGVsZWdhdGVkIiwidGFza1MzU3RvcmFnZUxlbnNEZWxlZ2F0ZWQiLCJuZXR3b3JrQ2F0ZWdvcnkiLCJvcmdTZXJ2aWNlSXBhbVRhc2siLCJvcmdTZXJ2aWNlUmFtVGFzayIsInRhc2tJcGFtRGVsZWdhdGVkIiwidGFza1NjcERlbGVnYXRlZCIsIm9iQ2F0ZWdvcnkiLCJvcmdTZXJ2aWNlQWNjb3VudFRhc2siLCJ0YXNrQWNjb3VudERlbGVnYXRlZCIsImJhY2t1cFdheXBvaW50Iiwib3JnU2VydmljZUJhY2t1cFRhc2siLCJ0YXNrQmFja3VwRGVsZWdhdGVkIiwiZW5hYmxlUG9saWN5VHlwZVRhc2siLCJiYWNrbG9nIiwiY3N2IiwidGFzayIsIm91dHB1dCIsImN3ZCIsImFyY2hpdmUiLCJ6bGliIiwibGV2ZWwiLCJwaXBlIiwiZmlsZSIsImZpbmFsaXplIiwiZXJyIiwibWFpbiJdLCJzb3VyY2VSb290IjoiIn0=