(()=>{"use strict";const e=require("@aws-sdk/client-sts"),t=require("@aws-sdk/client-organizations"),n=require("@aws-sdk/client-iam"),o=require("@aws-sdk/client-cloudformation"),i=require("@aws-sdk/client-sso-admin"),a=require("@aws-sdk/client-ec2"),s=require("@aws-sdk/client-cloudtrail"),r=require("@aws-sdk/client-config-service"),c=require("@aws-sdk/client-controltower"),l=require("@aws-sdk/client-cost-and-usage-report-service"),d=require("node:console"),u=require("node:stream"),g=require("fs"),m=new u.Transform({transform(e,t,n){n(null,e)}}),p=new d.Console({stdout:m}),h=require("path"),f=require("archiver");(async()=>{let d={},u=[];const A=await async function(){const t=process.env.AWS_REGION||process.env.AWS_DEFAULT_REGION||"us-east-1",n=new e.STSClient({region:t});try{const t=new e.GetCallerIdentityCommand({}),o=await n.send(t);if(o.Arn){const e=o.Arn.split(":")[1];let t;switch(e){case"aws-us-gov":t="us-gov-west-1";break;case"aws-cn":t="cn-north-1";break;default:t="us-east-1"}return{partition:e,defaultRegion:t}}return{partition:"aws",defaultRegion:"us-east-1"}}catch(e){return console.error("Error detecting partition:",e),{partition:"aws",defaultRegion:"us-east-1"}}finally{n.destroy()}}(),S=process.env.AWS_REGION||A.defaultRegion,y=await async function(e="us-east-1"){const t=new a.EC2Client({region:e});try{const e=new a.DescribeRegionsCommand({}),n=await t.send(e),o=[];for(const e of n.Regions||[])o.push(e.RegionName||"");return o}catch(e){return console.error("Error retrieving regions:",e),[]}finally{t.destroy()}}(S);console.log("discovering your AWS environment...");const w=await(async n=>{const o=new t.OrganizationsClient({region:n});let i=!1,a=!1;try{const s=await async function(t){const n=new e.STSClient({region:t});try{const t=new e.GetCallerIdentityCommand({});return(await n.send(t)).Account}catch(e){throw console.error("Error getting account ID:",e),e}}(n);if(s){const e=new t.DescribeOrganizationCommand({}),n=await o.send(e);if(n.Organization?.MasterAccountId){const e=n.Organization?.MasterAccountId;e==s?(a=!0,i=!0):i=!0}else i=!1}}catch(e){console.error("Error:",e)}finally{o.destroy()}return{isInOrganization:i,isManagementAccount:a}})(S);let v,C,z=!1,b=!1,O=!1,E=!1,k=!1,W=!1,I=!1,$=!1,D=!0,T=!1,L=!1,N=!1,R=!1,P=!1,M=!1,U=!1,F=!1,G=!1,q=!1,V=!1,K=!1,_=!1,B=!1,Z=!1,x=!1,Y=!1,H=!1,j=!1,J=!0,Q=!1;w&&(d.organizationDeploy=w.isInOrganization,d.managementAccount=w.isManagementAccount,void 0===w.isManagementAccount&&(w.isManagementAccount=!1,console.log("AWS account is not the Management Account of an AWS Organization")),J=w.isManagementAccount),console.log("discovering IAM Users...");const X=await(async(e="us-east-1")=>{const t=new n.IAMClient({region:e}),o=[];try{const e=new n.ListUsersCommand({}),i=await t.send(e);for(const e of i.Users||[]){const i=e.UserName||"",a=new n.ListAccessKeysCommand({UserName:i}),s=(await t.send(a)).AccessKeyMetadata||[];if(s.length>0)for(const e of s){const a=e.AccessKeyId||"",s=new n.GetAccessKeyLastUsedCommand({AccessKeyId:a}),r=await t.send(s),c={userName:i,accessKeyId:a,lastUsed:r&&r.AccessKeyLastUsed&&`${r.AccessKeyLastUsed.LastUsedDate}`||"Not available"};o.push(c)}else{const e={userName:i};o.push(e)}}}catch(e){console.error("Error:",e)}finally{t.destroy()}return o})(S);X&&X.length>0?(console.log("IAM Users discovered."),d.iamUserChecks=X):E=!0,console.log("discovering EC2 instances across all AWS Regions...");const ee=await async function(e){let t=[];for(const n of e){const e=new a.EC2Client({region:n}),o=new a.DescribeInstancesCommand({});try{const i=await e.send(o);if(i.Reservations)if(i.Reservations.length>0){const e={region:n,ec2Found:!0};t.push(e)}else{const e={region:n,ec2Found:!1};t.push(e)}else{const e={region:n,ec2Found:!1};t.push(e)}}catch(e){console.log(`Error checking instance: ${e}`)}finally{e.destroy()}}return t}(y);if(ee&&ee.find((e=>!0===e.ec2Found))){d.ec2Checks=ee,console.info("warning: EC2 instances discovered.");for(const e of ee)T=!1}console.log("discovering VPCs across all AWS Regions...");const te=await async function(e){let t=[];for(const n of e){const e=new a.EC2Client({region:n}),o=new a.DescribeVpcsCommand({});try{const i=await e.send(o);if(i.Vpcs)if(i.Vpcs.length>0){const e={region:n,vpcFound:!0};t.push(e)}else{const e={region:n,vpcFound:!1};t.push(e)}else{const e={region:n,vpcFound:!1};t.push(e)}}catch(e){console.log(`Error: ${e}`)}finally{e.destroy()}}return t}(y);if(d.vpcChecks=te,te&&te.length>0&&(D=!1,console.log("warning: VPCs discovered.")),console.log("discovering AWS Config configurations across all AWS Regions..."),d.cloudTrailDetails=await async function(e){let t=[];for(const n of e){const e=new s.CloudTrailClient({region:n}),o=new s.DescribeTrailsCommand({});try{const i=await e.send(o);if(i.trailList)for(const e of i.trailList){let o={};o=e.HomeRegion==n?{region:n,trailFound:!0,isOrgTrail:e.IsMultiRegionTrail,isMultiRegion:e.IsMultiRegionTrail}:{region:n,trailFound:!1},t.push(o)}}catch(e){console.log(`Error checking instance: ${e}`)}finally{e.destroy()}}return t}(y),d.configDetails=await async function(e){let t=[];for(const n of e){const e=new r.ConfigServiceClient({region:n});let o={region:n,configRecorderFound:!1,configDeliveryChannelFound:!1};try{const n=await e.send(new r.DescribeConfigurationRecorderStatusCommand({}));0!==n.ConfigurationRecordersStatus?.length&&(o.configRecorderFound=!0);const i=await e.send(new r.DescribeDeliveryChannelsCommand({}));0!==i.DeliveryChannels?.length&&(o.configDeliveryChannelFound=!0),t.push(o)}catch(e){console.error(`Error checking AWS Config in ${n}:`,e)}finally{e.destroy()}}return t}(y),d.configDetails&&d.configDetails.find((e=>!0===e.configRecorderFound)))for(const e of d.configDetails)e.configRecorderFound&&(L=!0),e.configDeliveryChannelFound&&(N=!0);if(w.isInOrganization&&w.isManagementAccount){console.log("collecting general AWS Organization details...");const e=await async function(e){const n=new t.OrganizationsClient({region:e});let o={};try{const e=new t.DescribeOrganizationCommand({}),i=await n.send(e);i.Organization&&(o.id=i.Organization.Id??"",o.arn=i.Organization.Arn??"");const a=new t.ListRootsCommand({}),s=await n.send(a);s.Roots?o.rootOuId=s.Roots[0].Id:console.log("No info found for your AWS Organization.")}catch(e){console.error(`An error occurred: ${e}`)}finally{return n.destroy(),o}}(S);console.log("collecting CUR details...");const n=await(async e=>{const t=new l.CostAndUsageReportServiceClient({region:e});let n=!1;try{const e={},o=new l.DescribeReportDefinitionsCommand(e),i=await t.send(o);return i.ReportDefinitions&&i.ReportDefinitions.length>0&&(n=!0),{isLegacyCurSetup:n}}catch(e){return console.error(`Error: ${e}`),n=!1,{isLegacyCurSetup:n}}finally{t.destroy()}})(S);console.log("collecting AWS Organization Policy details...");const a=await async function(e){const n=new t.OrganizationsClient({region:e});let o={scpEnabled:!1,tagPolicyEnabled:!1,backupPolicyEnabled:!1};try{const e={},i=new t.ListRootsCommand(e),a=await n.send(i);if(a.Roots&&a.Roots[0].PolicyTypes)for(const e of a.Roots[0].PolicyTypes)"SERVICE_CONTROL_POLICY"==e.Type&&"ENABLED"==e.Status&&(o.scpEnabled=!0),"TAG_POLICY"==e.Type&&"ENABLED"==e.Status&&(o.tagPolicyEnabled=!0),"BACKUP_POLICY"==e.Type&&"ENABLED"==e.Status&&(o.backupPolicyEnabled=!0)}catch(e){console.error(`An error occurred: ${e}`)}finally{return n.destroy(),o}}(S);console.log("collecting AWS Organization service trusted access details..."),d.orgServices=await async function(e){const n=[],o=new t.OrganizationsClient({region:e});try{const e=new t.ListAWSServiceAccessForOrganizationCommand({}),i=await o.send(e);if(i.EnabledServicePrincipals&&i.EnabledServicePrincipals.length>0){i.EnabledServicePrincipals;for(const e of i.EnabledServicePrincipals){const t={service:e.ServicePrincipal??""};n.push(t)}}}catch(e){console.error("Error checking service access:",e)}finally{return o.destroy(),n}}(S),console.log("collecting AWS Organization CloudFormation status details...");const s=await async function(e){let t={status:"disabled"};const n=new o.CloudFormationClient({region:e});try{const e={},i=new o.DescribeOrganizationsAccessCommand(e),a=await n.send(i);t.status=a.Status??"disabled"}catch(e){console.log(`Error: ${e}`)}finally{return n.destroy(),t}}(S);console.log("collecting AWS Control Tower details...");const r=await async function(e){let t={};const n=new c.ControlTowerClient({region:e});try{const e=new c.ListLandingZonesCommand({}),o=await n.send(e);if(o.landingZones&&o.landingZones.length>0){const e={landingZoneIdentifier:o.landingZones[0].arn},n=o.landingZones[0].arn?.toString().split(":")[3]??"";if(n){t.controlTowerRegion=n;const o=new c.ControlTowerClient({region:n}),i=new c.GetLandingZoneCommand(e),a=await o.send(i);a.landingZone&&(t.status=a.landingZone.status,t.latestAvailableVersion=a.landingZone.latestAvailableVersion,t.deployedVersion=a.landingZone.version,t.driftStatus=a.landingZone.driftStatus?.status)}}}catch(t){console.error(`Error checking Control Tower in ${e}:`,t)}finally{n.destroy()}return t}(S);if(d.idcInfo=await async function(e){let t={found:!1};for(const n of e){const e=new i.SSOAdminClient({region:n});try{const o={MaxResults:Number("100")},a=new i.ListInstancesCommand(o),s=await e.send(a);if(s.Instances&&s.Instances.length>0){const e=s.Instances[0];t.found=!0,t.region=n,t.arn=e.InstanceArn,t.id=e.IdentityStoreId;break}}catch(e){console.log(`Error looking for AWS Identity Center details in region ${n}`)}finally{e.destroy()}}return t}(y),console.log("collecting AWS Organization service delegated admin details..."),d.orgDelegatedAdminAccounts=await async function(e="us-east-1"){let n=[];const o=new t.OrganizationsClient({region:e});let i={};try{const e=new t.ListDelegatedAdministratorsCommand({}),a=await o.send(e);if(a.DelegatedAdministrators)for(const e of a.DelegatedAdministrators){const a={AccountId:e.Id},s=new t.ListDelegatedServicesForAccountCommand(a),r=await o.send(s);r.DelegatedServices&&(i={services:r.DelegatedServices,accountName:e.Name},n.push(i))}}catch(e){console.log("Error looking for delegated services.")}finally{o.destroy()}return n}(S),console.log("collecting AWS Organization member account details..."),d.orgMemberAccounts=await async function(e="us-east-1"){let n=[];const o=new t.OrganizationsClient({region:e});Number("200");try{let e=await o.send(new t.ListAccountsCommand({}));if(e.Accounts&&e.Accounts.length>0){for(const t of e.Accounts){let e={accountName:t.Name,accountEmail:t.Email};n.push(e)}do{if(e.NextToken&&(e=await o.send(new t.ListAccountsCommand({NextToken:e.NextToken})),e.Accounts&&e.Accounts.length>0))for(const t of e.Accounts){let e={accountName:t.Name,accountEmail:t.Email};n.push(e)}}while(e.NextToken)}}catch(e){console.error("Error listing AWS accounts:",e)}finally{o.destroy()}return n}(S),d.isLegacyCurSetup=n.isLegacyCurSetup,d.orgArn=e.arn,d.orgId=e.id,d.orgRootOuId=e.rootOuId,d.backupPolicyEnabled=a.backupPolicyEnabled,d.scpEnabled=a.scpEnabled,d.tagPolicyEnabled=a.tagPolicyEnabled,d.orgCloudFormationStatus=s.status,d.controlTowerDeployedVersion=r.deployedVersion,d.controlTowerDriftStatus=r.driftStatus,d.controlTowerLatestAvailableVersion=r.latestAvailableVersion,d.controlTowerRegion=r.controlTowerRegion,d.controlTowerStatus=r.status,d.idcInfo.arn&&(W=!0),d.cloudTrailDetails&&d.cloudTrailDetails.length>0){I=!0;for(const e of d.cloudTrailDetails)e.trailFound&&e.isOrgTrail&&($=!0)}if(d.orgServices.find((e=>"cloudtrail.amazonaws.com"===e.service))&&(R=!0),d.orgServices.find((e=>"config.amazonaws.com"===e.service))&&(_=!0),a.scpEnabled&&(M=!0),a.tagPolicyEnabled&&(P=!0),a.backupPolicyEnabled&&(U=!0),e.rootOuId&&(console.log("collecting OU and member account details..."),d.orgOuInfo=await async function(e,n){const o=new t.OrganizationsClient({region:e});let i=[];try{const e=new t.ListOrganizationalUnitsForParentCommand({ParentId:n}),a=await o.send(e);if(a.OrganizationalUnits)for(const e of a.OrganizationalUnits){let n={id:e.Id,name:e.Name};const a=await o.send(new t.ListAccountsForParentCommand({ParentId:e.Id}));a.Accounts&&a.Accounts.length>0&&(n.accounts=a.Accounts),i.push(n)}}catch(e){return console.error("Error checking service access:",e),[]}finally{o.destroy()}return i}(S,e.rootOuId),d.orgOuInfo&&d.orgOuInfo.length>0))for(const e of d.orgOuInfo)"suspended"===e.name?.toLowerCase()&&(C=!0),"transitional"===e.name?.toLowerCase()&&(v=!0),"workloads"===e.name?.toLowerCase()&&(b=!0),"security"===e.name?.toLowerCase()&&(O=!0),"infrastructure"===e.name?.toLowerCase()&&(z=!0);if(d.orgMemberAccounts&&d.orgMemberAccounts.length>0)for(const e of d.orgMemberAccounts)e.accountName&&("log archive"===e.accountName.toLowerCase()&&(H=!0),"audit"===e.accountName.toLowerCase()&&(j=!0),"security tooling"===e.accountName.toLowerCase()&&(j=!0));let u=!1,g=!1,m=!1,p=!1,h=!1,f=!1,A=!1,w=!1,E=!1;if(d.orgDelegatedAdminAccounts&&d.orgDelegatedAdminAccounts.length>0)for(const e of d.orgDelegatedAdminAccounts)if(e.services&&e.services.length>0)for(const t of e.services)"securityhub.amazonaws.com"===t.ServicePrincipal&&(g=!0),"guardduty.amazonaws.com"===t.ServicePrincipal&&(m=!0),"sso.amazonaws.com"===t.ServicePrincipal&&(u=!0),"config.amazonaws.com"===t.ServicePrincipal&&(p=!0),"access-analyzer.amazonaws.com"===t.ServicePrincipal&&(h=!0),"storage-lens.s3.amazonaws.com"===t.ServicePrincipal&&(f=!0),"ipam.amazonaws.com"===t.ServicePrincipal&&(A=!0),"account.amazonaws.com"===t.ServicePrincipal&&(w=!0),"backup.amazonaws.com"===t.ServicePrincipal&&(E=!0);r.controlTowerRegion&&(Z=!0),"DRIFTED"!==r.driftStatus&&(x=!0),r.deployedVersion===r.latestAvailableVersion&&(Y=!0),d.orgServices.find((e=>"member.org.stacksets.cloudformation.amazonaws.com"===e.service))&&(G=!0),d.orgServices.find((e=>"sso.amazonaws.com"===e.service))&&(k=!0),d.orgServices.find((e=>"guardduty.amazonaws.com"===e.service))&&(q=!0),d.orgServices.find((e=>"securityhub.amazonaws.com"===e.service))&&(V=!0),d.orgServices.find((e=>"access-analyzer.amazonaws.com"===e.service))&&(K=!0),d.orgServices.find((e=>"ram.amazonaws.com"===e.service))&&(B=!0),d.orgServices.find((e=>"backup.amazonaws.com"===e.service))&&(Q=!0),"ENABLED"===d.orgCloudFormationStatus&&(F=!0)}else if(w.isInOrganization&&!w.isManagementAccount){const e="\nWARNING: You are running CFAT from an account that is a member of your AWS Organization. Please run the solution from your AWS Management account.";console.warn(e)}else{const e="\nWARNING: You are running CFAT from an account that not part of an AWS Organization. This account will be treated as a standalone account.";console.warn(e)}let ne={check:"AWS Organization created",description:"AWS Organization is enabled.",status:w.isInOrganization?"complete":"incomplete",required:!0,weight:6,loe:1,remediationLink:"https://aws.amazon.com/organizations/getting-started/"};u.push(ne);let oe={check:"Management Account created",description:"AWS Management account exists.",status:J?"complete":"incomplete",required:!0,weight:6,loe:1,remediationLink:"https://docs.aws.amazon.com/accounts/latest/reference/manage-acct-creating.html"};u.push(oe);const ie={check:"Management Account IAM users removed",description:"IAM Users should not exist in Management Account.",status:E?"complete":"incomplete",required:!1,weight:4,loe:1,remediationLink:"https://docs.aws.amazon.com/IAM/latest/UserGuide/id_users_manage.html#id_users_deleting"};u.push(ie);const ae={check:"Management Account EC2 instances removed",description:"EC2 Instances should not exist in Management Account.",status:T?"complete":"incomplete",required:!1,weight:4,loe:1,remediationLink:"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/terminating-instances.html"};u.push(ae);const se={check:"Management Account VPCs removed",description:"Management Account should not have any VPCs.",status:D?"complete":"incomplete",required:!1,weight:4,loe:1,remediationLink:"https://github.com/cloud-foundations-on-aws/cloud-foundations-templates/blob/main/network/network-default-vpc-deletion/README.md"};u.push(se),d.isLegacyCurSetup;const re={check:"CloudTrail Trail created",description:"CloudTrail should be enabled within the account.",status:I?"complete":"incomplete",required:!0,weight:6,loe:3,remediationLink:"https://docs.aws.amazon.com/awscloudtrail/latest/userguide/creating-trail-organization.html"};u.push(re);const ce={check:"CloudTrail Organization Service enabled",description:"CloudTrail should be enabled on the Organization.",status:R?"complete":"incomplete",required:!0,weight:6,loe:1,remediationLink:"https://docs.aws.amazon.com/organizations/latest/userguide/services-that-can-integrate-cloudtrail.html"};u.push(ce);const le={check:"CloudTrail Org Trail deployed",description:"At least one CloudTrail Organization Trail should be enabled.",status:$?"complete":"incomplete",required:!0,weight:6,loe:1,remediationLink:"https://docs.aws.amazon.com/awscloudtrail/latest/userguide/creating-trail-organization.html"};u.push(le);const de={check:"Config Recorder in Management Account configured",description:"Config Recorder in the Management Account should be enabled.",status:L?"complete":"incomplete",required:!0,weight:6,loe:2,remediationLink:"https://aws.amazon.com/blogs/mt/managing-aws-organizations-accounts-using-aws-config-and-aws-cloudformation-stacksets/"};u.push(de);const ue={check:"Config Delivery Channel in Management Account configured",description:"Config Delivery Channel in Management Account should be enabled.",status:N?"complete":"incomplete",required:!0,weight:6,loe:2,remediationLink:"https://aws.amazon.com/blogs/mt/managing-aws-organizations-accounts-using-aws-config-and-aws-cloudformation-stacksets/"};u.push(ue);const ge={check:"CloudFormation StackSets activated",description:"CloudFormation StackSets should be activated in the CloudFormation console.",status:F?"complete":"incomplete",required:!1,weight:5,loe:1,remediationLink:"https://docs.aws.amazon.com/organizations/latest/userguide/services-that-can-integrate-cloudformation.html#integrate-enable-ta-cloudformation"};u.push(ge);const me={check:"GuardDuty Organization service enabled",description:"GuardDuty Organization services should be enabled.",status:q?"complete":"incomplete",required:!1,weight:4,loe:1,remediationLink:"https://docs.aws.amazon.com/organizations/latest/userguide/services-that-can-integrate-guardduty.html#integrate-enable-ta-guardduty"};u.push(me);const pe={check:"RAM Organization service enabled",description:"Resource Access Manager (RAM) trusted access should be enabled in the AWS Organization.",status:B?"complete":"incomplete",required:!1,weight:4,loe:1,remediationLink:"https://docs.aws.amazon.com/organizations/latest/userguide/services-that-can-integrate-ram.html#integrate-enable-ta-ram"};u.push(pe);const he={check:"Security Hub Organization service enabled",description:"Security Hub trusted access should be enabled in the AWS Organization.",status:V?"complete":"incomplete",required:!1,weight:4,loe:1,remediationLink:"https://docs.aws.amazon.com/organizations/latest/userguide/services-that-can-integrate-securityhub.html#integrate-enable-ta-securityhub"};u.push(he);const fe={check:"IAM Access Analyzer Organization service enabled",description:"IAM Access Analyzer trusted access should be enabled in the AWS Organization.",status:K?"complete":"incomplete",required:!1,weight:4,loe:1,remediationLink:"https://docs.aws.amazon.com/IAM/latest/UserGuide/access-analyzer-getting-started.html#access-analyzer-enabling"};u.push(fe);const Ae={check:"Config Organization service enabled",description:"AWS Config trusted access should be enabled in the AWS Organization.",status:_?"complete":"incomplete",required:!1,weight:4,loe:1,remediationLink:"https://docs.aws.amazon.com/organizations/latest/userguide/services-that-can-integrate-config.html#integrate-enable-ta-config"};u.push(Ae);const Se={check:"CloudFormation Organization service enabled",description:"CloudFormation trusted access should be enabled in the AWS Organization.",status:G?"complete":"incomplete",required:!1,weight:5,loe:1,remediationLink:"https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/stacksets-orgs-activate-trusted-access.html"};u.push(Se);const ye={check:"Top-level Infrastructure OU deployed",description:"Top-level Infrastructure OU should exist.",status:z?"complete":"incomplete",required:!1,weight:5,loe:2,remediationLink:"https://catalog.workshops.aws/control-tower/en-US/introduction/manage-ou"};u.push(ye);const we={check:"Top-level Security OU deployed",description:"Top-level Security OU should exist.",status:O?"complete":"incomplete",required:!0,weight:6,loe:2,remediationLink:"https://catalog.workshops.aws/control-tower/en-US/introduction/manage-ou"};u.push(we);const ve={check:"Top-level Workloads OU deployed",description:"Top-level Workloads OU should exist.",status:b?"complete":"incomplete",required:!1,weight:5,loe:2,remediationLink:"https://catalog.workshops.aws/control-tower/en-US/introduction/manage-ou"};u.push(ve);const Ce={check:"IAM IdC Organization service enabled",description:"IAM Identity Center trusted access should be enabled in the AWS Organization",status:k?"complete":"incomplete",required:!0,weight:6,loe:1,remediationLink:"https://docs.aws.amazon.com/singlesignon/latest/userguide/get-set-up-for-idc.html"};u.push(Ce);const ze={check:"IAM IdC configured",description:"IAM Identity Center should be configured.",status:W?"complete":"incomplete",required:!0,weight:6,loe:3,remediationLink:"https://docs.aws.amazon.com/singlesignon/latest/userguide/tutorials.html"};u.push(ze);const be={check:"Service Control Policies enabled",description:"Service Control Policy should be enabled within the AWS Organization.",status:M?"complete":"incomplete",required:!0,weight:6,loe:1,remediationLink:"https://docs.aws.amazon.com/organizations/latest/userguide/orgs_manage_policies_enable-disable.html"};u.push(be);const Oe={check:"Organization Tag Policy enabled",description:"Tag Policy should be enabled within the AWS Organization.",status:P?"complete":"incomplete",required:!0,weight:6,loe:1,remediationLink:"https://docs.aws.amazon.com/organizations/latest/userguide/orgs_manage_policies_enable-disable.html"};u.push(Oe);const Ee={check:"Organization Backup Policy enabled",description:"Backup Policy should be enabled within the AWS Organization.",status:U?"complete":"incomplete",required:!1,weight:5,loe:1,remediationLink:"https://docs.aws.amazon.com/organizations/latest/userguide/orgs_manage_policies_enable-disable.html"};u.push(Ee);const ke={check:"Control Tower deployed",description:"Control Tower should be deployed.",status:Z?"complete":"incomplete",required:!0,weight:6,loe:6,remediationLink:"https://catalog.workshops.aws/control-tower/en-US/prerequisites/deploying"};u.push(ke);const We={check:"Control Tower latest version",description:"Control Tower should be the latest version.",status:Y?"complete":"incomplete",required:!1,weight:5,loe:2,remediationLink:"https://docs.aws.amazon.com/controltower/latest/userguide/update-controltower.html"};u.push(We);const Ie={check:"Control Tower not drifted",description:"Control Tower should not be drifted.",status:x?"complete":"incomplete",required:!0,weight:6,loe:2,remediationLink:"https://docs.aws.amazon.com/controltower/latest/userguide/resolve-drift.html"};u.push(Ie);const $e={check:"Log Archive account deployed",description:"Log Archive account should exist.",status:H?"complete":"incomplete",required:!0,weight:6,loe:2,remediationLink:"https://docs.aws.amazon.com/controltower/latest/userguide/getting-started-from-console.html"};u.push($e);const De={check:"Audit account deployed",description:"Audit/Security Tooling account should exist.",status:j?"complete":"incomplete",required:!0,weight:6,loe:2,remediationLink:"https://docs.aws.amazon.com/controltower/latest/userguide/getting-started-from-console.html"};u.push(De),d.cfatChecks=u,console.table(u,["check","status","required","loe"]),console.log("writing assessment summary checks to ./cfat/cfat-checks.csv...");const Te=function(e){const t=Array.isArray(e)?e:[e],n=t.length>0?Object.keys(t[0]):[],o=[n.join(",")];for(const e of t){const t=n.map((t=>{const n=e[t];return"string"==typeof n?`"${n.replace(/"/g,'""')}"`:n}));o.push(t.join(","))}return o.join("\n")}(u);g.writeFileSync("./cfat-checks.csv",Te),await async function(e){let t=[],n="Cloud Foundation Assessment Tool";n+=`\nGenerated on: ${(new Date).toUTCString()} \n\n`;let o=0,i=0,a=0,s="COMPLETE";if(e.cfatChecks&&e.cfatChecks.length>0){n+="\nIncomplete Requirements:";for(const t of e.cfatChecks)a+=t.weight,!0===t.required&&"incomplete"===t.status&&(n+=`\n    INCOMPLETE: ${t.check}`,i+=t.loe,s="INCOMPLETE"),"complete"===t.status&&(o+=t.weight);n+="\n\n====================================\n",n+=`\nFoundation Status: ${s}`,"INCOMPLETE"===s&&(n+=`\nEstimate of Required Level of Effort (LOE): ${i} hours`),n+=`\nCFAT Score: ${o} out of ${a}`,n+="\n\n====================================\n",n+="\nFoundation Checks:\n",e.cfatChecks&&e.cfatChecks.length>0&&(n+=`${r=e.cfatChecks,p.table(r),(m.read()||"").toString()}`)}var r;if(n+="\n\nStart Detailed Report:\n\n",n+="\n*********************************************************",n+="\n                   MANAGEMENT ACCOUNT",n+="\n*********************************************************",n+="\n\nAWS ACCOUNT TYPE\n",n+=`\n  Is in AWS Organization: ${e.organizationDeploy}`,n+=`\n  Assessing AWS Management Account: ${e.managementAccount}`,n+="\n\nIAM USERS CHECK\n",e.iamUserChecks&&e.iamUserChecks.length>0)for(const t of e.iamUserChecks)n+=`\n  IAM User: ${t.userName}`,t.accessKeyId&&(n+=`\n    User API Key ID: ${t.accessKeyId}`),n+="\n";else n+="\n  No IAM Users found.";if(n+="\n\nEC2 INSTANCE CHECK\n",e.ec2Checks&&e.ec2Checks.find((e=>!0===e.ec2Found)))for(const t of e.ec2Checks)t.ec2Found&&(n+=`\n  ${t.region} - found EC2 Instance(s).`);else n+="\n  No EC2 instances found.";if(n+="\n\nVPC CHECK\n",e.vpcChecks&&e.vpcChecks.length>0)for(const t of e.vpcChecks)t.vpcFound&&(n+=`\n  ${t.region} - found VPC(s).`);else n+="\n  No VPCs found.";if(n+="\n\nAWS CONFIG CHECK\n",e.configDetails&&e.configDetails.find((e=>!0===e.configRecorderFound)))for(const t of e.configDetails)t.configRecorderFound&&(n+=`\n  ${t.region} - Config Recorder found`),t.configDeliveryChannelFound&&(n+=`\n  ${t.region} - Config Delivery Channel found`);else n+="\n  No AWS Config resource discovered";n+="\n\nMANAGEMENT ACCOUNT TASKS:";const c="Management Account";if(e.iamUserChecks&&e.iamUserChecks.length>0)for(const o of e.iamUserChecks){let e={title:`Remove IAM user ${o.userName}`,category:c,detail:`Review and determine if IAM user ${o.userName} can be deleted.`};const i=`${e.title} - ${e.category} - ${e.detail}`;if(t.push(e),n+=`\n  ${i}`,o.accessKeyId){let e={title:`Remove IAM user ${o.userName} API key ${o.accessKeyId} `,category:c,detail:`Review and determine if IAM user API key ${o.accessKeyId} for ${o.userName} can be removed.`};n+=`\n  ${e.title} - ${e.category} - ${e.detail}`,t.push(e)}}if(e.ec2Checks&&e.ec2Checks.find((e=>!0===e.ec2Found)))for(const o of e.ec2Checks)if(o.ec2Found&&o.region){let e={title:`Delete EC2 instance in ${o.region}`,category:c,detail:`Delete any unnecessary EC2 instance in ${o.region}`};n+=`\n  ${e.title} - ${e.category} - ${e.detail}`,t.push(e)}if(e.vpcChecks&&e.vpcChecks.length>0)for(const o of e.vpcChecks)if(o.vpcFound&&o.region){let e={title:`Delete VPC in ${o.region}`,category:c,detail:`Delete any unnecessary VPC in ${o.region} to include the default VPC.`};n+=`\n  ${e.title} - ${e.category} - ${e.detail}`,t.push(e)}if(n+="\n\n*********************************************************",n+="\n                    GOVERNANCE",n+="\n*********************************************************",n+="\n\nAWS ORGANIZATION POLICY TYPES\n",n+=`\n  Service Control Policies (SCP) enabled: ${e.scpEnabled}`,n+=`\n  Tag Policies enabled: ${e.tagPolicyEnabled}`,n+=`\n  Backup Policies enabled: ${e.backupPolicyEnabled}`,n+="\n\nAWS ORGANIZATION CLOUDFORMATION\n",n+=`\n  AWS CloudFormation Organization stack sets status : ${e.orgCloudFormationStatus}`,n+="\n\nCLOUDTRAIL CHECK\n",e.cloudTrailDetails&&e.cloudTrailDetails.length>0)for(const t of e.cloudTrailDetails)t.trailFound&&(n+=`\n  CloudTrail found in ${t.region}`,n+=`\n    Is Organization Trail: ${t.isOrgTrail}`,n+=`\n    Is MultiRegion: ${t.isMultiRegion}`,n+="\n");else n+="\n  No AWS CloudTrail resource discovered";n+="\n\nGOVERNANCE SERVICES ENABLED IN AWS ORGANIZATION:\n",e.orgServices?(e.orgServices.find((e=>"cloudtrail.amazonaws.com"===e.service))&&(n+="\n  AWS CloudTrail"),e.orgServices.find((e=>"config.amazonaws.com"===e.service))&&(n+="\n  AWS Config")):n+="\n  No governance service enabled",n+="\n\nGOVERNANCE TASKS:";const l="Governance";if(!e.orgServices||!e.orgServices.find((e=>"cloudtrail.amazonaws.com"===e.service))){const e={title:"Enable AWS CloudTrail",category:l,detail:"Enable AWS CloudTrail in AWS Organization"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}if(!e.orgServices||!e.orgServices.find((e=>"config.amazonaws.com"===e.service))){const e={title:"Enable AWS Config",category:l,detail:"Enable AWS Config in AWS Organization"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}if(!e.scpEnabled){const e={title:"Enable SCP",category:l,detail:"Enable SCP in AWS Organization"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}if(!e.tagPolicyEnabled){let e={title:"Enable Tag Policy",category:l,detail:"Enable Tag Policy in AWS Organization"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}if(!e.backupPolicyEnabled){let e={title:"Enable Backup Policy",category:l,detail:"Enable Backup Policy in AWS Organization"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}if(n+="\n\n*********************************************************",n+="\n                FINANCIAL MANAGEMENT",n+="\n*********************************************************",n+="\n\nLegacy CUR",n+=`\n  Is legacy CUR setup: ${e.isLegacyCurSetup}`,n+="\n\nCLOUD FINANCIAL MANAGEMENT TASKS:",!e.isLegacyCurSetup){const e={title:"Setup legacy CUR",category:"Cloud Financial Management",detail:"Setup legacy CUR in AWS Organization"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}n+="\n\n*********************************************************",n+="\n                MULTI-ACCOUNT STRATEGY",n+="\n*********************************************************",n+="\n\nAWS ORGANIZATION DETAILS\n",n+=`\n  AWS Organization Id: ${e.orgId}`,n+=`\n  AWS Organization ARN: ${e.orgArn}`,n+=`\n  AWS Organization Root OU Id: ${e.orgRootOuId}`,n+="\n\nAWS ORGANIZATION CLOUDFORMATION\n",n+=`\n  AWS CloudFormation Organization stack sets status : ${e.orgCloudFormationStatus}`;let d,u,h=!1,f=!1,A=!1;if(e.orgRootOuId)if(n+="\n\nAWS ORGANIZATION TOP-LEVEL ORGANIZATION UNITS\n",n+="\n  List of Organization's top-level OUs and AWS accounts:",e.orgOuInfo&&e.orgOuInfo.length>0)for(const t of e.orgOuInfo)if("suspended"===t.name?.toLowerCase()&&(u=!0),"transitional"===t.name?.toLowerCase()&&(d=!0),"workloads"===t.name?.toLowerCase()&&(f=!0),"security"===t.name?.toLowerCase()&&(A=!0),"infrastructure"===t.name?.toLowerCase()&&(h=!0),n+=`\n    Organizational Unit: ${t.name}`,n+=`\n      Organizational Unit Id: ${t.id}`,t.accounts&&t.accounts.length>0){n+="\n      AWS Accounts:";for(const e of t.accounts)n+=`\n        ${e.Name}`;n+="\n"}else n+="\n      AWS Accounts: None",n+="\n";else n+="\n  No top level OUs found.";if(n+="\n\nAWS ORGANIZATION MEMBER ACCOUNTS\n",e.orgMemberAccounts&&e.orgMemberAccounts.length>0)for(const t of e.orgMemberAccounts)n+=`\n  Account: ${t.accountName}`,n+=`\n  Account Email: ${t.accountEmail}\n`;else n+="No member accounts found which is amazing as this is running from one.";if(n+="\n\nAWS ORGANIZATION ENABLED SERVICES\n",n+="\n  The following AWS Services are enabled within your AWS Organization:",e.orgServices&&e.orgServices.length>0)for(const t of e.orgServices)n+=`\n    ${t.service}`;else n+="\n    No trusted access enabled in the AWS Organization";let S=!1,y=!1,w=!1,v=!1,C=!1,z=!1,b=!1,O=!1,E=!1;if(n+="\n\nAWS ORGANIZATION INTEGRATED SERVICE REGISTERED DELEGATED ADMINS\n",e.orgDelegatedAdminAccounts&&e.orgDelegatedAdminAccounts.length>0)for(const t of e.orgDelegatedAdminAccounts){if(n+=`\n  Account: ${t.accountName}`,t.services&&t.services.length>0){n+="\n  Delegated Services:";for(const e of t.services)n+=`\n    ${e.ServicePrincipal}`,"securityhub.amazonaws.com"===e.ServicePrincipal&&(y=!0),"guardduty.amazonaws.com"===e.ServicePrincipal&&(w=!0),"sso.amazonaws.com"===e.ServicePrincipal&&(S=!0),"config.amazonaws.com"===e.ServicePrincipal&&(v=!0),"access-analyzer.amazonaws.com"===e.ServicePrincipal&&(C=!0),"storage-lens.s3.amazonaws.com"===e.ServicePrincipal&&(z=!0),"ipam.amazonaws.com"===e.ServicePrincipal&&(b=!0),"account.amazonaws.com"===e.ServicePrincipal&&(O=!0),"backup.amazonaws.com"===e.ServicePrincipal&&(E=!0)}n+="\n "}else n+="\n  No delegated admin accounts in AWS Organization";n+="\n\nMULTI-ACCOUNT STRATEGY TASKS:";let k="Multi-Account Strategy";if(n+=`\n  Review Account Email Addresses - ${k} - Review Account Email Addresses in AWS Organization`,!e.scpEnabled){const e={title:"Enable Service Control Policy",category:k,detail:"Enable Service Control Policy in AWS Organization"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}if(!d){const e={title:"Deploy Transitional OU",category:k,detail:"Deploy Transitional OU in AWS Organization"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}if(!u){const e={title:"Deploy Suspended OU",category:k,detail:"Deploy Suspended OU in AWS Organization"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}if(!f){const e={title:"Deploy Workloads OU",category:k,detail:"Deploy Workloads OU in AWS Organization"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}if(!A){const e={title:"Deploy Security OU",category:k,detail:"Deploy Security OU in AWS Organization"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}if(!h){const e={title:"Deploy Infrastructure OU",category:k,detail:"Deploy Infrastructure OU in AWS Organization"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}n+="\n\n*********************************************************",n+="\n                  LANDING ZONE",n+="\n*********************************************************",n+="\n\nAWS CONTROL TOWER\n",e.controlTowerRegion?(n+=`\n  Control Tower home region: ${e.controlTowerRegion}`,n+=`\n  Control Tower status: ${e.controlTowerStatus}`,n+=`\n  Control Tower Landing Zone version: ${e.controlTowerDeployedVersion}`,n+=`\n  Latest available version: ${e.controlTowerLatestAvailableVersion}`,n+=`\n  Drift Status: ${e.controlTowerDriftStatus}`):n+="\n  AWS Control Tower is not deployed in the AWS Organization",n+="\n\nLANDING ZONE TASKS:";const W="Landing Zone";if(void 0===e.controlTowerRegion){const e={title:"Deploy AWS Control Tower",category:W,detail:"Deploy AWS Control Tower in AWS Organization"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}if("DRIFTED"===e.controlTowerDriftStatus){const e={title:"Fix drift in deployed landing zone",category:W,detail:"Fix drift in deployed landing zone"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}if(e.controlTowerDeployedVersion!==e.controlTowerLatestAvailableVersion){const o={title:"Update AWS Control Tower to latest version",category:W,detail:`Update AWS Control Tower to version ${e.controlTowerLatestAvailableVersion}`};t.push(o),n+=`\n  ${o.title} - ${o.category} - ${o.detail}`}if(!e.orgServices||!e.orgServices.find((e=>"member.org.stacksets.cloudformation.amazonaws.com"===e.service))){const e={title:"Enable AWS CloudFormation",category:W,detail:"Enable AWS CloudFormation in AWS Organization"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}n+="\n\n*********************************************************",n+="\n                    IDENTITY",n+="\n*********************************************************",e.idcInfo?(n+="\n\nAWS IAM IDENTITY CENTER\n",n+=`\n  IdC Region: ${e.idcInfo.region}`,n+=`\n  IdC ARN: ${e.idcInfo.arn}`,n+=`\n  IdC Instance Id: ${e.idcInfo.id}`):n+="\n\nAWS IAM IDENTITY CENTER NOT FOUND\n",n+="\n\nIDENTITY TASKS:";const I="Identity";if(!e.orgServices||!e.orgServices.find((e=>"sso.amazonaws.com"===e.service))){const e={title:"Enable AWS Single Sign-On",category:I,detail:"Enable AWS Single Sign-On in AWS Organization"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}if(!S){const e={title:"Delegate administration to AWS IAM Identity Center",category:I,detail:"Delegate administration to AWS IAM Identity Center"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}if(!e.scpEnabled){const e={title:"Enable AWS Single Sign-On",category:I,detail:"Enable AWS Single Sign-On in AWS Organization"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}n+="\n\n*********************************************************",n+="\n                    SECURITY",n+="\n*********************************************************",n+="\n\nAWS SECURITY SERVICES ENABLED IN AWS ORGANIZATION:\n",e.orgServices&&e.orgServices.find((e=>"guardduty.amazonaws.com"===e.service))&&(n+="\n  AWS GuardDuty"),e.orgServices&&e.orgServices.find((e=>"securityhub.amazonaws.com"===e.service))&&(n+="\n  AWS Security Hub"),e.orgServices&&e.orgServices.find((e=>"access-analyzer.amazonaws.com"===e.service))&&(n+="\n  IAM Access Analyzer"),e.orgServices&&e.orgServices.find((e=>"macie.amazonaws.com"===e.service))&&(n+="\n  Macie"),e.orgServices&&e.orgServices.find((e=>"storage-lens.s3.amazonaws.com"===e.service))&&(n+="\n  Amazon S3 Storage Lens"),e.orgServices&&e.orgServices.find((e=>"inspector2.amazonaws.com"===e.service))&&(n+="\n  Amazon Inspector"),e.orgServices&&e.orgServices.find((e=>"cloudtrail.amazonaws.com"===e.service))&&(n+="\n  AWS CloudTrail"),e.orgServices&&e.orgServices.find((e=>"config.amazonaws.com"===e.service))&&(n+="\n  AWS Config"),n+="\n\nSECURITY TASKS:";const $="Security";if(!e.scpEnabled){const e={title:"Enable AWS Single Sign-On",category:$,detail:"Enable AWS Single Sign-On in AWS Organization"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}if(!e.orgServices||!e.orgServices.find((e=>"guardduty.amazonaws.com"===e.service))){const e={title:"Delegate administration to AWS GuardDuty",category:$,detail:"Delegate administration to AWS GuardDuty"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}if(!e.orgServices||!e.orgServices.find((e=>"securityhub.amazonaws.com"===e.service))){const e={title:"Delegate administration to AWS Security Hub",category:$,detail:"Delegate administration to AWS Security Hub"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}if(!e.orgServices||!e.orgServices.find((e=>"access-analyzer.amazonaws.com"===e.service))){const e={title:"Delegate administration to AWS IAM Access Analyzer",category:$,detail:"Delegate administration to AWS IAM Access Analyzer"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}if(!e.orgServices||!e.orgServices.find((e=>"cloudtrail.amazonaws.com"===e.service))){const e={title:"Delegate administration to AWS CloudTrail",category:$,detail:"Delegate administration to AWS CloudTrail"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}if(!e.orgServices||!e.orgServices.find((e=>"config.amazonaws.com"===e.service))){const e={title:"Delegate administration to AWS Config",category:$,detail:"Delegate administration to AWS Config"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}if(!y){const e={title:"Delegate administration of AWS Security Hub",category:$,detail:"Delegate administration to AWS Security Hub"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}if(!w){const e={title:"Delegate administration of AWS GuardDuty",category:$,detail:"Delegate administration to AWS GuardDuty"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}if(!v){const e={title:"Delegate administration of AWS Config",category:$,detail:"Delegate administration to AWS Config"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}if(!C){const e={title:"Delegate administration of AWS IAM Access Analyzer",category:$,detail:"Delegate administration to AWS IAM Access Analyzer"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}if(!z){const e={title:"Delegate administration of Amazon S3 Storage Lens",category:$,detail:"Delegate administration to Amazon S3 Storage Lens"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}n+="\n\n*********************************************************",n+="\n                    NETWORK",n+="\n*********************************************************",n+="\n\nNETWORK TASKS:";const D="Network";if(!e.orgServices||!e.orgServices.find((e=>"guardduty.amazonaws.com"===e.service))){const e={title:"Enable AWS GuardDuty",category:D,detail:"Enable AWS GuardDuty in AWS Organization"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}if(!e.orgServices||!e.orgServices.find((e=>"ipam.amazonaws.com"===e.service))){const e={title:"Enable AWS IPAM",category:D,detail:"Enable AWS IPAM in AWS Organization"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}if(!e.orgServices||!e.orgServices.find((e=>"ram.amazonaws.com"===e.service))){const e={title:"Enable AWS Resource Access Manager",category:D,detail:"Enable AWS Resource Access Manager in AWS Organization"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}if(!b){const e={title:"Delegate administration of AWS IPAM",category:D,detail:"Delegate administration to AWS IPAM"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}if(!e.scpEnabled){const e={title:"Enable AWS Service Control Policy",category:D,detail:"Enable AWS Service Control Policy in AWS Organization"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}n+="\n\n*********************************************************",n+="\n                  OBSERVABILITY",n+="\n*********************************************************",n+="\n\nOBSERVABILITY TASKS:";const T="Observability";if(!e.orgServices||!e.orgServices.find((e=>"account.amazonaws.com"===e.service))){const e={title:"Enable AWS Account",category:T,detail:"Enable AWS Account in AWS Organization"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}if(!O){const e={title:"Delegate administration of AWS Account",category:T,detail:"Delegate administration to AWS Account"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}n+="\n\n*********************************************************",n+="\n               BACKUP AND RECOVERY",n+="\n*********************************************************",n+="\n\nBACKUP AND RECOVERY TASKS:";const L="Backup and Recovery";if(!e.orgServices||!e.orgServices.find((e=>"backup.amazonaws.com"===e.service))){const e={title:"Enable AWS Backup",category:L,detail:"Enable AWS Backup in AWS Organization"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}if(!E){const e={title:"Delegate administration of AWS Backup",category:L,detail:"Delegate administration to AWS Backup"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}if(!e.backupPolicyEnabled){const e={title:"Enable AWS Backup Policy",category:L,detail:"Enable AWS Backup Policy in AWS Organization"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}if(!e.scpEnabled){const e={title:"Enable AWS Service Control Policy",category:L,detail:"Enable AWS Service Control Policy in AWS Organization"};t.push(e),n+=`\n  ${e.title} - ${e.category} - ${e.detail}`}return n+="\n\n\n  END REVIEW",console.log("compiling report..."),console.log("saving report to ./cfat/cfat.txt..."),g.appendFileSync("./cfat.txt",n),t}(d);const Le=await async function(e){let t=[];if(e.iamUserChecks&&e.iamUserChecks.length>0)for(const n of e.iamUserChecks){let e={title:`Remove IAM user ${n.userName}`,detail:`Review and determine if IAM user ${n.userName} can be deleted.`,remediationLink:""};if(t.push(e),n.accessKeyId){let e={title:`Remove IAM user ${n.userName} API key ${n.accessKeyId} `,detail:`Review and determine if IAM user API key ${n.accessKeyId} for ${n.userName} can be removed.`,remediationLink:"https://docs.aws.amazon.com/IAM/latest/UserGuide/id_users_manage.html#id_users_deleting"};t.push(e)}}if(e.ec2Checks&&e.ec2Checks.find((e=>!0===e.ec2Found)))for(const n of e.ec2Checks)if(n.ec2Found&&n.region){let e={title:`Delete EC2 instance in ${n.region}`,detail:`Delete any unnecessary EC2 instance in ${n.region}`,remediationLink:"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/terminating-instances.html"};t.push(e)}if(e.vpcChecks&&e.vpcChecks.length>0)for(const n of e.vpcChecks)if(n.vpcFound&&n.region){let e={title:`Delete VPC in ${n.region}`,detail:`Delete any unnecessary VPC in ${n.region} to include the default VPC.`,remediationLink:"https://github.com/cloud-foundations-on-aws/cloud-foundations-templates/blob/main/network/network-default-vpc-deletion/README.md"};t.push(e)}if(!e.scpEnabled){const e={title:"Enable SCP",detail:"Enable SCP in AWS Organization",remediationLink:"https://docs.aws.amazon.com/organizations/latest/userguide/orgs_manage_policies_enable-disable.html"};t.push(e)}if(!e.tagPolicyEnabled){let e={title:"Enable Tag Policy",detail:"Enable Tag Policy in AWS Organization",remediationLink:"https://docs.aws.amazon.com/organizations/latest/userguide/orgs_manage_policies_enable-disable.html"};t.push(e)}if(!e.backupPolicyEnabled){let e={title:"Enable Backup Policy",detail:"Enable Backup Policy in AWS Organization",remediationLink:"https://docs.aws.amazon.com/organizations/latest/userguide/orgs_manage_policies_enable-disable.html"};t.push(e)}if(!e.isLegacyCurSetup){const e={title:"Setup legacy CUR",detail:"Setup legacy CUR in AWS Organization",remediationLink:"https://docs.aws.amazon.com/cur/latest/userguide/dataexports-create-legacy.html"};t.push(e)}let n,o,i=!1,a=!1,s=!1;if(e.orgRootOuId&&e.orgOuInfo&&e.orgOuInfo.length>0)for(const t of e.orgOuInfo)"suspended"===t.name?.toLowerCase()&&(o=!0),"transitional"===t.name?.toLowerCase()&&(n=!0),"workloads"===t.name?.toLowerCase()&&(a=!0),"security"===t.name?.toLowerCase()&&(s=!0),"infrastructure"===t.name?.toLowerCase()&&(i=!0);let r=!1,c=!1,l=!1,d=!1,u=!1,g=!1,m=!1,p=!1,h=!1;if(e.orgDelegatedAdminAccounts&&e.orgDelegatedAdminAccounts.length>0)for(const t of e.orgDelegatedAdminAccounts)if(t.services&&t.services.length>0)for(const e of t.services)"securityhub.amazonaws.com"===e.ServicePrincipal&&(c=!0),"guardduty.amazonaws.com"===e.ServicePrincipal&&(l=!0),"sso.amazonaws.com"===e.ServicePrincipal&&(r=!0),"config.amazonaws.com"===e.ServicePrincipal&&(d=!0),"access-analyzer.amazonaws.com"===e.ServicePrincipal&&(u=!0),"storage-lens.s3.amazonaws.com"===e.ServicePrincipal&&(g=!0),"ipam.amazonaws.com"===e.ServicePrincipal&&(m=!0),"account.amazonaws.com"===e.ServicePrincipal&&(p=!0),"backup.amazonaws.com"===e.ServicePrincipal&&(h=!0);if(t.push({title:"Review account email addresses",detail:"Review Account Email Addresses in AWS Organization",remediationLink:"https://docs.aws.amazon.com/IAM/latest/UserGuide/root-user-best-practices.html#ru-bp-group"}),!n){const e={title:"Deploy Transitional OU",detail:"Deploy Transitional OU in AWS Organization",remediationLink:"https://docs.aws.amazon.com/whitepapers/latest/organizing-your-aws-environment/transitional-ou.html"};t.push(e)}if(!o){const e={title:"Deploy Suspended OU",detail:"Deploy Suspended OU in AWS Organization",remediationLink:"https://docs.aws.amazon.com/whitepapers/latest/organizing-your-aws-environment/suspended-ou.html"};t.push(e)}if(!a){const e={title:"Deploy Workloads OU",detail:"Deploy Workloads OU in AWS Organization",remediationLink:"https://docs.aws.amazon.com/whitepapers/latest/organizing-your-aws-environment/workloads-ou.html"};t.push(e)}if(!s){const e={title:"Deploy Security OU",detail:"Deploy Security OU in AWS Organization",remediationLink:"https://docs.aws.amazon.com/whitepapers/latest/organizing-your-aws-environment/security-ou-and-accounts.html"};t.push(e)}if(!i){const e={title:"Deploy Infrastructure OU",detail:"Deploy Infrastructure OU in AWS Organization",remediationLink:"https://docs.aws.amazon.com/whitepapers/latest/organizing-your-aws-environment/infrastructure-ou-and-accounts.html"};t.push(e)}if(void 0===e.controlTowerRegion){const e={title:"Deploy AWS Control Tower",detail:"Deploy AWS Control Tower in AWS Organization",remediationLink:"https://catalog.workshops.aws/control-tower/en-US/prerequisites/deploying"};t.push(e)}if("DRIFTED"===e.controlTowerDriftStatus){const e={title:"Fix drift in deployed landing zone",detail:"Fix drift in deployed landing zone",remediationLink:"https://docs.aws.amazon.com/controltower/latest/userguide/resolve-drift.html"};t.push(e)}if(e.controlTowerDeployedVersion!==e.controlTowerLatestAvailableVersion){const n={title:"Update AWS Control Tower to latest version",detail:`Update AWS Control Tower to version ${e.controlTowerLatestAvailableVersion}`,remediationLink:"https://docs.aws.amazon.com/controltower/latest/userguide/update-controltower.html"};t.push(n)}if(!e.orgServices||!e.orgServices.find((e=>"cloudtrail.amazonaws.com"===e.service))){const e={title:"Enable AWS CloudTrail",detail:"Enable AWS CloudTrail in AWS Organization",remediationLink:"https://docs.aws.amazon.com/controltower/latest/userguide/resolve-drift.html"};t.push(e)}if(!g){const e={title:"Delegate administration of Amazon S3 Storage Lens",detail:"Delegate administration to Amazon S3 Storage Lens",remediationLink:"https://docs.aws.amazon.com/organizations/latest/userguide/services-that-can-integrate-s3lens.html#integrate-enable-da-s3lens"};t.push(e)}if(!e.orgServices||!e.orgServices.find((e=>"member.org.stacksets.cloudformation.amazonaws.com"===e.service))){const e={title:"Enable AWS CloudFormation",detail:"Enable AWS CloudFormation in AWS Organization",remediationLink:"https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/stacksets-orgs-activate-trusted-access.html"};t.push(e)}if(!e.orgServices||!e.orgServices.find((e=>"sso.amazonaws.com"===e.service))){const e={title:"Enable AWS Single Sign-On",detail:"Enable AWS Single Sign-On in AWS Organization",remediationLink:"https://docs.aws.amazon.com/singlesignon/latest/userguide/get-set-up-for-idc.html"};t.push(e)}if(!r){const e={title:"Delegate administration to AWS IAM Identity Center",detail:"Delegate administration to AWS IAM Identity Center",remediationLink:"https://docs.aws.amazon.com/singlesignon/latest/userguide/delegated-admin.html"};t.push(e)}if(!e.orgServices||!e.orgServices.find((e=>"securityhub.amazonaws.com"===e.service))){const e={title:"Delegate administration to AWS Security Hub",detail:"Delegate administration to AWS Security Hub",remediationLink:"https://docs.aws.amazon.com/organizations/latest/userguide/services-that-can-integrate-securityhub.html#integrate-enable-ta-securityhub"};t.push(e)}if(!c){const e={title:"Delegate administration of AWS Security Hub",detail:"Delegate administration to AWS Security Hub",remediationLink:"https://docs.aws.amazon.com/securityhub/latest/userguide/designate-orgs-admin-account.html"};t.push(e)}if(!e.orgServices||!e.orgServices.find((e=>"access-analyzer.amazonaws.com"===e.service))){const e={title:"Delegate administration to AWS IAM Access Analyzer",detail:"Delegate administration to AWS IAM Access Analyzer",remediationLink:"https://docs.aws.amazon.com/IAM/latest/UserGuide/access-analyzer-getting-started.html#access-analyzer-enabling"};t.push(e)}if(!u){const e={title:"Delegate administration of AWS IAM Access Analyzer",detail:"Delegate administration to AWS IAM Access Analyzer",remediationLink:"https://docs.aws.amazon.com/IAM/latest/UserGuide/access-analyzer-settings.html"};t.push(e)}if(!e.orgServices||!e.orgServices.find((e=>"guardduty.amazonaws.com"===e.service))){const e={title:"Enable AWS GuardDuty",detail:"Enable AWS GuardDuty in AWS Organization",remediationLink:"https://docs.aws.amazon.com/organizations/latest/userguide/services-that-can-integrate-guardduty.html#integrate-enable-ta-guardduty"};t.push(e)}if(!l){const e={title:"Delegate administration of AWS GuardDuty",detail:"Delegate administration to AWS GuardDuty",remediationLink:"https://docs.aws.amazon.com/organizations/latest/userguide/services-that-can-integrate-guardduty.html"};t.push(e)}if(!e.orgServices||!e.orgServices.find((e=>"config.amazonaws.com"===e.service))){const e={title:"Enable AWS Config",detail:"Enable AWS Config in AWS Organization",remediationLink:"https://docs.aws.amazon.com/organizations/latest/userguide/services-that-can-integrate-config.html#integrate-enable-ta-config"};t.push(e)}if(!d){const e={title:"Delegate administration of AWS Config",detail:"Delegate administration to AWS Config",remediationLink:"https://docs.aws.amazon.com/organizations/latest/userguide/services-that-can-integrate-config.html"};t.push(e)}if(!e.orgServices||!e.orgServices.find((e=>"ram.amazonaws.com"===e.service))){const e={title:"Enable AWS Resource Access Manager",detail:"Enable AWS Resource Access Manager in AWS Organization",remediationLink:"https://docs.aws.amazon.com/organizations/latest/userguide/services-that-can-integrate-ram.html#integrate-enable-ta-ram"};t.push(e)}if(!e.orgServices||!e.orgServices.find((e=>"ipam.amazonaws.com"===e.service))){const e={title:"Enable AWS IPAM",detail:"Enable AWS IPAM in AWS Organization",remediationLink:"https://docs.aws.amazon.com/organizations/latest/userguide/services-that-can-integrate-ipam.html"};t.push(e)}if(!m){const e={title:"Delegate administration of AWS IPAM",detail:"Delegate administration to AWS IPAM",remediationLink:"https://docs.aws.amazon.com/vpc/latest/ipam/enable-integ-ipam.html"};t.push(e)}if(!e.orgServices||!e.orgServices.find((e=>"account.amazonaws.com"===e.service))){const e={title:"Enable AWS Account",detail:"Enable AWS Account in AWS Organization",remediationLink:"https://docs.aws.amazon.com/accounts/latest/reference/using-orgs-delegated-admin.html"};t.push(e)}if(!p){const e={title:"Delegate administration of AWS Account management",detail:"Delegate administration to AWS Account contact management",remediationLink:"https://docs.aws.amazon.com/organizations/latest/userguide/services-that-can-integrate-account.html#integrate-enable-da-account"};t.push(e)}if(!e.orgServices||!e.orgServices.find((e=>"backup.amazonaws.com"===e.service))){const e={title:"Enable AWS Backup",detail:"Enable AWS Backup in AWS Organization",remediationLink:"https://docs.aws.amazon.com/organizations/latest/userguide/services-that-can-integrate-backup.html#integrate-enable-ta-backup"};t.push(e)}if(!h){const e={title:"Delegate administration of AWS Backup",detail:"Delegate administration to AWS Backup",remediationLink:"https://docs.aws.amazon.com/aws-backup/latest/devguide/manage-cross-account.html#backup-delegatedadmin"};t.push(e)}return t}(d);console.log("cloud foundation assessment complete. Access your report at ./cfat/cfat.txt"),console.log("assessment summary checks written to ./cfat/cfat-checks.csv"),async function(e){let t='"Summary", "Description", "Status" \r\n';for(const n of e)t+=`"cfat - ${n.category} - ${n.title}", "${n.detail}", "Open" \r\n`;g.writeFileSync("./jira-import.csv",t)}(Le),await async function(e){let t='"Task", "Description", "Status"  \r\n';for(const n of e)t+=`"cfat - ${n.title}", "${n.detail} - Remediation Link: ${n.remediationLink}", "Not Started" \r\n`;g.writeFileSync("./asana-import.csv",t)}(Le),await async function(){try{const e=g.createWriteStream(h.join(process.cwd(),"assessment.zip")),t=f("zip",{zlib:{level:9}});t.pipe(e),t.file(h.join(process.cwd(),"cfat.txt"),{name:"cfat.txt"}),t.file(h.join(process.cwd(),"cfat-checks.csv"),{name:"cfat-checks.csv"}),t.file(h.join(process.cwd(),"asana-import.csv"),{name:"asana-import.csv"}),t.file(h.join(process.cwd(),"jira-import.csv"),{name:"jira-import.csv"}),t.finalize(),console.log("Zip file created successfully!")}catch(e){console.error("Error creating zip file:",e)}}(),console.log("assessment files zipped to ./cfat/assessment.zip")})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEtBQUssT0FBVXRaLFFBQVFpWixNQUFPLG1CQUFvQixDQUFFckksS0FBTSxvQkFDbEVzSSxFQUFRSyxXQUNSeFksUUFBUVcsSUFBSSxpQ0FDaEIsQ0FDQSxNQUFPOFgsR0FDSHpZLFFBQVFELE1BQU0sMkJBQTRCMFksRUFDOUMsQ0FDSixDdEJ5bUJVLEdBQ056WSxRQUFRVyxJQUFJLG1EQUFtRCxFQUVuRStYLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgY29tbW9uanMgXCJAYXdzLXNkay9jbGllbnQtc3RzXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIGNvbW1vbmpzIFwiQGF3cy1zZGsvY2xpZW50LW9yZ2FuaXphdGlvbnNcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgY29tbW9uanMgXCJAYXdzLXNkay9jbGllbnQtaWFtXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIGNvbW1vbmpzIFwiQGF3cy1zZGsvY2xpZW50LWNsb3VkZm9ybWF0aW9uXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIGNvbW1vbmpzIFwiQGF3cy1zZGsvY2xpZW50LXNzby1hZG1pblwiIiwid2VicGFjazovLy9leHRlcm5hbCBjb21tb25qcyBcIkBhd3Mtc2RrL2NsaWVudC1lYzJcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgY29tbW9uanMgXCJAYXdzLXNkay9jbGllbnQtY2xvdWR0cmFpbFwiIiwid2VicGFjazovLy9leHRlcm5hbCBjb21tb25qcyBcIkBhd3Mtc2RrL2NsaWVudC1jb25maWctc2VydmljZVwiIiwid2VicGFjazovLy9leHRlcm5hbCBjb21tb25qcyBcIkBhd3Mtc2RrL2NsaWVudC1jb250cm9sdG93ZXJcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgY29tbW9uanMgXCJAYXdzLXNkay9jbGllbnQtY29zdC1hbmQtdXNhZ2UtcmVwb3J0LXNlcnZpY2VcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgbm9kZS1jb21tb25qcyBcIm5vZGU6Y29uc29sZVwiIiwid2VicGFjazovLy9leHRlcm5hbCBub2RlLWNvbW1vbmpzIFwibm9kZTpzdHJlYW1cIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgbm9kZS1jb21tb25qcyBcImZzXCIiLCJ3ZWJwYWNrOi8vLy4vYnVpbGQvc3JjL2FjdGlvbnMvY3JlYXRlLXJlcG9ydC5qcyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgbm9kZS1jb21tb25qcyBcInBhdGhcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgY29tbW9uanMgXCJhcmNoaXZlclwiIiwid2VicGFjazovLy8uL2J1aWxkL2FwcC5qcyIsIndlYnBhY2s6Ly8vLi9idWlsZC9zcmMvYWN0aW9ucy9nZXQtcGFydGl0aW9uLWluZm8uanMiLCJ3ZWJwYWNrOi8vLy4vYnVpbGQvc3JjL2FjdGlvbnMvZ2V0LXJlZ2lvbnMuanMiLCJ3ZWJwYWNrOi8vLy4vYnVpbGQvc3JjL2FjdGlvbnMvZGVmaW5lLWFjY291bnQtdHlwZS5qcyIsIndlYnBhY2s6Ly8vLi9idWlsZC9zcmMvYWN0aW9ucy9jaGVjay1pYW0tdXNlcnMuanMiLCJ3ZWJwYWNrOi8vLy4vYnVpbGQvc3JjL2FjdGlvbnMvY2hlY2stZWMyLWV4aXN0ZW5jZS5qcyIsIndlYnBhY2s6Ly8vLi9idWlsZC9zcmMvYWN0aW9ucy9jaGVjay12cGMtZXhpc3RlbmNlLmpzIiwid2VicGFjazovLy8uL2J1aWxkL3NyYy9hY3Rpb25zL2NoZWNrLWNsb3VkdHJhaWwtZXhpc3RlbmNlLmpzIiwid2VicGFjazovLy8uL2J1aWxkL3NyYy9hY3Rpb25zL2NoZWNrLWNvbmZpZy1leGlzdGVuY2UuanMiLCJ3ZWJwYWNrOi8vLy4vYnVpbGQvc3JjL2FjdGlvbnMvZ2V0LW9yZy1kZXRhaWxzLmpzIiwid2VicGFjazovLy8uL2J1aWxkL3NyYy9hY3Rpb25zL2NoZWNrLWxlZ2FjeS1jdXIuanMiLCJ3ZWJwYWNrOi8vLy4vYnVpbGQvc3JjL2FjdGlvbnMvZ2V0LWVuYWJsZWQtb3JnLXBvbGljeS10eXBlcy5qcyIsIndlYnBhY2s6Ly8vLi9idWlsZC9zcmMvYWN0aW9ucy9nZXQtZW5hYmxlZC1vcmctc2VydmljZXMuanMiLCJ3ZWJwYWNrOi8vLy4vYnVpbGQvc3JjL2FjdGlvbnMvY2hlY2stb3JnLWNsb3VkZm9ybWF0aW9uLmpzIiwid2VicGFjazovLy8uL2J1aWxkL3NyYy9hY3Rpb25zL2NoZWNrLWNvbnRyb2wtdG93ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vYnVpbGQvc3JjL2FjdGlvbnMvZ2V0LWlkYy1pbmZvLmpzIiwid2VicGFjazovLy8uL2J1aWxkL3NyYy9hY3Rpb25zL2dldC1vcmctZGEtYWNjb3VudHMuanMiLCJ3ZWJwYWNrOi8vLy4vYnVpbGQvc3JjL2FjdGlvbnMvZ2V0LW9yZy1tZW1iZXItYWNjb3VudHMuanMiLCJ3ZWJwYWNrOi8vLy4vYnVpbGQvc3JjL2FjdGlvbnMvZ2V0LW9yZy1vdXMuanMiLCJ3ZWJwYWNrOi8vLy4vYnVpbGQvc3JjL2FjdGlvbnMvY3JlYXRlLWJhY2tsb2cuanMiLCJ3ZWJwYWNrOi8vLy4vYnVpbGQvc3JjL2FjdGlvbnMvY3JlYXRlLWppcmFpbXBvcnQuanMiLCJ3ZWJwYWNrOi8vLy4vYnVpbGQvc3JjL2FjdGlvbnMvY3JlYXRlLWFzYW5haW1wb3J0LmpzIiwid2VicGFjazovLy8uL2J1aWxkL3NyYy9hY3Rpb25zL3ppcC1hc3Nlc3NtZW50LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSByZXF1aXJlKFwiQGF3cy1zZGsvY2xpZW50LXN0c1wiKTsiLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gcmVxdWlyZShcIkBhd3Mtc2RrL2NsaWVudC1vcmdhbml6YXRpb25zXCIpOyIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSByZXF1aXJlKFwiQGF3cy1zZGsvY2xpZW50LWlhbVwiKTsiLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gcmVxdWlyZShcIkBhd3Mtc2RrL2NsaWVudC1jbG91ZGZvcm1hdGlvblwiKTsiLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gcmVxdWlyZShcIkBhd3Mtc2RrL2NsaWVudC1zc28tYWRtaW5cIik7IiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IHJlcXVpcmUoXCJAYXdzLXNkay9jbGllbnQtZWMyXCIpOyIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSByZXF1aXJlKFwiQGF3cy1zZGsvY2xpZW50LWNsb3VkdHJhaWxcIik7IiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IHJlcXVpcmUoXCJAYXdzLXNkay9jbGllbnQtY29uZmlnLXNlcnZpY2VcIik7IiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IHJlcXVpcmUoXCJAYXdzLXNkay9jbGllbnQtY29udHJvbHRvd2VyXCIpOyIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSByZXF1aXJlKFwiQGF3cy1zZGsvY2xpZW50LWNvc3QtYW5kLXVzYWdlLXJlcG9ydC1zZXJ2aWNlXCIpOyIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSByZXF1aXJlKFwibm9kZTpjb25zb2xlXCIpOyIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSByZXF1aXJlKFwibm9kZTpzdHJlYW1cIik7IiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IHJlcXVpcmUoXCJmc1wiKTsiLCJpbXBvcnQgeyBDb25zb2xlIH0gZnJvbSAnbm9kZTpjb25zb2xlJztcbmltcG9ydCB7IFRyYW5zZm9ybSB9IGZyb20gJ25vZGU6c3RyZWFtJztcbmltcG9ydCAqIGFzIGZzIGZyb20gJ2ZzJztcbmNvbnN0IHRzID0gbmV3IFRyYW5zZm9ybSh7IHRyYW5zZm9ybShjaHVuaywgZW5jLCBjYikgeyBjYihudWxsLCBjaHVuayk7IH0gfSk7XG5jb25zdCBsb2dnZXIgPSBuZXcgQ29uc29sZSh7IHN0ZG91dDogdHMgfSk7XG5mdW5jdGlvbiBnZXRUYWJsZShkYXRhKSB7XG4gICAgbG9nZ2VyLnRhYmxlKGRhdGEpO1xuICAgIHJldHVybiAodHMucmVhZCgpIHx8ICcnKS50b1N0cmluZygpO1xufVxuYXN5bmMgZnVuY3Rpb24gY3JlYXRlUmVwb3J0KGFzc2Vzc21lbnQpIHtcbiAgICBsZXQgdGFza3MgPSBbXTtcbiAgICBsZXQgZGF0ZVRpbWUgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnN0IHJlcG9ydEZpbGUgPSBcIi4vY2ZhdC50eHRcIjtcbiAgICBsZXQgcmVwb3J0ID0gXCJDbG91ZCBGb3VuZGF0aW9uIEFzc2Vzc21lbnQgVG9vbFwiO1xuICAgIHJlcG9ydCArPSBgXFxuR2VuZXJhdGVkIG9uOiAke2RhdGVUaW1lLnRvVVRDU3RyaW5nKCl9IFxcblxcbmA7XG4gICAgbGV0IHNjb3JlID0gMDtcbiAgICBsZXQgdG90YWxSZXF1aXJlZExvZSA9IDA7XG4gICAgbGV0IHRvdGFsU2NvcmUgPSAwO1xuICAgIGxldCBjZmF0U3RhdHVzID0gXCJDT01QTEVURVwiO1xuICAgIGlmIChhc3Nlc3NtZW50LmNmYXRDaGVja3MgJiYgYXNzZXNzbWVudC5jZmF0Q2hlY2tzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmVwb3J0ICs9IGBcXG5JbmNvbXBsZXRlIFJlcXVpcmVtZW50czpgO1xuICAgICAgICBmb3IgKGNvbnN0IGNoZWNrIG9mIGFzc2Vzc21lbnQuY2ZhdENoZWNrcykge1xuICAgICAgICAgICAgdG90YWxTY29yZSArPSBjaGVjay53ZWlnaHQ7XG4gICAgICAgICAgICBpZiAoY2hlY2sucmVxdWlyZWQgPT09IHRydWUgJiYgY2hlY2suc3RhdHVzID09PSAnaW5jb21wbGV0ZScpIHtcbiAgICAgICAgICAgICAgICByZXBvcnQgKz0gYFxcbiAgICBJTkNPTVBMRVRFOiAke2NoZWNrLmNoZWNrfWA7XG4gICAgICAgICAgICAgICAgdG90YWxSZXF1aXJlZExvZSArPSBjaGVjay5sb2U7XG4gICAgICAgICAgICAgICAgY2ZhdFN0YXR1cyA9IFwiSU5DT01QTEVURVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNoZWNrLnN0YXR1cyA9PT0gJ2NvbXBsZXRlJykge1xuICAgICAgICAgICAgICAgIHNjb3JlICs9IGNoZWNrLndlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXBvcnQgKz0gYFxcblxcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxcbmA7XG4gICAgICAgIHJlcG9ydCArPSBgXFxuRm91bmRhdGlvbiBTdGF0dXM6ICR7Y2ZhdFN0YXR1c31gO1xuICAgICAgICBpZiAoY2ZhdFN0YXR1cyA9PT0gXCJJTkNPTVBMRVRFXCIpIHtcbiAgICAgICAgICAgIHJlcG9ydCArPSBgXFxuRXN0aW1hdGUgb2YgUmVxdWlyZWQgTGV2ZWwgb2YgRWZmb3J0IChMT0UpOiAke3RvdGFsUmVxdWlyZWRMb2V9IGhvdXJzYDtcbiAgICAgICAgfVxuICAgICAgICByZXBvcnQgKz0gYFxcbkNGQVQgU2NvcmU6ICR7c2NvcmV9IG91dCBvZiAke3RvdGFsU2NvcmV9YDtcbiAgICAgICAgcmVwb3J0ICs9IGBcXG5cXG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cXG5gO1xuICAgICAgICByZXBvcnQgKz0gYFxcbkZvdW5kYXRpb24gQ2hlY2tzOlxcbmA7XG4gICAgICAgIGlmIChhc3Nlc3NtZW50LmNmYXRDaGVja3MgJiYgYXNzZXNzbWVudC5jZmF0Q2hlY2tzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHN0clRhYmxlID0gZ2V0VGFibGUoYXNzZXNzbWVudC5jZmF0Q2hlY2tzKTtcbiAgICAgICAgICAgIHJlcG9ydCArPSBgJHtzdHJUYWJsZX1gO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlcG9ydCArPSBgXFxuXFxuU3RhcnQgRGV0YWlsZWQgUmVwb3J0OlxcblxcbmA7XG4gICAgcmVwb3J0ICs9IGBcXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipgO1xuICAgIHJlcG9ydCArPSBgXFxuICAgICAgICAgICAgICAgICAgIE1BTkFHRU1FTlQgQUNDT1VOVGA7XG4gICAgcmVwb3J0ICs9IGBcXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipgO1xuICAgIHJlcG9ydCArPSBgXFxuXFxuQVdTIEFDQ09VTlQgVFlQRVxcbmA7XG4gICAgcmVwb3J0ICs9IGBcXG4gIElzIGluIEFXUyBPcmdhbml6YXRpb246ICR7YXNzZXNzbWVudC5vcmdhbml6YXRpb25EZXBsb3l9YDtcbiAgICByZXBvcnQgKz0gYFxcbiAgQXNzZXNzaW5nIEFXUyBNYW5hZ2VtZW50IEFjY291bnQ6ICR7YXNzZXNzbWVudC5tYW5hZ2VtZW50QWNjb3VudH1gO1xuICAgIHJlcG9ydCArPSBgXFxuXFxuSUFNIFVTRVJTIENIRUNLXFxuYDtcbiAgICBpZiAoYXNzZXNzbWVudC5pYW1Vc2VyQ2hlY2tzICYmIGFzc2Vzc21lbnQuaWFtVXNlckNoZWNrcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGZvciAoY29uc3QgaWFtVXNlciBvZiBhc3Nlc3NtZW50LmlhbVVzZXJDaGVja3MpIHtcbiAgICAgICAgICAgIHJlcG9ydCArPSBgXFxuICBJQU0gVXNlcjogJHtpYW1Vc2VyLnVzZXJOYW1lfWA7XG4gICAgICAgICAgICBpZiAoaWFtVXNlci5hY2Nlc3NLZXlJZCkge1xuICAgICAgICAgICAgICAgIHJlcG9ydCArPSBgXFxuICAgIFVzZXIgQVBJIEtleSBJRDogJHtpYW1Vc2VyLmFjY2Vzc0tleUlkfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXBvcnQgKz0gYFxcbmA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJlcG9ydCArPSBgXFxuICBObyBJQU0gVXNlcnMgZm91bmQuYDtcbiAgICB9XG4gICAgcmVwb3J0ICs9IGBcXG5cXG5FQzIgSU5TVEFOQ0UgQ0hFQ0tcXG5gO1xuICAgIGlmIChhc3Nlc3NtZW50LmVjMkNoZWNrcyAmJiBhc3Nlc3NtZW50LmVjMkNoZWNrcy5maW5kKHBhcmFtID0+IHBhcmFtLmVjMkZvdW5kID09PSB0cnVlKSkge1xuICAgICAgICBmb3IgKGNvbnN0IGVjMiBvZiBhc3Nlc3NtZW50LmVjMkNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGVjMi5lYzJGb3VuZCkge1xuICAgICAgICAgICAgICAgIHJlcG9ydCArPSBgXFxuICAke2VjMi5yZWdpb259IC0gZm91bmQgRUMyIEluc3RhbmNlKHMpLmA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJlcG9ydCArPSBgXFxuICBObyBFQzIgaW5zdGFuY2VzIGZvdW5kLmA7XG4gICAgfVxuICAgIHJlcG9ydCArPSBgXFxuXFxuVlBDIENIRUNLXFxuYDtcbiAgICBpZiAoYXNzZXNzbWVudC52cGNDaGVja3MgJiYgYXNzZXNzbWVudC52cGNDaGVja3MubGVuZ3RoID4gMCkge1xuICAgICAgICBmb3IgKGNvbnN0IHZwY0ZpbmQgb2YgYXNzZXNzbWVudC52cGNDaGVja3MpIHtcbiAgICAgICAgICAgIGlmICh2cGNGaW5kLnZwY0ZvdW5kKSB7XG4gICAgICAgICAgICAgICAgcmVwb3J0ICs9IGBcXG4gICR7dnBjRmluZC5yZWdpb259IC0gZm91bmQgVlBDKHMpLmA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJlcG9ydCArPSBgXFxuICBObyBWUENzIGZvdW5kLmA7XG4gICAgfVxuICAgIHJlcG9ydCArPSBgXFxuXFxuQVdTIENPTkZJRyBDSEVDS1xcbmA7XG4gICAgaWYgKGFzc2Vzc21lbnQuY29uZmlnRGV0YWlscyAmJiBhc3Nlc3NtZW50LmNvbmZpZ0RldGFpbHMuZmluZChwYXJhbSA9PiBwYXJhbS5jb25maWdSZWNvcmRlckZvdW5kID09PSB0cnVlKSkge1xuICAgICAgICBmb3IgKGNvbnN0IGNvbmZpZ0ZpbmQgb2YgYXNzZXNzbWVudC5jb25maWdEZXRhaWxzKSB7XG4gICAgICAgICAgICBpZiAoY29uZmlnRmluZC5jb25maWdSZWNvcmRlckZvdW5kKSB7XG4gICAgICAgICAgICAgICAgcmVwb3J0ICs9IGBcXG4gICR7Y29uZmlnRmluZC5yZWdpb259IC0gQ29uZmlnIFJlY29yZGVyIGZvdW5kYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb25maWdGaW5kLmNvbmZpZ0RlbGl2ZXJ5Q2hhbm5lbEZvdW5kKSB7XG4gICAgICAgICAgICAgICAgcmVwb3J0ICs9IGBcXG4gICR7Y29uZmlnRmluZC5yZWdpb259IC0gQ29uZmlnIERlbGl2ZXJ5IENoYW5uZWwgZm91bmRgO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXBvcnQgKz0gYFxcbiAgTm8gQVdTIENvbmZpZyByZXNvdXJjZSBkaXNjb3ZlcmVkYDtcbiAgICB9XG4gICAgcmVwb3J0ICs9IGBcXG5cXG5NQU5BR0VNRU5UIEFDQ09VTlQgVEFTS1M6YDtcbiAgICBjb25zdCBtYUNhdGVnb3J5ID0gXCJNYW5hZ2VtZW50IEFjY291bnRcIjtcbiAgICBpZiAoYXNzZXNzbWVudC5pYW1Vc2VyQ2hlY2tzICYmIGFzc2Vzc21lbnQuaWFtVXNlckNoZWNrcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGZvciAoY29uc3QgaWFtVXNlciBvZiBhc3Nlc3NtZW50LmlhbVVzZXJDaGVja3MpIHtcbiAgICAgICAgICAgIGxldCBpYW1UYXNrID0geyB0aXRsZTogYFJlbW92ZSBJQU0gdXNlciAke2lhbVVzZXIudXNlck5hbWV9YCwgY2F0ZWdvcnk6IG1hQ2F0ZWdvcnksIGRldGFpbDogYFJldmlldyBhbmQgZGV0ZXJtaW5lIGlmIElBTSB1c2VyICR7aWFtVXNlci51c2VyTmFtZX0gY2FuIGJlIGRlbGV0ZWQuYCB9O1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGAke2lhbVRhc2sudGl0bGV9IC0gJHtpYW1UYXNrLmNhdGVnb3J5fSAtICR7aWFtVGFzay5kZXRhaWx9YDtcbiAgICAgICAgICAgIHRhc2tzLnB1c2goaWFtVGFzayk7XG4gICAgICAgICAgICByZXBvcnQgKz0gYFxcbiAgJHttZXNzYWdlfWA7XG4gICAgICAgICAgICBpZiAoaWFtVXNlci5hY2Nlc3NLZXlJZCkge1xuICAgICAgICAgICAgICAgIGxldCBpYW1BcGlUYXNrID0geyB0aXRsZTogYFJlbW92ZSBJQU0gdXNlciAke2lhbVVzZXIudXNlck5hbWV9IEFQSSBrZXkgJHtpYW1Vc2VyLmFjY2Vzc0tleUlkfSBgLCBjYXRlZ29yeTogbWFDYXRlZ29yeSwgZGV0YWlsOiBgUmV2aWV3IGFuZCBkZXRlcm1pbmUgaWYgSUFNIHVzZXIgQVBJIGtleSAke2lhbVVzZXIuYWNjZXNzS2V5SWR9IGZvciAke2lhbVVzZXIudXNlck5hbWV9IGNhbiBiZSByZW1vdmVkLmAgfTtcbiAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gYCR7aWFtQXBpVGFzay50aXRsZX0gLSAke2lhbUFwaVRhc2suY2F0ZWdvcnl9IC0gJHtpYW1BcGlUYXNrLmRldGFpbH1gO1xuICAgICAgICAgICAgICAgIHJlcG9ydCArPSBgXFxuICAke21lc3NhZ2V9YDtcbiAgICAgICAgICAgICAgICB0YXNrcy5wdXNoKGlhbUFwaVRhc2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChhc3Nlc3NtZW50LmVjMkNoZWNrcyAmJiBhc3Nlc3NtZW50LmVjMkNoZWNrcy5maW5kKHBhcmFtID0+IHBhcmFtLmVjMkZvdW5kID09PSB0cnVlKSkge1xuICAgICAgICBmb3IgKGNvbnN0IGVjMiBvZiBhc3Nlc3NtZW50LmVjMkNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGVjMi5lYzJGb3VuZCAmJiBlYzIucmVnaW9uKSB7XG4gICAgICAgICAgICAgICAgbGV0IGVjMlRhc2sgPSB7IHRpdGxlOiBgRGVsZXRlIEVDMiBpbnN0YW5jZSBpbiAke2VjMi5yZWdpb259YCwgY2F0ZWdvcnk6IG1hQ2F0ZWdvcnksIGRldGFpbDogYERlbGV0ZSBhbnkgdW5uZWNlc3NhcnkgRUMyIGluc3RhbmNlIGluICR7ZWMyLnJlZ2lvbn1gIH07XG4gICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGAke2VjMlRhc2sudGl0bGV9IC0gJHtlYzJUYXNrLmNhdGVnb3J5fSAtICR7ZWMyVGFzay5kZXRhaWx9YDtcbiAgICAgICAgICAgICAgICByZXBvcnQgKz0gYFxcbiAgJHttZXNzYWdlfWA7XG4gICAgICAgICAgICAgICAgdGFza3MucHVzaChlYzJUYXNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoYXNzZXNzbWVudC52cGNDaGVja3MgJiYgYXNzZXNzbWVudC52cGNDaGVja3MubGVuZ3RoID4gMCkge1xuICAgICAgICBmb3IgKGNvbnN0IHZwY0ZpbmQgb2YgYXNzZXNzbWVudC52cGNDaGVja3MpIHtcbiAgICAgICAgICAgIGlmICh2cGNGaW5kLnZwY0ZvdW5kICYmIHZwY0ZpbmQucmVnaW9uKSB7XG4gICAgICAgICAgICAgICAgbGV0IHZwY1Rhc2sgPSB7IHRpdGxlOiBgRGVsZXRlIFZQQyBpbiAke3ZwY0ZpbmQucmVnaW9ufWAsIGNhdGVnb3J5OiBtYUNhdGVnb3J5LCBkZXRhaWw6IGBEZWxldGUgYW55IHVubmVjZXNzYXJ5IFZQQyBpbiAke3ZwY0ZpbmQucmVnaW9ufSB0byBpbmNsdWRlIHRoZSBkZWZhdWx0IFZQQy5gIH07XG4gICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGAke3ZwY1Rhc2sudGl0bGV9IC0gJHt2cGNUYXNrLmNhdGVnb3J5fSAtICR7dnBjVGFzay5kZXRhaWx9YDtcbiAgICAgICAgICAgICAgICByZXBvcnQgKz0gYFxcbiAgJHttZXNzYWdlfWA7XG4gICAgICAgICAgICAgICAgdGFza3MucHVzaCh2cGNUYXNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXBvcnQgKz0gYFxcblxcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKmA7XG4gICAgcmVwb3J0ICs9IGBcXG4gICAgICAgICAgICAgICAgICAgIEdPVkVSTkFOQ0VgO1xuICAgIHJlcG9ydCArPSBgXFxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqYDtcbiAgICByZXBvcnQgKz0gYFxcblxcbkFXUyBPUkdBTklaQVRJT04gUE9MSUNZIFRZUEVTXFxuYDtcbiAgICByZXBvcnQgKz0gYFxcbiAgU2VydmljZSBDb250cm9sIFBvbGljaWVzIChTQ1ApIGVuYWJsZWQ6ICR7YXNzZXNzbWVudC5zY3BFbmFibGVkfWA7XG4gICAgcmVwb3J0ICs9IGBcXG4gIFRhZyBQb2xpY2llcyBlbmFibGVkOiAke2Fzc2Vzc21lbnQudGFnUG9saWN5RW5hYmxlZH1gO1xuICAgIHJlcG9ydCArPSBgXFxuICBCYWNrdXAgUG9saWNpZXMgZW5hYmxlZDogJHthc3Nlc3NtZW50LmJhY2t1cFBvbGljeUVuYWJsZWR9YDtcbiAgICByZXBvcnQgKz0gYFxcblxcbkFXUyBPUkdBTklaQVRJT04gQ0xPVURGT1JNQVRJT05cXG5gO1xuICAgIHJlcG9ydCArPSBgXFxuICBBV1MgQ2xvdWRGb3JtYXRpb24gT3JnYW5pemF0aW9uIHN0YWNrIHNldHMgc3RhdHVzIDogJHthc3Nlc3NtZW50Lm9yZ0Nsb3VkRm9ybWF0aW9uU3RhdHVzfWA7XG4gICAgcmVwb3J0ICs9IGBcXG5cXG5DTE9VRFRSQUlMIENIRUNLXFxuYDtcbiAgICBpZiAoYXNzZXNzbWVudC5jbG91ZFRyYWlsRGV0YWlscyAmJiBhc3Nlc3NtZW50LmNsb3VkVHJhaWxEZXRhaWxzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZm9yIChjb25zdCBjdEZpbmQgb2YgYXNzZXNzbWVudC5jbG91ZFRyYWlsRGV0YWlscykge1xuICAgICAgICAgICAgaWYgKGN0RmluZC50cmFpbEZvdW5kKSB7XG4gICAgICAgICAgICAgICAgcmVwb3J0ICs9IGBcXG4gIENsb3VkVHJhaWwgZm91bmQgaW4gJHtjdEZpbmQucmVnaW9ufWA7XG4gICAgICAgICAgICAgICAgcmVwb3J0ICs9IGBcXG4gICAgSXMgT3JnYW5pemF0aW9uIFRyYWlsOiAke2N0RmluZC5pc09yZ1RyYWlsfWA7XG4gICAgICAgICAgICAgICAgcmVwb3J0ICs9IGBcXG4gICAgSXMgTXVsdGlSZWdpb246ICR7Y3RGaW5kLmlzTXVsdGlSZWdpb259YDtcbiAgICAgICAgICAgICAgICByZXBvcnQgKz0gYFxcbmA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJlcG9ydCArPSBgXFxuICBObyBBV1MgQ2xvdWRUcmFpbCByZXNvdXJjZSBkaXNjb3ZlcmVkYDtcbiAgICB9XG4gICAgcmVwb3J0ICs9IGBcXG5cXG5HT1ZFUk5BTkNFIFNFUlZJQ0VTIEVOQUJMRUQgSU4gQVdTIE9SR0FOSVpBVElPTjpcXG5gO1xuICAgIGlmIChhc3Nlc3NtZW50Lm9yZ1NlcnZpY2VzKSB7XG4gICAgICAgIGlmIChhc3Nlc3NtZW50Lm9yZ1NlcnZpY2VzLmZpbmQocGFyYW0gPT4gcGFyYW0uc2VydmljZSA9PT0gJ2Nsb3VkdHJhaWwuYW1hem9uYXdzLmNvbScpKSB7XG4gICAgICAgICAgICByZXBvcnQgKz0gYFxcbiAgQVdTIENsb3VkVHJhaWxgO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhc3Nlc3NtZW50Lm9yZ1NlcnZpY2VzLmZpbmQocGFyYW0gPT4gcGFyYW0uc2VydmljZSA9PT0gJ2NvbmZpZy5hbWF6b25hd3MuY29tJykpIHtcbiAgICAgICAgICAgIHJlcG9ydCArPSBgXFxuICBBV1MgQ29uZmlnYDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmVwb3J0ICs9IGBcXG4gIE5vIGdvdmVybmFuY2Ugc2VydmljZSBlbmFibGVkYDtcbiAgICB9XG4gICAgLy8vLy8gU0VUIFRIRSBCQUNLTE9HIFRBU0sgRk9SIEdPVkVSTkFOQ0UgLy8vLy9cbiAgICByZXBvcnQgKz0gYFxcblxcbkdPVkVSTkFOQ0UgVEFTS1M6YDtcbiAgICBjb25zdCBnb3ZDYXRlZ29yeSA9IFwiR292ZXJuYW5jZVwiO1xuICAgIGlmICghYXNzZXNzbWVudC5vcmdTZXJ2aWNlcyB8fCAhYXNzZXNzbWVudC5vcmdTZXJ2aWNlcy5maW5kKHBhcmFtID0+IHBhcmFtLnNlcnZpY2UgPT09ICdjbG91ZHRyYWlsLmFtYXpvbmF3cy5jb20nKSkge1xuICAgICAgICBjb25zdCBjdE9yZ1NlcnZpY2VUYXNrID0geyB0aXRsZTogJ0VuYWJsZSBBV1MgQ2xvdWRUcmFpbCcsIGNhdGVnb3J5OiBnb3ZDYXRlZ29yeSwgZGV0YWlsOiBgRW5hYmxlIEFXUyBDbG91ZFRyYWlsIGluIEFXUyBPcmdhbml6YXRpb25gIH07XG4gICAgICAgIHRhc2tzLnB1c2goY3RPcmdTZXJ2aWNlVGFzayk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBgJHtjdE9yZ1NlcnZpY2VUYXNrLnRpdGxlfSAtICR7Y3RPcmdTZXJ2aWNlVGFzay5jYXRlZ29yeX0gLSAke2N0T3JnU2VydmljZVRhc2suZGV0YWlsfWA7XG4gICAgICAgIHJlcG9ydCArPSBgXFxuICAke21lc3NhZ2V9YDtcbiAgICB9XG4gICAgaWYgKCFhc3Nlc3NtZW50Lm9yZ1NlcnZpY2VzIHx8ICFhc3Nlc3NtZW50Lm9yZ1NlcnZpY2VzLmZpbmQocGFyYW0gPT4gcGFyYW0uc2VydmljZSA9PT0gJ2NvbmZpZy5hbWF6b25hd3MuY29tJykpIHtcbiAgICAgICAgY29uc3QgY29uZmlnT3JnU2VydmljZVRhc2sgPSB7IHRpdGxlOiAnRW5hYmxlIEFXUyBDb25maWcnLCBjYXRlZ29yeTogZ292Q2F0ZWdvcnksIGRldGFpbDogYEVuYWJsZSBBV1MgQ29uZmlnIGluIEFXUyBPcmdhbml6YXRpb25gIH07XG4gICAgICAgIHRhc2tzLnB1c2goY29uZmlnT3JnU2VydmljZVRhc2spO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gYCR7Y29uZmlnT3JnU2VydmljZVRhc2sudGl0bGV9IC0gJHtjb25maWdPcmdTZXJ2aWNlVGFzay5jYXRlZ29yeX0gLSAke2NvbmZpZ09yZ1NlcnZpY2VUYXNrLmRldGFpbH1gO1xuICAgICAgICByZXBvcnQgKz0gYFxcbiAgJHttZXNzYWdlfWA7XG4gICAgfVxuICAgIGlmICghYXNzZXNzbWVudC5zY3BFbmFibGVkKSB7XG4gICAgICAgIGNvbnN0IHNjcEVuYWJsZWRUYXNrID0geyB0aXRsZTogJ0VuYWJsZSBTQ1AnLCBjYXRlZ29yeTogZ292Q2F0ZWdvcnksIGRldGFpbDogYEVuYWJsZSBTQ1AgaW4gQVdTIE9yZ2FuaXphdGlvbmAgfTtcbiAgICAgICAgdGFza3MucHVzaChzY3BFbmFibGVkVGFzayk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBgJHtzY3BFbmFibGVkVGFzay50aXRsZX0gLSAke3NjcEVuYWJsZWRUYXNrLmNhdGVnb3J5fSAtICR7c2NwRW5hYmxlZFRhc2suZGV0YWlsfWA7XG4gICAgICAgIHJlcG9ydCArPSBgXFxuICAke21lc3NhZ2V9YDtcbiAgICB9XG4gICAgaWYgKCFhc3Nlc3NtZW50LnRhZ1BvbGljeUVuYWJsZWQpIHtcbiAgICAgICAgbGV0IHRhZ1BvbGljeUVuYWJsZWRUYXNrID0geyB0aXRsZTogJ0VuYWJsZSBUYWcgUG9saWN5JywgY2F0ZWdvcnk6IGdvdkNhdGVnb3J5LCBkZXRhaWw6IGBFbmFibGUgVGFnIFBvbGljeSBpbiBBV1MgT3JnYW5pemF0aW9uYCB9O1xuICAgICAgICB0YXNrcy5wdXNoKHRhZ1BvbGljeUVuYWJsZWRUYXNrKTtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGAke3RhZ1BvbGljeUVuYWJsZWRUYXNrLnRpdGxlfSAtICR7dGFnUG9saWN5RW5hYmxlZFRhc2suY2F0ZWdvcnl9IC0gJHt0YWdQb2xpY3lFbmFibGVkVGFzay5kZXRhaWx9YDtcbiAgICAgICAgcmVwb3J0ICs9IGBcXG4gICR7bWVzc2FnZX1gO1xuICAgIH1cbiAgICBpZiAoIWFzc2Vzc21lbnQuYmFja3VwUG9saWN5RW5hYmxlZCkge1xuICAgICAgICBsZXQgYmFja3VwUG9saWN5RW5hYmxlZFRhc2sgPSB7IHRpdGxlOiAnRW5hYmxlIEJhY2t1cCBQb2xpY3knLCBjYXRlZ29yeTogZ292Q2F0ZWdvcnksIGRldGFpbDogYEVuYWJsZSBCYWNrdXAgUG9saWN5IGluIEFXUyBPcmdhbml6YXRpb25gIH07XG4gICAgICAgIHRhc2tzLnB1c2goYmFja3VwUG9saWN5RW5hYmxlZFRhc2spO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gYCR7YmFja3VwUG9saWN5RW5hYmxlZFRhc2sudGl0bGV9IC0gJHtiYWNrdXBQb2xpY3lFbmFibGVkVGFzay5jYXRlZ29yeX0gLSAke2JhY2t1cFBvbGljeUVuYWJsZWRUYXNrLmRldGFpbH1gO1xuICAgICAgICByZXBvcnQgKz0gYFxcbiAgJHttZXNzYWdlfWA7XG4gICAgfVxuICAgIHJlcG9ydCArPSBgXFxuXFxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqYDtcbiAgICByZXBvcnQgKz0gYFxcbiAgICAgICAgICAgICAgICBGSU5BTkNJQUwgTUFOQUdFTUVOVGA7XG4gICAgcmVwb3J0ICs9IGBcXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipgO1xuICAgIHJlcG9ydCArPSBgXFxuXFxuTGVnYWN5IENVUmA7XG4gICAgcmVwb3J0ICs9IGBcXG4gIElzIGxlZ2FjeSBDVVIgc2V0dXA6ICR7YXNzZXNzbWVudC5pc0xlZ2FjeUN1clNldHVwfWA7XG4gICAgcmVwb3J0ICs9IGBcXG5cXG5DTE9VRCBGSU5BTkNJQUwgTUFOQUdFTUVOVCBUQVNLUzpgO1xuICAgIGNvbnN0IGZpbkNhdGVnb3J5ID0gXCJDbG91ZCBGaW5hbmNpYWwgTWFuYWdlbWVudFwiO1xuICAgIGlmICghYXNzZXNzbWVudC5pc0xlZ2FjeUN1clNldHVwKSB7XG4gICAgICAgIGNvbnN0IGxlZ2FjeUN1clNldHVwVGFzayA9IHsgdGl0bGU6ICdTZXR1cCBsZWdhY3kgQ1VSJywgY2F0ZWdvcnk6IGZpbkNhdGVnb3J5LCBkZXRhaWw6IGBTZXR1cCBsZWdhY3kgQ1VSIGluIEFXUyBPcmdhbml6YXRpb25gIH07XG4gICAgICAgIHRhc2tzLnB1c2gobGVnYWN5Q3VyU2V0dXBUYXNrKTtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGAke2xlZ2FjeUN1clNldHVwVGFzay50aXRsZX0gLSAke2xlZ2FjeUN1clNldHVwVGFzay5jYXRlZ29yeX0gLSAke2xlZ2FjeUN1clNldHVwVGFzay5kZXRhaWx9YDtcbiAgICAgICAgcmVwb3J0ICs9IGBcXG4gICR7bWVzc2FnZX1gO1xuICAgIH1cbiAgICByZXBvcnQgKz0gYFxcblxcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKmA7XG4gICAgcmVwb3J0ICs9IGBcXG4gICAgICAgICAgICAgICAgTVVMVEktQUNDT1VOVCBTVFJBVEVHWWA7XG4gICAgcmVwb3J0ICs9IGBcXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipgO1xuICAgIHJlcG9ydCArPSBgXFxuXFxuQVdTIE9SR0FOSVpBVElPTiBERVRBSUxTXFxuYDtcbiAgICByZXBvcnQgKz0gYFxcbiAgQVdTIE9yZ2FuaXphdGlvbiBJZDogJHthc3Nlc3NtZW50Lm9yZ0lkfWA7XG4gICAgcmVwb3J0ICs9IGBcXG4gIEFXUyBPcmdhbml6YXRpb24gQVJOOiAke2Fzc2Vzc21lbnQub3JnQXJufWA7XG4gICAgcmVwb3J0ICs9IGBcXG4gIEFXUyBPcmdhbml6YXRpb24gUm9vdCBPVSBJZDogJHthc3Nlc3NtZW50Lm9yZ1Jvb3RPdUlkfWA7XG4gICAgcmVwb3J0ICs9IGBcXG5cXG5BV1MgT1JHQU5JWkFUSU9OIENMT1VERk9STUFUSU9OXFxuYDtcbiAgICByZXBvcnQgKz0gYFxcbiAgQVdTIENsb3VkRm9ybWF0aW9uIE9yZ2FuaXphdGlvbiBzdGFjayBzZXRzIHN0YXR1cyA6ICR7YXNzZXNzbWVudC5vcmdDbG91ZEZvcm1hdGlvblN0YXR1c31gO1xuICAgIGxldCB0cmFuc2l0aW9uYWxGb3VuZCwgc3VzcGVuZGVkRm91bmQsIGluZnJhc3RydWN0dXJlRm91bmQgPSBmYWxzZTtcbiAgICBsZXQgd29ya2xvYWRzRm91bmQgPSBmYWxzZTtcbiAgICBsZXQgc2VjdXJpdHlGb3VuZCA9IGZhbHNlO1xuICAgIGlmIChhc3Nlc3NtZW50Lm9yZ1Jvb3RPdUlkKSB7XG4gICAgICAgIHJlcG9ydCArPSBgXFxuXFxuQVdTIE9SR0FOSVpBVElPTiBUT1AtTEVWRUwgT1JHQU5JWkFUSU9OIFVOSVRTXFxuYDtcbiAgICAgICAgcmVwb3J0ICs9IGBcXG4gIExpc3Qgb2YgT3JnYW5pemF0aW9uJ3MgdG9wLWxldmVsIE9VcyBhbmQgQVdTIGFjY291bnRzOmA7XG4gICAgICAgIGlmIChhc3Nlc3NtZW50Lm9yZ091SW5mbyAmJiBhc3Nlc3NtZW50Lm9yZ091SW5mby5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG91IG9mIGFzc2Vzc21lbnQub3JnT3VJbmZvKSB7XG4gICAgICAgICAgICAgICAgaWYgKG91Lm5hbWU/LnRvTG93ZXJDYXNlKCkgPT09ICdzdXNwZW5kZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1c3BlbmRlZEZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG91Lm5hbWU/LnRvTG93ZXJDYXNlKCkgPT09ICd0cmFuc2l0aW9uYWwnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb25hbEZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG91Lm5hbWU/LnRvTG93ZXJDYXNlKCkgPT09ICd3b3JrbG9hZHMnKSB7XG4gICAgICAgICAgICAgICAgICAgIHdvcmtsb2Fkc0ZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG91Lm5hbWU/LnRvTG93ZXJDYXNlKCkgPT09ICdzZWN1cml0eScpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VjdXJpdHlGb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChvdS5uYW1lPy50b0xvd2VyQ2FzZSgpID09PSAnaW5mcmFzdHJ1Y3R1cmUnKSB7XG4gICAgICAgICAgICAgICAgICAgIGluZnJhc3RydWN0dXJlRm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXBvcnQgKz0gYFxcbiAgICBPcmdhbml6YXRpb25hbCBVbml0OiAke291Lm5hbWV9YDtcbiAgICAgICAgICAgICAgICByZXBvcnQgKz0gYFxcbiAgICAgIE9yZ2FuaXphdGlvbmFsIFVuaXQgSWQ6ICR7b3UuaWR9YDtcbiAgICAgICAgICAgICAgICBpZiAob3UuYWNjb3VudHMgJiYgb3UuYWNjb3VudHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICByZXBvcnQgKz0gYFxcbiAgICAgIEFXUyBBY2NvdW50czpgO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGFjY291bnQgb2Ygb3UuYWNjb3VudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcG9ydCArPSBgXFxuICAgICAgICAke2FjY291bnQuTmFtZX1gO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJlcG9ydCArPSBgXFxuYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcG9ydCArPSBgXFxuICAgICAgQVdTIEFjY291bnRzOiBOb25lYDtcbiAgICAgICAgICAgICAgICAgICAgcmVwb3J0ICs9IGBcXG5gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlcG9ydCArPSBgXFxuICBObyB0b3AgbGV2ZWwgT1VzIGZvdW5kLmA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVwb3J0ICs9IGBcXG5cXG5BV1MgT1JHQU5JWkFUSU9OIE1FTUJFUiBBQ0NPVU5UU1xcbmA7XG4gICAgaWYgKGFzc2Vzc21lbnQub3JnTWVtYmVyQWNjb3VudHMgJiYgYXNzZXNzbWVudC5vcmdNZW1iZXJBY2NvdW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGZvciAoY29uc3QgbWVtYmVyQWNjb3VudCBvZiBhc3Nlc3NtZW50Lm9yZ01lbWJlckFjY291bnRzKSB7XG4gICAgICAgICAgICByZXBvcnQgKz0gYFxcbiAgQWNjb3VudDogJHttZW1iZXJBY2NvdW50LmFjY291bnROYW1lfWA7XG4gICAgICAgICAgICByZXBvcnQgKz0gYFxcbiAgQWNjb3VudCBFbWFpbDogJHttZW1iZXJBY2NvdW50LmFjY291bnRFbWFpbH1cXG5gO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXBvcnQgKz0gYE5vIG1lbWJlciBhY2NvdW50cyBmb3VuZCB3aGljaCBpcyBhbWF6aW5nIGFzIHRoaXMgaXMgcnVubmluZyBmcm9tIG9uZS5gO1xuICAgIH1cbiAgICByZXBvcnQgKz0gYFxcblxcbkFXUyBPUkdBTklaQVRJT04gRU5BQkxFRCBTRVJWSUNFU1xcbmA7XG4gICAgcmVwb3J0ICs9IGBcXG4gIFRoZSBmb2xsb3dpbmcgQVdTIFNlcnZpY2VzIGFyZSBlbmFibGVkIHdpdGhpbiB5b3VyIEFXUyBPcmdhbml6YXRpb246YDtcbiAgICBpZiAoYXNzZXNzbWVudC5vcmdTZXJ2aWNlcyAmJiBhc3Nlc3NtZW50Lm9yZ1NlcnZpY2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZm9yIChjb25zdCBvcmdTZXJ2aWNlIG9mIGFzc2Vzc21lbnQub3JnU2VydmljZXMpIHtcbiAgICAgICAgICAgIHJlcG9ydCArPSBgXFxuICAgICR7b3JnU2VydmljZS5zZXJ2aWNlfWA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJlcG9ydCArPSBgXFxuICAgIE5vIHRydXN0ZWQgYWNjZXNzIGVuYWJsZWQgaW4gdGhlIEFXUyBPcmdhbml6YXRpb25gO1xuICAgIH1cbiAgICBsZXQgaWRlbnRpdHlEZWxlZ2F0ZWQgPSBmYWxzZTtcbiAgICBsZXQgc2VjdXJpdHlIdWJEZWxlZ2F0ZWQgPSBmYWxzZTtcbiAgICBsZXQgZ3VhcmREdXR5RGVsZWdhdGVkID0gZmFsc2U7XG4gICAgbGV0IGNvbmZpZ0RlbGVnYXRlZCA9IGZhbHNlO1xuICAgIGxldCBpYW1BY2Nlc3NBbmFseXplckRlbGVnYXRlZCA9IGZhbHNlO1xuICAgIGxldCBzM1N0b3JhZ2VMZW5zRGVsZWdhdGVkID0gZmFsc2U7XG4gICAgbGV0IGlwYW1EZWxlZ2F0ZWQgPSBmYWxzZTtcbiAgICBsZXQgYWNjb3VudERlbGVnYXRlZCA9IGZhbHNlO1xuICAgIGxldCBiYWNrdXBEZWxlZ2F0ZWQgPSBmYWxzZTtcbiAgICByZXBvcnQgKz0gYFxcblxcbkFXUyBPUkdBTklaQVRJT04gSU5URUdSQVRFRCBTRVJWSUNFIFJFR0lTVEVSRUQgREVMRUdBVEVEIEFETUlOU1xcbmA7XG4gICAgaWYgKGFzc2Vzc21lbnQub3JnRGVsZWdhdGVkQWRtaW5BY2NvdW50cyAmJiBhc3Nlc3NtZW50Lm9yZ0RlbGVnYXRlZEFkbWluQWNjb3VudHMubGVuZ3RoID4gMCkge1xuICAgICAgICBmb3IgKGNvbnN0IGFjY291bnQgb2YgYXNzZXNzbWVudC5vcmdEZWxlZ2F0ZWRBZG1pbkFjY291bnRzKSB7XG4gICAgICAgICAgICByZXBvcnQgKz0gYFxcbiAgQWNjb3VudDogJHthY2NvdW50LmFjY291bnROYW1lfWA7XG4gICAgICAgICAgICBpZiAoYWNjb3VudC5zZXJ2aWNlcyAmJiBhY2NvdW50LnNlcnZpY2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICByZXBvcnQgKz0gYFxcbiAgRGVsZWdhdGVkIFNlcnZpY2VzOmA7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBzcnYgb2YgYWNjb3VudC5zZXJ2aWNlcykge1xuICAgICAgICAgICAgICAgICAgICByZXBvcnQgKz0gYFxcbiAgICAke3Nydi5TZXJ2aWNlUHJpbmNpcGFsfWA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzcnYuU2VydmljZVByaW5jaXBhbCA9PT0gJ3NlY3VyaXR5aHViLmFtYXpvbmF3cy5jb20nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWN1cml0eUh1YkRlbGVnYXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHNydi5TZXJ2aWNlUHJpbmNpcGFsID09PSAnZ3VhcmRkdXR5LmFtYXpvbmF3cy5jb20nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBndWFyZER1dHlEZWxlZ2F0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChzcnYuU2VydmljZVByaW5jaXBhbCA9PT0gJ3Nzby5hbWF6b25hd3MuY29tJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWRlbnRpdHlEZWxlZ2F0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChzcnYuU2VydmljZVByaW5jaXBhbCA9PT0gJ2NvbmZpZy5hbWF6b25hd3MuY29tJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnRGVsZWdhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoc3J2LlNlcnZpY2VQcmluY2lwYWwgPT09ICdhY2Nlc3MtYW5hbHl6ZXIuYW1hem9uYXdzLmNvbScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlhbUFjY2Vzc0FuYWx5emVyRGVsZWdhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoc3J2LlNlcnZpY2VQcmluY2lwYWwgPT09ICdzdG9yYWdlLWxlbnMuczMuYW1hem9uYXdzLmNvbScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHMzU3RvcmFnZUxlbnNEZWxlZ2F0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChzcnYuU2VydmljZVByaW5jaXBhbCA9PT0gJ2lwYW0uYW1hem9uYXdzLmNvbScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlwYW1EZWxlZ2F0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChzcnYuU2VydmljZVByaW5jaXBhbCA9PT0gJ2FjY291bnQuYW1hem9uYXdzLmNvbScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnREZWxlZ2F0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChzcnYuU2VydmljZVByaW5jaXBhbCA9PT0gJ2JhY2t1cC5hbWF6b25hd3MuY29tJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFja3VwRGVsZWdhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlcG9ydCArPSBgXFxuIGA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJlcG9ydCArPSBgXFxuICBObyBkZWxlZ2F0ZWQgYWRtaW4gYWNjb3VudHMgaW4gQVdTIE9yZ2FuaXphdGlvbmA7XG4gICAgfVxuICAgIHJlcG9ydCArPSBgXFxuXFxuTVVMVEktQUNDT1VOVCBTVFJBVEVHWSBUQVNLUzpgO1xuICAgIGxldCBtYXNDYXRlZ29yeSA9ICdNdWx0aS1BY2NvdW50IFN0cmF0ZWd5JztcbiAgICBjb25zdCBhY2NvdW50RW1haWxSZXZpZXdUYXNrID0geyB0aXRsZTogJ1JldmlldyBBY2NvdW50IEVtYWlsIEFkZHJlc3NlcycsIGNhdGVnb3J5OiBtYXNDYXRlZ29yeSwgZGV0YWlsOiBgUmV2aWV3IEFjY291bnQgRW1haWwgQWRkcmVzc2VzIGluIEFXUyBPcmdhbml6YXRpb25gIH07XG4gICAgY29uc3QgbWVzc2FnZSA9IGAke2FjY291bnRFbWFpbFJldmlld1Rhc2sudGl0bGV9IC0gJHthY2NvdW50RW1haWxSZXZpZXdUYXNrLmNhdGVnb3J5fSAtICR7YWNjb3VudEVtYWlsUmV2aWV3VGFzay5kZXRhaWx9YDtcbiAgICByZXBvcnQgKz0gYFxcbiAgJHttZXNzYWdlfWA7XG4gICAgaWYgKCFhc3Nlc3NtZW50LnNjcEVuYWJsZWQpIHtcbiAgICAgICAgY29uc3Qgc2NwRW5hYmxlZFRhc2sgPSB7IHRpdGxlOiAnRW5hYmxlIFNlcnZpY2UgQ29udHJvbCBQb2xpY3knLCBjYXRlZ29yeTogbWFzQ2F0ZWdvcnksIGRldGFpbDogYEVuYWJsZSBTZXJ2aWNlIENvbnRyb2wgUG9saWN5IGluIEFXUyBPcmdhbml6YXRpb25gIH07XG4gICAgICAgIHRhc2tzLnB1c2goc2NwRW5hYmxlZFRhc2spO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gYCR7c2NwRW5hYmxlZFRhc2sudGl0bGV9IC0gJHtzY3BFbmFibGVkVGFzay5jYXRlZ29yeX0gLSAke3NjcEVuYWJsZWRUYXNrLmRldGFpbH1gO1xuICAgICAgICByZXBvcnQgKz0gYFxcbiAgJHttZXNzYWdlfWA7XG4gICAgfVxuICAgIGlmICghdHJhbnNpdGlvbmFsRm91bmQpIHtcbiAgICAgICAgY29uc3QgdHJhbnNpdGlvbmFsVGFzayA9IHsgdGl0bGU6ICdEZXBsb3kgVHJhbnNpdGlvbmFsIE9VJywgY2F0ZWdvcnk6IG1hc0NhdGVnb3J5LCBkZXRhaWw6IGBEZXBsb3kgVHJhbnNpdGlvbmFsIE9VIGluIEFXUyBPcmdhbml6YXRpb25gIH07XG4gICAgICAgIHRhc2tzLnB1c2godHJhbnNpdGlvbmFsVGFzayk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBgJHt0cmFuc2l0aW9uYWxUYXNrLnRpdGxlfSAtICR7dHJhbnNpdGlvbmFsVGFzay5jYXRlZ29yeX0gLSAke3RyYW5zaXRpb25hbFRhc2suZGV0YWlsfWA7XG4gICAgICAgIHJlcG9ydCArPSBgXFxuICAke21lc3NhZ2V9YDtcbiAgICB9XG4gICAgaWYgKCFzdXNwZW5kZWRGb3VuZCkge1xuICAgICAgICBjb25zdCBzdXNwZW5kZWRUYXNrID0geyB0aXRsZTogJ0RlcGxveSBTdXNwZW5kZWQgT1UnLCBjYXRlZ29yeTogbWFzQ2F0ZWdvcnksIGRldGFpbDogYERlcGxveSBTdXNwZW5kZWQgT1UgaW4gQVdTIE9yZ2FuaXphdGlvbmAgfTtcbiAgICAgICAgdGFza3MucHVzaChzdXNwZW5kZWRUYXNrKTtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGAke3N1c3BlbmRlZFRhc2sudGl0bGV9IC0gJHtzdXNwZW5kZWRUYXNrLmNhdGVnb3J5fSAtICR7c3VzcGVuZGVkVGFzay5kZXRhaWx9YDtcbiAgICAgICAgcmVwb3J0ICs9IGBcXG4gICR7bWVzc2FnZX1gO1xuICAgIH1cbiAgICBpZiAoIXdvcmtsb2Fkc0ZvdW5kKSB7XG4gICAgICAgIGNvbnN0IHdvcmtsb2Fkc1Rhc2sgPSB7IHRpdGxlOiAnRGVwbG95IFdvcmtsb2FkcyBPVScsIGNhdGVnb3J5OiBtYXNDYXRlZ29yeSwgZGV0YWlsOiBgRGVwbG95IFdvcmtsb2FkcyBPVSBpbiBBV1MgT3JnYW5pemF0aW9uYCB9O1xuICAgICAgICB0YXNrcy5wdXNoKHdvcmtsb2Fkc1Rhc2spO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gYCR7d29ya2xvYWRzVGFzay50aXRsZX0gLSAke3dvcmtsb2Fkc1Rhc2suY2F0ZWdvcnl9IC0gJHt3b3JrbG9hZHNUYXNrLmRldGFpbH1gO1xuICAgICAgICByZXBvcnQgKz0gYFxcbiAgJHttZXNzYWdlfWA7XG4gICAgfVxuICAgIGlmICghc2VjdXJpdHlGb3VuZCkge1xuICAgICAgICBjb25zdCBzZWN1cml0eVRhc2sgPSB7IHRpdGxlOiAnRGVwbG95IFNlY3VyaXR5IE9VJywgY2F0ZWdvcnk6IG1hc0NhdGVnb3J5LCBkZXRhaWw6IGBEZXBsb3kgU2VjdXJpdHkgT1UgaW4gQVdTIE9yZ2FuaXphdGlvbmAgfTtcbiAgICAgICAgdGFza3MucHVzaChzZWN1cml0eVRhc2spO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gYCR7c2VjdXJpdHlUYXNrLnRpdGxlfSAtICR7c2VjdXJpdHlUYXNrLmNhdGVnb3J5fSAtICR7c2VjdXJpdHlUYXNrLmRldGFpbH1gO1xuICAgICAgICByZXBvcnQgKz0gYFxcbiAgJHttZXNzYWdlfWA7XG4gICAgfVxuICAgIGlmICghaW5mcmFzdHJ1Y3R1cmVGb3VuZCkge1xuICAgICAgICBjb25zdCBpbmZyYXN0cnVjdHVyZVRhc2sgPSB7IHRpdGxlOiAnRGVwbG95IEluZnJhc3RydWN0dXJlIE9VJywgY2F0ZWdvcnk6IG1hc0NhdGVnb3J5LCBkZXRhaWw6IGBEZXBsb3kgSW5mcmFzdHJ1Y3R1cmUgT1UgaW4gQVdTIE9yZ2FuaXphdGlvbmAgfTtcbiAgICAgICAgdGFza3MucHVzaChpbmZyYXN0cnVjdHVyZVRhc2spO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gYCR7aW5mcmFzdHJ1Y3R1cmVUYXNrLnRpdGxlfSAtICR7aW5mcmFzdHJ1Y3R1cmVUYXNrLmNhdGVnb3J5fSAtICR7aW5mcmFzdHJ1Y3R1cmVUYXNrLmRldGFpbH1gO1xuICAgICAgICByZXBvcnQgKz0gYFxcbiAgJHttZXNzYWdlfWA7XG4gICAgfVxuICAgIHJlcG9ydCArPSBgXFxuXFxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqYDtcbiAgICByZXBvcnQgKz0gYFxcbiAgICAgICAgICAgICAgICAgIExBTkRJTkcgWk9ORWA7XG4gICAgcmVwb3J0ICs9IGBcXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipgO1xuICAgIHJlcG9ydCArPSBgXFxuXFxuQVdTIENPTlRST0wgVE9XRVJcXG5gO1xuICAgIGlmIChhc3Nlc3NtZW50LmNvbnRyb2xUb3dlclJlZ2lvbikge1xuICAgICAgICByZXBvcnQgKz0gYFxcbiAgQ29udHJvbCBUb3dlciBob21lIHJlZ2lvbjogJHthc3Nlc3NtZW50LmNvbnRyb2xUb3dlclJlZ2lvbn1gO1xuICAgICAgICByZXBvcnQgKz0gYFxcbiAgQ29udHJvbCBUb3dlciBzdGF0dXM6ICR7YXNzZXNzbWVudC5jb250cm9sVG93ZXJTdGF0dXN9YDtcbiAgICAgICAgcmVwb3J0ICs9IGBcXG4gIENvbnRyb2wgVG93ZXIgTGFuZGluZyBab25lIHZlcnNpb246ICR7YXNzZXNzbWVudC5jb250cm9sVG93ZXJEZXBsb3llZFZlcnNpb259YDtcbiAgICAgICAgcmVwb3J0ICs9IGBcXG4gIExhdGVzdCBhdmFpbGFibGUgdmVyc2lvbjogJHthc3Nlc3NtZW50LmNvbnRyb2xUb3dlckxhdGVzdEF2YWlsYWJsZVZlcnNpb259YDtcbiAgICAgICAgcmVwb3J0ICs9IGBcXG4gIERyaWZ0IFN0YXR1czogJHthc3Nlc3NtZW50LmNvbnRyb2xUb3dlckRyaWZ0U3RhdHVzfWA7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXBvcnQgKz0gYFxcbiAgQVdTIENvbnRyb2wgVG93ZXIgaXMgbm90IGRlcGxveWVkIGluIHRoZSBBV1MgT3JnYW5pemF0aW9uYDtcbiAgICB9XG4gICAgcmVwb3J0ICs9IGBcXG5cXG5MQU5ESU5HIFpPTkUgVEFTS1M6YDtcbiAgICBsZXQgbHpUYXNrTnVtYmVyID0gMTtcbiAgICBjb25zdCBseldheXBvaW50ID0gXCJMYW5kaW5nIFpvbmVcIjtcbiAgICBpZiAoYXNzZXNzbWVudC5jb250cm9sVG93ZXJSZWdpb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zdCBkZXBsb3lDb250cm9sVG93ZXJUYXNrID0geyB0aXRsZTogJ0RlcGxveSBBV1MgQ29udHJvbCBUb3dlcicsIGNhdGVnb3J5OiBseldheXBvaW50LCBkZXRhaWw6IGBEZXBsb3kgQVdTIENvbnRyb2wgVG93ZXIgaW4gQVdTIE9yZ2FuaXphdGlvbmAgfTtcbiAgICAgICAgdGFza3MucHVzaChkZXBsb3lDb250cm9sVG93ZXJUYXNrKTtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGAke2RlcGxveUNvbnRyb2xUb3dlclRhc2sudGl0bGV9IC0gJHtkZXBsb3lDb250cm9sVG93ZXJUYXNrLmNhdGVnb3J5fSAtICR7ZGVwbG95Q29udHJvbFRvd2VyVGFzay5kZXRhaWx9YDtcbiAgICAgICAgcmVwb3J0ICs9IGBcXG4gICR7bWVzc2FnZX1gO1xuICAgIH1cbiAgICBpZiAoYXNzZXNzbWVudC5jb250cm9sVG93ZXJEcmlmdFN0YXR1cyA9PT0gJ0RSSUZURUQnKSB7XG4gICAgICAgIGNvbnN0IGZpeEx6RHJpZnRUYXNrID0geyB0aXRsZTogJ0ZpeCBkcmlmdCBpbiBkZXBsb3llZCBsYW5kaW5nIHpvbmUnLCBjYXRlZ29yeTogbHpXYXlwb2ludCwgZGV0YWlsOiBgRml4IGRyaWZ0IGluIGRlcGxveWVkIGxhbmRpbmcgem9uZWAgfTtcbiAgICAgICAgdGFza3MucHVzaChmaXhMekRyaWZ0VGFzayk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBgJHtmaXhMekRyaWZ0VGFzay50aXRsZX0gLSAke2ZpeEx6RHJpZnRUYXNrLmNhdGVnb3J5fSAtICR7Zml4THpEcmlmdFRhc2suZGV0YWlsfWA7XG4gICAgICAgIHJlcG9ydCArPSBgXFxuICAke21lc3NhZ2V9YDtcbiAgICB9XG4gICAgaWYgKGFzc2Vzc21lbnQuY29udHJvbFRvd2VyRGVwbG95ZWRWZXJzaW9uICE9PSBhc3Nlc3NtZW50LmNvbnRyb2xUb3dlckxhdGVzdEF2YWlsYWJsZVZlcnNpb24pIHtcbiAgICAgICAgY29uc3QgdXBkYXRlQ29udHJvbFRvd2VyVGFzayA9IHsgdGl0bGU6IGBVcGRhdGUgQVdTIENvbnRyb2wgVG93ZXIgdG8gbGF0ZXN0IHZlcnNpb25gLCBjYXRlZ29yeTogbHpXYXlwb2ludCwgZGV0YWlsOiBgVXBkYXRlIEFXUyBDb250cm9sIFRvd2VyIHRvIHZlcnNpb24gJHthc3Nlc3NtZW50LmNvbnRyb2xUb3dlckxhdGVzdEF2YWlsYWJsZVZlcnNpb259YCB9O1xuICAgICAgICB0YXNrcy5wdXNoKHVwZGF0ZUNvbnRyb2xUb3dlclRhc2spO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gYCR7dXBkYXRlQ29udHJvbFRvd2VyVGFzay50aXRsZX0gLSAke3VwZGF0ZUNvbnRyb2xUb3dlclRhc2suY2F0ZWdvcnl9IC0gJHt1cGRhdGVDb250cm9sVG93ZXJUYXNrLmRldGFpbH1gO1xuICAgICAgICByZXBvcnQgKz0gYFxcbiAgJHttZXNzYWdlfWA7XG4gICAgfVxuICAgIGlmICghYXNzZXNzbWVudC5vcmdTZXJ2aWNlcyB8fCAhYXNzZXNzbWVudC5vcmdTZXJ2aWNlcy5maW5kKHBhcmFtID0+IHBhcmFtLnNlcnZpY2UgPT09ICdtZW1iZXIub3JnLnN0YWNrc2V0cy5jbG91ZGZvcm1hdGlvbi5hbWF6b25hd3MuY29tJykpIHtcbiAgICAgICAgY29uc3Qgb3JnU2VydmljZUNmbkVuYWJsZVRhc2sgPSB7IHRpdGxlOiAnRW5hYmxlIEFXUyBDbG91ZEZvcm1hdGlvbicsIGNhdGVnb3J5OiBseldheXBvaW50LCBkZXRhaWw6IGBFbmFibGUgQVdTIENsb3VkRm9ybWF0aW9uIGluIEFXUyBPcmdhbml6YXRpb25gIH07XG4gICAgICAgIHRhc2tzLnB1c2gob3JnU2VydmljZUNmbkVuYWJsZVRhc2spO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gYCR7b3JnU2VydmljZUNmbkVuYWJsZVRhc2sudGl0bGV9IC0gJHtvcmdTZXJ2aWNlQ2ZuRW5hYmxlVGFzay5jYXRlZ29yeX0gLSAke29yZ1NlcnZpY2VDZm5FbmFibGVUYXNrLmRldGFpbH1gO1xuICAgICAgICByZXBvcnQgKz0gYFxcbiAgJHttZXNzYWdlfWA7XG4gICAgfVxuICAgIHJlcG9ydCArPSBgXFxuXFxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqYDtcbiAgICByZXBvcnQgKz0gYFxcbiAgICAgICAgICAgICAgICAgICAgSURFTlRJVFlgO1xuICAgIHJlcG9ydCArPSBgXFxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqYDtcbiAgICBpZiAoYXNzZXNzbWVudC5pZGNJbmZvKSB7XG4gICAgICAgIHJlcG9ydCArPSBgXFxuXFxuQVdTIElBTSBJREVOVElUWSBDRU5URVJcXG5gO1xuICAgICAgICByZXBvcnQgKz0gYFxcbiAgSWRDIFJlZ2lvbjogJHthc3Nlc3NtZW50LmlkY0luZm8ucmVnaW9ufWA7XG4gICAgICAgIHJlcG9ydCArPSBgXFxuICBJZEMgQVJOOiAke2Fzc2Vzc21lbnQuaWRjSW5mby5hcm59YDtcbiAgICAgICAgcmVwb3J0ICs9IGBcXG4gIElkQyBJbnN0YW5jZSBJZDogJHthc3Nlc3NtZW50LmlkY0luZm8uaWR9YDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJlcG9ydCArPSBgXFxuXFxuQVdTIElBTSBJREVOVElUWSBDRU5URVIgTk9UIEZPVU5EXFxuYDtcbiAgICB9XG4gICAgcmVwb3J0ICs9IGBcXG5cXG5JREVOVElUWSBUQVNLUzpgO1xuICAgIGNvbnN0IHNzb0NhdGVnb3J5ID0gJ0lkZW50aXR5JztcbiAgICBpZiAoIWFzc2Vzc21lbnQub3JnU2VydmljZXMgfHwgIWFzc2Vzc21lbnQub3JnU2VydmljZXMuZmluZChwYXJhbSA9PiBwYXJhbS5zZXJ2aWNlID09PSAnc3NvLmFtYXpvbmF3cy5jb20nKSkge1xuICAgICAgICBjb25zdCBzc29UYXNrID0geyB0aXRsZTogJ0VuYWJsZSBBV1MgU2luZ2xlIFNpZ24tT24nLCBjYXRlZ29yeTogc3NvQ2F0ZWdvcnksIGRldGFpbDogYEVuYWJsZSBBV1MgU2luZ2xlIFNpZ24tT24gaW4gQVdTIE9yZ2FuaXphdGlvbmAgfTtcbiAgICAgICAgdGFza3MucHVzaChzc29UYXNrKTtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGAke3Nzb1Rhc2sudGl0bGV9IC0gJHtzc29UYXNrLmNhdGVnb3J5fSAtICR7c3NvVGFzay5kZXRhaWx9YDtcbiAgICAgICAgcmVwb3J0ICs9IGBcXG4gICR7bWVzc2FnZX1gO1xuICAgIH1cbiAgICBpZiAoIWlkZW50aXR5RGVsZWdhdGVkKSB7XG4gICAgICAgIGNvbnN0IGlkZW50aXR5RGVsZWdhdGVkVGFzayA9IHsgdGl0bGU6ICdEZWxlZ2F0ZSBhZG1pbmlzdHJhdGlvbiB0byBBV1MgSUFNIElkZW50aXR5IENlbnRlcicsIGNhdGVnb3J5OiBzc29DYXRlZ29yeSwgZGV0YWlsOiBgRGVsZWdhdGUgYWRtaW5pc3RyYXRpb24gdG8gQVdTIElBTSBJZGVudGl0eSBDZW50ZXJgIH07XG4gICAgICAgIHRhc2tzLnB1c2goaWRlbnRpdHlEZWxlZ2F0ZWRUYXNrKTtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGAke2lkZW50aXR5RGVsZWdhdGVkVGFzay50aXRsZX0gLSAke2lkZW50aXR5RGVsZWdhdGVkVGFzay5jYXRlZ29yeX0gLSAke2lkZW50aXR5RGVsZWdhdGVkVGFzay5kZXRhaWx9YDtcbiAgICAgICAgcmVwb3J0ICs9IGBcXG4gICR7bWVzc2FnZX1gO1xuICAgIH1cbiAgICBpZiAoIWFzc2Vzc21lbnQuc2NwRW5hYmxlZCkge1xuICAgICAgICBjb25zdCBzc29UYXNrID0geyB0aXRsZTogJ0VuYWJsZSBBV1MgU2luZ2xlIFNpZ24tT24nLCBjYXRlZ29yeTogc3NvQ2F0ZWdvcnksIGRldGFpbDogYEVuYWJsZSBBV1MgU2luZ2xlIFNpZ24tT24gaW4gQVdTIE9yZ2FuaXphdGlvbmAgfTtcbiAgICAgICAgdGFza3MucHVzaChzc29UYXNrKTtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGAke3Nzb1Rhc2sudGl0bGV9IC0gJHtzc29UYXNrLmNhdGVnb3J5fSAtICR7c3NvVGFzay5kZXRhaWx9YDtcbiAgICAgICAgcmVwb3J0ICs9IGBcXG4gICR7bWVzc2FnZX1gO1xuICAgIH1cbiAgICByZXBvcnQgKz0gYFxcblxcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKmA7XG4gICAgcmVwb3J0ICs9IGBcXG4gICAgICAgICAgICAgICAgICAgIFNFQ1VSSVRZYDtcbiAgICByZXBvcnQgKz0gYFxcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKmA7XG4gICAgcmVwb3J0ICs9IGBcXG5cXG5BV1MgU0VDVVJJVFkgU0VSVklDRVMgRU5BQkxFRCBJTiBBV1MgT1JHQU5JWkFUSU9OOlxcbmA7XG4gICAgaWYgKGFzc2Vzc21lbnQub3JnU2VydmljZXMgJiYgYXNzZXNzbWVudC5vcmdTZXJ2aWNlcy5maW5kKHBhcmFtID0+IHBhcmFtLnNlcnZpY2UgPT09ICdndWFyZGR1dHkuYW1hem9uYXdzLmNvbScpKSB7XG4gICAgICAgIHJlcG9ydCArPSBgXFxuICBBV1MgR3VhcmREdXR5YDtcbiAgICB9XG4gICAgaWYgKGFzc2Vzc21lbnQub3JnU2VydmljZXMgJiYgYXNzZXNzbWVudC5vcmdTZXJ2aWNlcy5maW5kKHBhcmFtID0+IHBhcmFtLnNlcnZpY2UgPT09ICdzZWN1cml0eWh1Yi5hbWF6b25hd3MuY29tJykpIHtcbiAgICAgICAgcmVwb3J0ICs9IGBcXG4gIEFXUyBTZWN1cml0eSBIdWJgO1xuICAgIH1cbiAgICBpZiAoYXNzZXNzbWVudC5vcmdTZXJ2aWNlcyAmJiBhc3Nlc3NtZW50Lm9yZ1NlcnZpY2VzLmZpbmQocGFyYW0gPT4gcGFyYW0uc2VydmljZSA9PT0gJ2FjY2Vzcy1hbmFseXplci5hbWF6b25hd3MuY29tJykpIHtcbiAgICAgICAgcmVwb3J0ICs9IGBcXG4gIElBTSBBY2Nlc3MgQW5hbHl6ZXJgO1xuICAgIH1cbiAgICBpZiAoYXNzZXNzbWVudC5vcmdTZXJ2aWNlcyAmJiBhc3Nlc3NtZW50Lm9yZ1NlcnZpY2VzLmZpbmQocGFyYW0gPT4gcGFyYW0uc2VydmljZSA9PT0gJ21hY2llLmFtYXpvbmF3cy5jb20nKSkge1xuICAgICAgICByZXBvcnQgKz0gYFxcbiAgTWFjaWVgO1xuICAgIH1cbiAgICBpZiAoYXNzZXNzbWVudC5vcmdTZXJ2aWNlcyAmJiBhc3Nlc3NtZW50Lm9yZ1NlcnZpY2VzLmZpbmQocGFyYW0gPT4gcGFyYW0uc2VydmljZSA9PT0gJ3N0b3JhZ2UtbGVucy5zMy5hbWF6b25hd3MuY29tJykpIHtcbiAgICAgICAgcmVwb3J0ICs9IGBcXG4gIEFtYXpvbiBTMyBTdG9yYWdlIExlbnNgO1xuICAgIH1cbiAgICBpZiAoYXNzZXNzbWVudC5vcmdTZXJ2aWNlcyAmJiBhc3Nlc3NtZW50Lm9yZ1NlcnZpY2VzLmZpbmQocGFyYW0gPT4gcGFyYW0uc2VydmljZSA9PT0gJ2luc3BlY3RvcjIuYW1hem9uYXdzLmNvbScpKSB7XG4gICAgICAgIHJlcG9ydCArPSBgXFxuICBBbWF6b24gSW5zcGVjdG9yYDtcbiAgICB9XG4gICAgaWYgKGFzc2Vzc21lbnQub3JnU2VydmljZXMgJiYgYXNzZXNzbWVudC5vcmdTZXJ2aWNlcy5maW5kKHBhcmFtID0+IHBhcmFtLnNlcnZpY2UgPT09ICdjbG91ZHRyYWlsLmFtYXpvbmF3cy5jb20nKSkge1xuICAgICAgICByZXBvcnQgKz0gYFxcbiAgQVdTIENsb3VkVHJhaWxgO1xuICAgIH1cbiAgICBpZiAoYXNzZXNzbWVudC5vcmdTZXJ2aWNlcyAmJiBhc3Nlc3NtZW50Lm9yZ1NlcnZpY2VzLmZpbmQocGFyYW0gPT4gcGFyYW0uc2VydmljZSA9PT0gJ2NvbmZpZy5hbWF6b25hd3MuY29tJykpIHtcbiAgICAgICAgcmVwb3J0ICs9IGBcXG4gIEFXUyBDb25maWdgO1xuICAgIH1cbiAgICByZXBvcnQgKz0gYFxcblxcblNFQ1VSSVRZIFRBU0tTOmA7XG4gICAgY29uc3Qgc2VjQ2F0ZWdvcnkgPSBcIlNlY3VyaXR5XCI7XG4gICAgaWYgKCFhc3Nlc3NtZW50LnNjcEVuYWJsZWQpIHtcbiAgICAgICAgY29uc3Qgc3NvVGFzayA9IHsgdGl0bGU6ICdFbmFibGUgQVdTIFNpbmdsZSBTaWduLU9uJywgY2F0ZWdvcnk6IHNlY0NhdGVnb3J5LCBkZXRhaWw6IGBFbmFibGUgQVdTIFNpbmdsZSBTaWduLU9uIGluIEFXUyBPcmdhbml6YXRpb25gIH07XG4gICAgICAgIHRhc2tzLnB1c2goc3NvVGFzayk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBgJHtzc29UYXNrLnRpdGxlfSAtICR7c3NvVGFzay5jYXRlZ29yeX0gLSAke3Nzb1Rhc2suZGV0YWlsfWA7XG4gICAgICAgIHJlcG9ydCArPSBgXFxuICAke21lc3NhZ2V9YDtcbiAgICB9XG4gICAgaWYgKCFhc3Nlc3NtZW50Lm9yZ1NlcnZpY2VzIHx8ICFhc3Nlc3NtZW50Lm9yZ1NlcnZpY2VzLmZpbmQocGFyYW0gPT4gcGFyYW0uc2VydmljZSA9PT0gJ2d1YXJkZHV0eS5hbWF6b25hd3MuY29tJykpIHtcbiAgICAgICAgY29uc3QgdGFza0d1YXJkRHV0eURlbGVnYXRlZCA9IHsgdGl0bGU6ICdEZWxlZ2F0ZSBhZG1pbmlzdHJhdGlvbiB0byBBV1MgR3VhcmREdXR5JywgY2F0ZWdvcnk6IHNlY0NhdGVnb3J5LCBkZXRhaWw6IGBEZWxlZ2F0ZSBhZG1pbmlzdHJhdGlvbiB0byBBV1MgR3VhcmREdXR5YCB9O1xuICAgICAgICB0YXNrcy5wdXNoKHRhc2tHdWFyZER1dHlEZWxlZ2F0ZWQpO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gYCR7dGFza0d1YXJkRHV0eURlbGVnYXRlZC50aXRsZX0gLSAke3Rhc2tHdWFyZER1dHlEZWxlZ2F0ZWQuY2F0ZWdvcnl9IC0gJHt0YXNrR3VhcmREdXR5RGVsZWdhdGVkLmRldGFpbH1gO1xuICAgICAgICByZXBvcnQgKz0gYFxcbiAgJHttZXNzYWdlfWA7XG4gICAgfVxuICAgIGlmICghYXNzZXNzbWVudC5vcmdTZXJ2aWNlcyB8fCAhYXNzZXNzbWVudC5vcmdTZXJ2aWNlcy5maW5kKHBhcmFtID0+IHBhcmFtLnNlcnZpY2UgPT09ICdzZWN1cml0eWh1Yi5hbWF6b25hd3MuY29tJykpIHtcbiAgICAgICAgY29uc3QgdGFza1NlY3VyaXR5SHViRGVsZWdhdGVkID0geyB0aXRsZTogJ0RlbGVnYXRlIGFkbWluaXN0cmF0aW9uIHRvIEFXUyBTZWN1cml0eSBIdWInLCBjYXRlZ29yeTogc2VjQ2F0ZWdvcnksIGRldGFpbDogYERlbGVnYXRlIGFkbWluaXN0cmF0aW9uIHRvIEFXUyBTZWN1cml0eSBIdWJgIH07XG4gICAgICAgIHRhc2tzLnB1c2godGFza1NlY3VyaXR5SHViRGVsZWdhdGVkKTtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGAke3Rhc2tTZWN1cml0eUh1YkRlbGVnYXRlZC50aXRsZX0gLSAke3Rhc2tTZWN1cml0eUh1YkRlbGVnYXRlZC5jYXRlZ29yeX0gLSAke3Rhc2tTZWN1cml0eUh1YkRlbGVnYXRlZC5kZXRhaWx9YDtcbiAgICAgICAgcmVwb3J0ICs9IGBcXG4gICR7bWVzc2FnZX1gO1xuICAgIH1cbiAgICBpZiAoIWFzc2Vzc21lbnQub3JnU2VydmljZXMgfHwgIWFzc2Vzc21lbnQub3JnU2VydmljZXMuZmluZChwYXJhbSA9PiBwYXJhbS5zZXJ2aWNlID09PSAnYWNjZXNzLWFuYWx5emVyLmFtYXpvbmF3cy5jb20nKSkge1xuICAgICAgICBjb25zdCB0YXNrSWFtQWNjZXNzQW5hbHl6ZXJEZWxlZ2F0ZWQgPSB7IHRpdGxlOiAnRGVsZWdhdGUgYWRtaW5pc3RyYXRpb24gdG8gQVdTIElBTSBBY2Nlc3MgQW5hbHl6ZXInLCBjYXRlZ29yeTogc2VjQ2F0ZWdvcnksIGRldGFpbDogYERlbGVnYXRlIGFkbWluaXN0cmF0aW9uIHRvIEFXUyBJQU0gQWNjZXNzIEFuYWx5emVyYCB9O1xuICAgICAgICB0YXNrcy5wdXNoKHRhc2tJYW1BY2Nlc3NBbmFseXplckRlbGVnYXRlZCk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBgJHt0YXNrSWFtQWNjZXNzQW5hbHl6ZXJEZWxlZ2F0ZWQudGl0bGV9IC0gJHt0YXNrSWFtQWNjZXNzQW5hbHl6ZXJEZWxlZ2F0ZWQuY2F0ZWdvcnl9IC0gJHt0YXNrSWFtQWNjZXNzQW5hbHl6ZXJEZWxlZ2F0ZWQuZGV0YWlsfWA7XG4gICAgICAgIHJlcG9ydCArPSBgXFxuICAke21lc3NhZ2V9YDtcbiAgICB9XG4gICAgaWYgKCFhc3Nlc3NtZW50Lm9yZ1NlcnZpY2VzIHx8ICFhc3Nlc3NtZW50Lm9yZ1NlcnZpY2VzLmZpbmQocGFyYW0gPT4gcGFyYW0uc2VydmljZSA9PT0gJ2Nsb3VkdHJhaWwuYW1hem9uYXdzLmNvbScpKSB7XG4gICAgICAgIGNvbnN0IHRhc2tDbG91ZFRyYWlsRGVsZWdhdGVkID0geyB0aXRsZTogJ0RlbGVnYXRlIGFkbWluaXN0cmF0aW9uIHRvIEFXUyBDbG91ZFRyYWlsJywgY2F0ZWdvcnk6IHNlY0NhdGVnb3J5LCBkZXRhaWw6IGBEZWxlZ2F0ZSBhZG1pbmlzdHJhdGlvbiB0byBBV1MgQ2xvdWRUcmFpbGAgfTtcbiAgICAgICAgdGFza3MucHVzaCh0YXNrQ2xvdWRUcmFpbERlbGVnYXRlZCk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBgJHt0YXNrQ2xvdWRUcmFpbERlbGVnYXRlZC50aXRsZX0gLSAke3Rhc2tDbG91ZFRyYWlsRGVsZWdhdGVkLmNhdGVnb3J5fSAtICR7dGFza0Nsb3VkVHJhaWxEZWxlZ2F0ZWQuZGV0YWlsfWA7XG4gICAgICAgIHJlcG9ydCArPSBgXFxuICAke21lc3NhZ2V9YDtcbiAgICB9XG4gICAgaWYgKCFhc3Nlc3NtZW50Lm9yZ1NlcnZpY2VzIHx8ICFhc3Nlc3NtZW50Lm9yZ1NlcnZpY2VzLmZpbmQocGFyYW0gPT4gcGFyYW0uc2VydmljZSA9PT0gJ2NvbmZpZy5hbWF6b25hd3MuY29tJykpIHtcbiAgICAgICAgY29uc3QgdGFza0NvbmZpZ0RlbGVnYXRlZCA9IHsgdGl0bGU6ICdEZWxlZ2F0ZSBhZG1pbmlzdHJhdGlvbiB0byBBV1MgQ29uZmlnJywgY2F0ZWdvcnk6IHNlY0NhdGVnb3J5LCBkZXRhaWw6IGBEZWxlZ2F0ZSBhZG1pbmlzdHJhdGlvbiB0byBBV1MgQ29uZmlnYCB9O1xuICAgICAgICB0YXNrcy5wdXNoKHRhc2tDb25maWdEZWxlZ2F0ZWQpO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gYCR7dGFza0NvbmZpZ0RlbGVnYXRlZC50aXRsZX0gLSAke3Rhc2tDb25maWdEZWxlZ2F0ZWQuY2F0ZWdvcnl9IC0gJHt0YXNrQ29uZmlnRGVsZWdhdGVkLmRldGFpbH1gO1xuICAgICAgICByZXBvcnQgKz0gYFxcbiAgJHttZXNzYWdlfWA7XG4gICAgfVxuICAgIGlmICghc2VjdXJpdHlIdWJEZWxlZ2F0ZWQpIHtcbiAgICAgICAgY29uc3QgdGFza1NlY3VyaXR5SHViRGVsZWdhdGVkID0geyB0aXRsZTogJ0RlbGVnYXRlIGFkbWluaXN0cmF0aW9uIG9mIEFXUyBTZWN1cml0eSBIdWInLCBjYXRlZ29yeTogc2VjQ2F0ZWdvcnksIGRldGFpbDogYERlbGVnYXRlIGFkbWluaXN0cmF0aW9uIHRvIEFXUyBTZWN1cml0eSBIdWJgIH07XG4gICAgICAgIHRhc2tzLnB1c2godGFza1NlY3VyaXR5SHViRGVsZWdhdGVkKTtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGAke3Rhc2tTZWN1cml0eUh1YkRlbGVnYXRlZC50aXRsZX0gLSAke3Rhc2tTZWN1cml0eUh1YkRlbGVnYXRlZC5jYXRlZ29yeX0gLSAke3Rhc2tTZWN1cml0eUh1YkRlbGVnYXRlZC5kZXRhaWx9YDtcbiAgICAgICAgcmVwb3J0ICs9IGBcXG4gICR7bWVzc2FnZX1gO1xuICAgIH1cbiAgICBpZiAoIWd1YXJkRHV0eURlbGVnYXRlZCkge1xuICAgICAgICBjb25zdCB0YXNrR3VhcmREdXR5RGVsZWdhdGVkID0geyB0aXRsZTogJ0RlbGVnYXRlIGFkbWluaXN0cmF0aW9uIG9mIEFXUyBHdWFyZER1dHknLCBjYXRlZ29yeTogc2VjQ2F0ZWdvcnksIGRldGFpbDogYERlbGVnYXRlIGFkbWluaXN0cmF0aW9uIHRvIEFXUyBHdWFyZER1dHlgIH07XG4gICAgICAgIHRhc2tzLnB1c2godGFza0d1YXJkRHV0eURlbGVnYXRlZCk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBgJHt0YXNrR3VhcmREdXR5RGVsZWdhdGVkLnRpdGxlfSAtICR7dGFza0d1YXJkRHV0eURlbGVnYXRlZC5jYXRlZ29yeX0gLSAke3Rhc2tHdWFyZER1dHlEZWxlZ2F0ZWQuZGV0YWlsfWA7XG4gICAgICAgIHJlcG9ydCArPSBgXFxuICAke21lc3NhZ2V9YDtcbiAgICB9XG4gICAgaWYgKCFjb25maWdEZWxlZ2F0ZWQpIHtcbiAgICAgICAgY29uc3QgdGFza0NvbmZpZ0RlbGVnYXRlZCA9IHsgdGl0bGU6ICdEZWxlZ2F0ZSBhZG1pbmlzdHJhdGlvbiBvZiBBV1MgQ29uZmlnJywgY2F0ZWdvcnk6IHNlY0NhdGVnb3J5LCBkZXRhaWw6IGBEZWxlZ2F0ZSBhZG1pbmlzdHJhdGlvbiB0byBBV1MgQ29uZmlnYCB9O1xuICAgICAgICB0YXNrcy5wdXNoKHRhc2tDb25maWdEZWxlZ2F0ZWQpO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gYCR7dGFza0NvbmZpZ0RlbGVnYXRlZC50aXRsZX0gLSAke3Rhc2tDb25maWdEZWxlZ2F0ZWQuY2F0ZWdvcnl9IC0gJHt0YXNrQ29uZmlnRGVsZWdhdGVkLmRldGFpbH1gO1xuICAgICAgICByZXBvcnQgKz0gYFxcbiAgJHttZXNzYWdlfWA7XG4gICAgfVxuICAgIGlmICghaWFtQWNjZXNzQW5hbHl6ZXJEZWxlZ2F0ZWQpIHtcbiAgICAgICAgY29uc3QgdGFza0lhbUFjY2Vzc0FuYWx5emVyRGVsZWdhdGVkID0geyB0aXRsZTogJ0RlbGVnYXRlIGFkbWluaXN0cmF0aW9uIG9mIEFXUyBJQU0gQWNjZXNzIEFuYWx5emVyJywgY2F0ZWdvcnk6IHNlY0NhdGVnb3J5LCBkZXRhaWw6IGBEZWxlZ2F0ZSBhZG1pbmlzdHJhdGlvbiB0byBBV1MgSUFNIEFjY2VzcyBBbmFseXplcmAgfTtcbiAgICAgICAgdGFza3MucHVzaCh0YXNrSWFtQWNjZXNzQW5hbHl6ZXJEZWxlZ2F0ZWQpO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gYCR7dGFza0lhbUFjY2Vzc0FuYWx5emVyRGVsZWdhdGVkLnRpdGxlfSAtICR7dGFza0lhbUFjY2Vzc0FuYWx5emVyRGVsZWdhdGVkLmNhdGVnb3J5fSAtICR7dGFza0lhbUFjY2Vzc0FuYWx5emVyRGVsZWdhdGVkLmRldGFpbH1gO1xuICAgICAgICByZXBvcnQgKz0gYFxcbiAgJHttZXNzYWdlfWA7XG4gICAgfVxuICAgIGlmICghczNTdG9yYWdlTGVuc0RlbGVnYXRlZCkge1xuICAgICAgICBjb25zdCB0YXNrUzNTdG9yYWdlTGVuc0RlbGVnYXRlZCA9IHsgdGl0bGU6ICdEZWxlZ2F0ZSBhZG1pbmlzdHJhdGlvbiBvZiBBbWF6b24gUzMgU3RvcmFnZSBMZW5zJywgY2F0ZWdvcnk6IHNlY0NhdGVnb3J5LCBkZXRhaWw6IGBEZWxlZ2F0ZSBhZG1pbmlzdHJhdGlvbiB0byBBbWF6b24gUzMgU3RvcmFnZSBMZW5zYCB9O1xuICAgICAgICB0YXNrcy5wdXNoKHRhc2tTM1N0b3JhZ2VMZW5zRGVsZWdhdGVkKTtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGAke3Rhc2tTM1N0b3JhZ2VMZW5zRGVsZWdhdGVkLnRpdGxlfSAtICR7dGFza1MzU3RvcmFnZUxlbnNEZWxlZ2F0ZWQuY2F0ZWdvcnl9IC0gJHt0YXNrUzNTdG9yYWdlTGVuc0RlbGVnYXRlZC5kZXRhaWx9YDtcbiAgICAgICAgcmVwb3J0ICs9IGBcXG4gICR7bWVzc2FnZX1gO1xuICAgIH1cbiAgICByZXBvcnQgKz0gYFxcblxcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKmA7XG4gICAgcmVwb3J0ICs9IGBcXG4gICAgICAgICAgICAgICAgICAgIE5FVFdPUktgO1xuICAgIHJlcG9ydCArPSBgXFxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqYDtcbiAgICByZXBvcnQgKz0gYFxcblxcbk5FVFdPUksgVEFTS1M6YDtcbiAgICBjb25zdCBuZXR3b3JrQ2F0ZWdvcnkgPSAnTmV0d29yayc7XG4gICAgaWYgKCFhc3Nlc3NtZW50Lm9yZ1NlcnZpY2VzIHx8ICFhc3Nlc3NtZW50Lm9yZ1NlcnZpY2VzLmZpbmQocGFyYW0gPT4gcGFyYW0uc2VydmljZSA9PT0gJ2d1YXJkZHV0eS5hbWF6b25hd3MuY29tJykpIHtcbiAgICAgICAgY29uc3QgdGFza0d1YXJkRHV0eURlbGVnYXRlZCA9IHsgdGl0bGU6ICdFbmFibGUgQVdTIEd1YXJkRHV0eScsIGNhdGVnb3J5OiBuZXR3b3JrQ2F0ZWdvcnksIGRldGFpbDogYEVuYWJsZSBBV1MgR3VhcmREdXR5IGluIEFXUyBPcmdhbml6YXRpb25gIH07XG4gICAgICAgIHRhc2tzLnB1c2godGFza0d1YXJkRHV0eURlbGVnYXRlZCk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBgJHt0YXNrR3VhcmREdXR5RGVsZWdhdGVkLnRpdGxlfSAtICR7dGFza0d1YXJkRHV0eURlbGVnYXRlZC5jYXRlZ29yeX0gLSAke3Rhc2tHdWFyZER1dHlEZWxlZ2F0ZWQuZGV0YWlsfWA7XG4gICAgICAgIHJlcG9ydCArPSBgXFxuICAke21lc3NhZ2V9YDtcbiAgICB9XG4gICAgaWYgKCFhc3Nlc3NtZW50Lm9yZ1NlcnZpY2VzIHx8ICFhc3Nlc3NtZW50Lm9yZ1NlcnZpY2VzLmZpbmQocGFyYW0gPT4gcGFyYW0uc2VydmljZSA9PT0gJ2lwYW0uYW1hem9uYXdzLmNvbScpKSB7XG4gICAgICAgIGNvbnN0IG9yZ1NlcnZpY2VJcGFtVGFzayA9IHsgdGl0bGU6ICdFbmFibGUgQVdTIElQQU0nLCBjYXRlZ29yeTogbmV0d29ya0NhdGVnb3J5LCBkZXRhaWw6IGBFbmFibGUgQVdTIElQQU0gaW4gQVdTIE9yZ2FuaXphdGlvbmAgfTtcbiAgICAgICAgdGFza3MucHVzaChvcmdTZXJ2aWNlSXBhbVRhc2spO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gYCR7b3JnU2VydmljZUlwYW1UYXNrLnRpdGxlfSAtICR7b3JnU2VydmljZUlwYW1UYXNrLmNhdGVnb3J5fSAtICR7b3JnU2VydmljZUlwYW1UYXNrLmRldGFpbH1gO1xuICAgICAgICByZXBvcnQgKz0gYFxcbiAgJHttZXNzYWdlfWA7XG4gICAgfVxuICAgIGlmICghYXNzZXNzbWVudC5vcmdTZXJ2aWNlcyB8fCAhYXNzZXNzbWVudC5vcmdTZXJ2aWNlcy5maW5kKHBhcmFtID0+IHBhcmFtLnNlcnZpY2UgPT09ICdyYW0uYW1hem9uYXdzLmNvbScpKSB7XG4gICAgICAgIGNvbnN0IG9yZ1NlcnZpY2VSYW1UYXNrID0geyB0aXRsZTogJ0VuYWJsZSBBV1MgUmVzb3VyY2UgQWNjZXNzIE1hbmFnZXInLCBjYXRlZ29yeTogbmV0d29ya0NhdGVnb3J5LCBkZXRhaWw6IGBFbmFibGUgQVdTIFJlc291cmNlIEFjY2VzcyBNYW5hZ2VyIGluIEFXUyBPcmdhbml6YXRpb25gIH07XG4gICAgICAgIHRhc2tzLnB1c2gob3JnU2VydmljZVJhbVRhc2spO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gYCR7b3JnU2VydmljZVJhbVRhc2sudGl0bGV9IC0gJHtvcmdTZXJ2aWNlUmFtVGFzay5jYXRlZ29yeX0gLSAke29yZ1NlcnZpY2VSYW1UYXNrLmRldGFpbH1gO1xuICAgICAgICByZXBvcnQgKz0gYFxcbiAgJHttZXNzYWdlfWA7XG4gICAgfVxuICAgIGlmICghaXBhbURlbGVnYXRlZCkge1xuICAgICAgICBjb25zdCB0YXNrSXBhbURlbGVnYXRlZCA9IHsgdGl0bGU6ICdEZWxlZ2F0ZSBhZG1pbmlzdHJhdGlvbiBvZiBBV1MgSVBBTScsIGNhdGVnb3J5OiBuZXR3b3JrQ2F0ZWdvcnksIGRldGFpbDogYERlbGVnYXRlIGFkbWluaXN0cmF0aW9uIHRvIEFXUyBJUEFNYCB9O1xuICAgICAgICB0YXNrcy5wdXNoKHRhc2tJcGFtRGVsZWdhdGVkKTtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGAke3Rhc2tJcGFtRGVsZWdhdGVkLnRpdGxlfSAtICR7dGFza0lwYW1EZWxlZ2F0ZWQuY2F0ZWdvcnl9IC0gJHt0YXNrSXBhbURlbGVnYXRlZC5kZXRhaWx9YDtcbiAgICAgICAgcmVwb3J0ICs9IGBcXG4gICR7bWVzc2FnZX1gO1xuICAgIH1cbiAgICBpZiAoIWFzc2Vzc21lbnQuc2NwRW5hYmxlZCkge1xuICAgICAgICBjb25zdCB0YXNrU2NwRGVsZWdhdGVkID0geyB0aXRsZTogJ0VuYWJsZSBBV1MgU2VydmljZSBDb250cm9sIFBvbGljeScsIGNhdGVnb3J5OiBuZXR3b3JrQ2F0ZWdvcnksIGRldGFpbDogYEVuYWJsZSBBV1MgU2VydmljZSBDb250cm9sIFBvbGljeSBpbiBBV1MgT3JnYW5pemF0aW9uYCB9O1xuICAgICAgICB0YXNrcy5wdXNoKHRhc2tTY3BEZWxlZ2F0ZWQpO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gYCR7dGFza1NjcERlbGVnYXRlZC50aXRsZX0gLSAke3Rhc2tTY3BEZWxlZ2F0ZWQuY2F0ZWdvcnl9IC0gJHt0YXNrU2NwRGVsZWdhdGVkLmRldGFpbH1gO1xuICAgICAgICByZXBvcnQgKz0gYFxcbiAgJHttZXNzYWdlfWA7XG4gICAgfVxuICAgIHJlcG9ydCArPSBgXFxuXFxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqYDtcbiAgICByZXBvcnQgKz0gYFxcbiAgICAgICAgICAgICAgICAgIE9CU0VSVkFCSUxJVFlgO1xuICAgIHJlcG9ydCArPSBgXFxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqYDtcbiAgICByZXBvcnQgKz0gYFxcblxcbk9CU0VSVkFCSUxJVFkgVEFTS1M6YDtcbiAgICBjb25zdCBvYkNhdGVnb3J5ID0gJ09ic2VydmFiaWxpdHknO1xuICAgIGlmICghYXNzZXNzbWVudC5vcmdTZXJ2aWNlcyB8fCAhYXNzZXNzbWVudC5vcmdTZXJ2aWNlcy5maW5kKHBhcmFtID0+IHBhcmFtLnNlcnZpY2UgPT09ICdhY2NvdW50LmFtYXpvbmF3cy5jb20nKSkge1xuICAgICAgICBjb25zdCBvcmdTZXJ2aWNlQWNjb3VudFRhc2sgPSB7IHRpdGxlOiAnRW5hYmxlIEFXUyBBY2NvdW50JywgY2F0ZWdvcnk6IG9iQ2F0ZWdvcnksIGRldGFpbDogYEVuYWJsZSBBV1MgQWNjb3VudCBpbiBBV1MgT3JnYW5pemF0aW9uYCB9O1xuICAgICAgICB0YXNrcy5wdXNoKG9yZ1NlcnZpY2VBY2NvdW50VGFzayk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBgJHtvcmdTZXJ2aWNlQWNjb3VudFRhc2sudGl0bGV9IC0gJHtvcmdTZXJ2aWNlQWNjb3VudFRhc2suY2F0ZWdvcnl9IC0gJHtvcmdTZXJ2aWNlQWNjb3VudFRhc2suZGV0YWlsfWA7XG4gICAgICAgIHJlcG9ydCArPSBgXFxuICAke21lc3NhZ2V9YDtcbiAgICB9XG4gICAgaWYgKCFhY2NvdW50RGVsZWdhdGVkKSB7XG4gICAgICAgIGNvbnN0IHRhc2tBY2NvdW50RGVsZWdhdGVkID0geyB0aXRsZTogJ0RlbGVnYXRlIGFkbWluaXN0cmF0aW9uIG9mIEFXUyBBY2NvdW50JywgY2F0ZWdvcnk6IG9iQ2F0ZWdvcnksIGRldGFpbDogYERlbGVnYXRlIGFkbWluaXN0cmF0aW9uIHRvIEFXUyBBY2NvdW50YCB9O1xuICAgICAgICB0YXNrcy5wdXNoKHRhc2tBY2NvdW50RGVsZWdhdGVkKTtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGAke3Rhc2tBY2NvdW50RGVsZWdhdGVkLnRpdGxlfSAtICR7dGFza0FjY291bnREZWxlZ2F0ZWQuY2F0ZWdvcnl9IC0gJHt0YXNrQWNjb3VudERlbGVnYXRlZC5kZXRhaWx9YDtcbiAgICAgICAgcmVwb3J0ICs9IGBcXG4gICR7bWVzc2FnZX1gO1xuICAgIH1cbiAgICByZXBvcnQgKz0gYFxcblxcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKmA7XG4gICAgcmVwb3J0ICs9IGBcXG4gICAgICAgICAgICAgICBCQUNLVVAgQU5EIFJFQ09WRVJZYDtcbiAgICByZXBvcnQgKz0gYFxcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKmA7XG4gICAgcmVwb3J0ICs9IGBcXG5cXG5CQUNLVVAgQU5EIFJFQ09WRVJZIFRBU0tTOmA7XG4gICAgY29uc3QgYmFja3VwV2F5cG9pbnQgPSAnQmFja3VwIGFuZCBSZWNvdmVyeSc7XG4gICAgaWYgKCFhc3Nlc3NtZW50Lm9yZ1NlcnZpY2VzIHx8ICFhc3Nlc3NtZW50Lm9yZ1NlcnZpY2VzLmZpbmQocGFyYW0gPT4gcGFyYW0uc2VydmljZSA9PT0gJ2JhY2t1cC5hbWF6b25hd3MuY29tJykpIHtcbiAgICAgICAgY29uc3Qgb3JnU2VydmljZUJhY2t1cFRhc2sgPSB7IHRpdGxlOiAnRW5hYmxlIEFXUyBCYWNrdXAnLCBjYXRlZ29yeTogYmFja3VwV2F5cG9pbnQsIGRldGFpbDogYEVuYWJsZSBBV1MgQmFja3VwIGluIEFXUyBPcmdhbml6YXRpb25gIH07XG4gICAgICAgIHRhc2tzLnB1c2gob3JnU2VydmljZUJhY2t1cFRhc2spO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gYCR7b3JnU2VydmljZUJhY2t1cFRhc2sudGl0bGV9IC0gJHtvcmdTZXJ2aWNlQmFja3VwVGFzay5jYXRlZ29yeX0gLSAke29yZ1NlcnZpY2VCYWNrdXBUYXNrLmRldGFpbH1gO1xuICAgICAgICByZXBvcnQgKz0gYFxcbiAgJHttZXNzYWdlfWA7XG4gICAgfVxuICAgIGlmICghYmFja3VwRGVsZWdhdGVkKSB7XG4gICAgICAgIGNvbnN0IHRhc2tCYWNrdXBEZWxlZ2F0ZWQgPSB7IHRpdGxlOiAnRGVsZWdhdGUgYWRtaW5pc3RyYXRpb24gb2YgQVdTIEJhY2t1cCcsIGNhdGVnb3J5OiBiYWNrdXBXYXlwb2ludCwgZGV0YWlsOiBgRGVsZWdhdGUgYWRtaW5pc3RyYXRpb24gdG8gQVdTIEJhY2t1cGAgfTtcbiAgICAgICAgdGFza3MucHVzaCh0YXNrQmFja3VwRGVsZWdhdGVkKTtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGAke3Rhc2tCYWNrdXBEZWxlZ2F0ZWQudGl0bGV9IC0gJHt0YXNrQmFja3VwRGVsZWdhdGVkLmNhdGVnb3J5fSAtICR7dGFza0JhY2t1cERlbGVnYXRlZC5kZXRhaWx9YDtcbiAgICAgICAgcmVwb3J0ICs9IGBcXG4gICR7bWVzc2FnZX1gO1xuICAgIH1cbiAgICBpZiAoIWFzc2Vzc21lbnQuYmFja3VwUG9saWN5RW5hYmxlZCkge1xuICAgICAgICBjb25zdCBiYWNrdXBQb2xpY3lFbmFibGVkVGFzayA9IHsgdGl0bGU6ICdFbmFibGUgQVdTIEJhY2t1cCBQb2xpY3knLCBjYXRlZ29yeTogYmFja3VwV2F5cG9pbnQsIGRldGFpbDogYEVuYWJsZSBBV1MgQmFja3VwIFBvbGljeSBpbiBBV1MgT3JnYW5pemF0aW9uYCB9O1xuICAgICAgICB0YXNrcy5wdXNoKGJhY2t1cFBvbGljeUVuYWJsZWRUYXNrKTtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGAke2JhY2t1cFBvbGljeUVuYWJsZWRUYXNrLnRpdGxlfSAtICR7YmFja3VwUG9saWN5RW5hYmxlZFRhc2suY2F0ZWdvcnl9IC0gJHtiYWNrdXBQb2xpY3lFbmFibGVkVGFzay5kZXRhaWx9YDtcbiAgICAgICAgcmVwb3J0ICs9IGBcXG4gICR7bWVzc2FnZX1gO1xuICAgIH1cbiAgICBpZiAoIWFzc2Vzc21lbnQuc2NwRW5hYmxlZCkge1xuICAgICAgICBjb25zdCBlbmFibGVQb2xpY3lUeXBlVGFzayA9IHsgdGl0bGU6ICdFbmFibGUgQVdTIFNlcnZpY2UgQ29udHJvbCBQb2xpY3knLCBjYXRlZ29yeTogYmFja3VwV2F5cG9pbnQsIGRldGFpbDogYEVuYWJsZSBBV1MgU2VydmljZSBDb250cm9sIFBvbGljeSBpbiBBV1MgT3JnYW5pemF0aW9uYCB9O1xuICAgICAgICB0YXNrcy5wdXNoKGVuYWJsZVBvbGljeVR5cGVUYXNrKTtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGAke2VuYWJsZVBvbGljeVR5cGVUYXNrLnRpdGxlfSAtICR7ZW5hYmxlUG9saWN5VHlwZVRhc2suY2F0ZWdvcnl9IC0gJHtlbmFibGVQb2xpY3lUeXBlVGFzay5kZXRhaWx9YDtcbiAgICAgICAgcmVwb3J0ICs9IGBcXG4gICR7bWVzc2FnZX1gO1xuICAgIH1cbiAgICByZXBvcnQgKz0gYFxcblxcblxcbiAgRU5EIFJFVklFV2A7XG4gICAgY29uc3QgcmVwb3J0RmlsZVBhdGggPSBcIi4vY2ZhdC50eHRcIjtcbiAgICBjb25zb2xlLmxvZyhgY29tcGlsaW5nIHJlcG9ydC4uLmApO1xuICAgIGNvbnNvbGUubG9nKGBzYXZpbmcgcmVwb3J0IHRvIC4vY2ZhdC9jZmF0LnR4dC4uLmApO1xuICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGVQYXRoLCByZXBvcnQpO1xuICAgIHJldHVybiB0YXNrcztcbn1cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZVJlcG9ydDtcbiIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSByZXF1aXJlKFwicGF0aFwiKTsiLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gcmVxdWlyZShcImFyY2hpdmVyXCIpOyIsImltcG9ydCB7IGRlZmluZUFjY291bnRUeXBlIH0gZnJvbSAnLi9zcmMvYWN0aW9ucy9kZWZpbmUtYWNjb3VudC10eXBlLmpzJztcbmltcG9ydCBjaGVja0lhbVVzZXJzIGZyb20gJy4vc3JjL2FjdGlvbnMvY2hlY2staWFtLXVzZXJzLmpzJztcbmltcG9ydCBnZXRFbmFibGVkT3JnUG9saWN5VHlwZXMgZnJvbSAnLi9zcmMvYWN0aW9ucy9nZXQtZW5hYmxlZC1vcmctcG9saWN5LXR5cGVzLmpzJztcbmltcG9ydCBnZXRFbmFibGVkT3JnU2VydmljZXMgZnJvbSAnLi9zcmMvYWN0aW9ucy9nZXQtZW5hYmxlZC1vcmctc2VydmljZXMuanMnO1xuaW1wb3J0IGdldE9yZ0Nsb3VkRm9ybWF0aW9uIGZyb20gJy4vc3JjL2FjdGlvbnMvY2hlY2stb3JnLWNsb3VkZm9ybWF0aW9uLmpzJztcbmltcG9ydCBnZXRJZGNJbmZvIGZyb20gJy4vc3JjL2FjdGlvbnMvZ2V0LWlkYy1pbmZvLmpzJztcbmltcG9ydCBnZXRPcmdEZXRhaWxzIGZyb20gJy4vc3JjL2FjdGlvbnMvZ2V0LW9yZy1kZXRhaWxzLmpzJztcbmltcG9ydCBnZXRPcmdUb3BMZXZlbE91cyBmcm9tICcuL3NyYy9hY3Rpb25zL2dldC1vcmctb3VzLmpzJztcbmltcG9ydCBnZXRBbGxSZWdpb25zIGZyb20gJy4vc3JjL2FjdGlvbnMvZ2V0LXJlZ2lvbnMuanMnO1xuaW1wb3J0IGNoZWNrRWMyRXhpc3RzIGZyb20gJy4vc3JjL2FjdGlvbnMvY2hlY2stZWMyLWV4aXN0ZW5jZS5qcyc7XG5pbXBvcnQgY2hlY2tWcGNFeGlzdHMgZnJvbSAnLi9zcmMvYWN0aW9ucy9jaGVjay12cGMtZXhpc3RlbmNlLmpzJztcbmltcG9ydCBjaGVja0Nsb3VkVHJhaWxFeGlzdHMgZnJvbSAnLi9zcmMvYWN0aW9ucy9jaGVjay1jbG91ZHRyYWlsLWV4aXN0ZW5jZS5qcyc7XG5pbXBvcnQgZ2V0T3JnRGFBY2NvdW50cyBmcm9tICcuL3NyYy9hY3Rpb25zL2dldC1vcmctZGEtYWNjb3VudHMuanMnO1xuaW1wb3J0IGNoZWNrQ29uZmlnRXhpc3RzIGZyb20gJy4vc3JjL2FjdGlvbnMvY2hlY2stY29uZmlnLWV4aXN0ZW5jZS5qcyc7XG5pbXBvcnQgZ2V0T3JnTWVtYmVyQWNjb3VudHMgZnJvbSAnLi9zcmMvYWN0aW9ucy9nZXQtb3JnLW1lbWJlci1hY2NvdW50cy5qcyc7XG5pbXBvcnQgZ2V0Q29udHJvbFRvd2VyIGZyb20gJy4vc3JjL2FjdGlvbnMvY2hlY2stY29udHJvbC10b3dlci5qcyc7XG5pbXBvcnQgY2hlY2tMZWdhY3lDdXIgZnJvbSAnLi9zcmMvYWN0aW9ucy9jaGVjay1sZWdhY3ktY3VyLmpzJztcbmltcG9ydCBjcmVhdGVSZXBvcnQgZnJvbSAnLi9zcmMvYWN0aW9ucy9jcmVhdGUtcmVwb3J0LmpzJztcbmltcG9ydCBjcmVhdGVCYWNrbG9nIGZyb20gJy4vc3JjL2FjdGlvbnMvY3JlYXRlLWJhY2tsb2cuanMnO1xuaW1wb3J0IGNyZWF0ZUppcmFJbXBvcnQgZnJvbSAnLi9zcmMvYWN0aW9ucy9jcmVhdGUtamlyYWltcG9ydC5qcyc7XG5pbXBvcnQgY3JlYXRlQXNhbmFJbXBvcnQgZnJvbSAnLi9zcmMvYWN0aW9ucy9jcmVhdGUtYXNhbmFpbXBvcnQuanMnO1xuaW1wb3J0IHppcEFzc2Vzc21lbnRGaWxlcyBmcm9tICcuL3NyYy9hY3Rpb25zL3ppcC1hc3Nlc3NtZW50LmpzJztcbmltcG9ydCBnZXRQYXJ0aXRpb25JbmZvIGZyb20gJy4vc3JjL2FjdGlvbnMvZ2V0LXBhcnRpdGlvbi1pbmZvLmpzJztcbmltcG9ydCAqIGFzIGZzIGZyb20gJ2ZzJztcbmZ1bmN0aW9uIG9iamVjdFRvQ1NWKGRhdGEpIHtcbiAgICBjb25zdCBkYXRhQXJyYXkgPSBBcnJheS5pc0FycmF5KGRhdGEpID8gZGF0YSA6IFtkYXRhXTtcbiAgICBjb25zdCBrZXlzID0gZGF0YUFycmF5Lmxlbmd0aCA+IDAgPyBPYmplY3Qua2V5cyhkYXRhQXJyYXlbMF0pIDogW107XG4gICAgY29uc3Qgcm93cyA9IFtrZXlzLmpvaW4oJywnKV07XG4gICAgZm9yIChjb25zdCBvYmogb2YgZGF0YUFycmF5KSB7XG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IGtleXMubWFwKGtleSA9PiB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IG9ialtrZXldO1xuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgPyBgXCIke3ZhbHVlLnJlcGxhY2UoL1wiL2csICdcIlwiJyl9XCJgIDogdmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgICByb3dzLnB1c2godmFsdWVzLmpvaW4oJywnKSk7XG4gICAgfVxuICAgIHJldHVybiByb3dzLmpvaW4oJ1xcbicpO1xufVxuY29uc3QgbWFpbiA9IGFzeW5jICgpID0+IHtcbiAgICBsZXQgcmVwb3J0ID0ge307XG4gICAgbGV0IGNmYXRDaGVja3MgPSBbXTtcbiAgICBjb25zdCBwYXJ0aXRpb25JbmZvID0gYXdhaXQgZ2V0UGFydGl0aW9uSW5mbygpO1xuICAgIGNvbnN0IHJlZ2lvbiA9IHByb2Nlc3MuZW52LkFXU19SRUdJT04gfHwgcGFydGl0aW9uSW5mby5kZWZhdWx0UmVnaW9uO1xuICAgIGNvbnN0IGFsbFJlZ2lvbnMgPSBhd2FpdCBnZXRBbGxSZWdpb25zKHJlZ2lvbik7XG4gICAgY29uc29sZS5sb2coXCJkaXNjb3ZlcmluZyB5b3VyIEFXUyBlbnZpcm9ubWVudC4uLlwiKTtcbiAgICBjb25zdCBhY2NvdW50VHlwZSA9IGF3YWl0IGRlZmluZUFjY291bnRUeXBlKHJlZ2lvbik7XG4gICAgbGV0IHRyYW5zaXRpb25hbEZvdW5kLCBzdXNwZW5kZWRGb3VuZCwgaW5mcmFzdHJ1Y3R1cmVGb3VuZCA9IGZhbHNlO1xuICAgIGxldCB3b3JrbG9hZHNGb3VuZCA9IGZhbHNlO1xuICAgIGxldCBzZWN1cml0eUZvdW5kID0gZmFsc2U7XG4gICAgbGV0IGNmYXRJYW1Vc2VyUGFzcyA9IGZhbHNlO1xuICAgIGxldCBjZmF0SWFtSWRQT3JnU2VydmljZVBhc3MgPSBmYWxzZTtcbiAgICBsZXQgY2ZhdElhbUlkY0NvbmZpZ3VyZWRQYXNzID0gZmFsc2U7XG4gICAgbGV0IGNmYXRDbG91ZFRyYWlsUGFzcyA9IGZhbHNlO1xuICAgIGxldCBjZmF0Q2xvdWRUcmFpbE9yZ1RyYWlsUGFzcyA9IGZhbHNlO1xuICAgIGxldCBjZmF0VnBjUGFzcyA9IHRydWU7XG4gICAgbGV0IGNmYXRFYzJQYXNzID0gZmFsc2U7XG4gICAgbGV0IGNmYXRDb25maWdNYW5hZ2VtZW50QWNjb3VudFBhc3MgPSBmYWxzZTtcbiAgICBsZXQgY2ZhdENvbmZpZ1JlY29yZGVyTWFuYWdlbWVudEFjY291bnRQYXNzID0gZmFsc2U7XG4gICAgbGV0IGNmYXRDbG91ZFRyYWlsT3JnU2VydmljZUVuYWJsZWRQYXNzID0gZmFsc2U7XG4gICAgbGV0IGNmYXRUYWdQb2xpY2llc0VuYWJsZWRQYXNzID0gZmFsc2U7XG4gICAgbGV0IGNmYXRTY3BFbmFibGVkUGFzcyA9IGZhbHNlO1xuICAgIGxldCBjZmF0QmFja3VwUG9saWNpZXNFbmFibGVkUGFzcyA9IGZhbHNlO1xuICAgIGxldCBjZmF0T3JnQ2xvdWRGb3JtYXRpb25FbmFibGVkUGFzcyA9IGZhbHNlO1xuICAgIGxldCBjZmF0T3JnQ2xvdWRGb3JtYXRpb25TdGF0dXNQYXNzID0gZmFsc2U7XG4gICAgbGV0IGNmYXRPcmdTZXJ2aWNlR3VhcmREdXR5RW5hYmxlZFBhc3MgPSBmYWxzZTtcbiAgICBsZXQgY2ZhdE9yZ1NlcnZpY2VTZWN1cml0eUh1YkVuYWJsZWRQYXNzID0gZmFsc2U7XG4gICAgbGV0IGNmYXRPcmdTZXJ2aWNlSWFtQWNjZXNzQW5hbHl6ZXJFbmFibGVkUGFzcyA9IGZhbHNlO1xuICAgIGxldCBjZmF0T3JnU2VydmljZUF3c0NvbmZpZ0VuYWJsZWRQYXNzID0gZmFsc2U7XG4gICAgbGV0IGNmYXRPcmdTZXJ2aWNlUmFtRW5hYmxlZFBhc3MgPSBmYWxzZTtcbiAgICBsZXQgY2ZhdENvbnRyb2xUb3dlckRlcGxveWVkUGFzcyA9IGZhbHNlO1xuICAgIGxldCBjZmF0Q29udHJvbFRvd2VyTm90RHJpZnRlZFBhc3MgPSBmYWxzZTtcbiAgICBsZXQgY2ZhdENvbnRyb2xUb3dlckxhdGVzdFZlcnNpb25QYXNzID0gZmFsc2U7XG4gICAgbGV0IGNmYXRMb2dBcmNoaXZlQWNjb3VudFBhc3MgPSBmYWxzZTtcbiAgICBsZXQgY2ZhdEF1ZGl0QWNjb3VudFBhc3MgPSBmYWxzZTtcbiAgICBsZXQgY2ZhdE1hbmFnZW1lbnRBY2NvdW50UGFzcyA9IHRydWU7XG4gICAgbGV0IGNmYXRPcmdTZXJ2aWNlQmFja3VwRW5hYmxlZFBhc3MgPSBmYWxzZTtcbiAgICBpZiAoYWNjb3VudFR5cGUpIHtcbiAgICAgICAgcmVwb3J0Lm9yZ2FuaXphdGlvbkRlcGxveSA9IGFjY291bnRUeXBlLmlzSW5Pcmdhbml6YXRpb247XG4gICAgICAgIHJlcG9ydC5tYW5hZ2VtZW50QWNjb3VudCA9IGFjY291bnRUeXBlLmlzTWFuYWdlbWVudEFjY291bnQ7XG4gICAgICAgIGlmIChhY2NvdW50VHlwZS5pc01hbmFnZW1lbnRBY2NvdW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGFjY291bnRUeXBlLmlzTWFuYWdlbWVudEFjY291bnQgPSBmYWxzZTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQVdTIGFjY291bnQgaXMgbm90IHRoZSBNYW5hZ2VtZW50IEFjY291bnQgb2YgYW4gQVdTIE9yZ2FuaXphdGlvblwiKTtcbiAgICAgICAgfVxuICAgICAgICBjZmF0TWFuYWdlbWVudEFjY291bnRQYXNzID0gYWNjb3VudFR5cGUuaXNNYW5hZ2VtZW50QWNjb3VudDtcbiAgICB9XG4gICAgY29uc29sZS5sb2coXCJkaXNjb3ZlcmluZyBJQU0gVXNlcnMuLi5cIik7XG4gICAgY29uc3QgaWFtVXNlclJlc3VsdCA9IGF3YWl0IGNoZWNrSWFtVXNlcnMocmVnaW9uKTtcbiAgICBpZiAoaWFtVXNlclJlc3VsdCAmJiBpYW1Vc2VyUmVzdWx0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJJQU0gVXNlcnMgZGlzY292ZXJlZC5cIik7XG4gICAgICAgIHJlcG9ydC5pYW1Vc2VyQ2hlY2tzID0gaWFtVXNlclJlc3VsdDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNmYXRJYW1Vc2VyUGFzcyA9IHRydWU7XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKFwiZGlzY292ZXJpbmcgRUMyIGluc3RhbmNlcyBhY3Jvc3MgYWxsIEFXUyBSZWdpb25zLi4uXCIpO1xuICAgIGNvbnN0IGVjMkNoZWNrID0gYXdhaXQgY2hlY2tFYzJFeGlzdHMoYWxsUmVnaW9ucyk7XG4gICAgaWYgKGVjMkNoZWNrICYmIGVjMkNoZWNrLmZpbmQocGFyYW0gPT4gcGFyYW0uZWMyRm91bmQgPT09IHRydWUpKSB7XG4gICAgICAgIHJlcG9ydC5lYzJDaGVja3MgPSBlYzJDaGVjaztcbiAgICAgICAgY29uc29sZS5pbmZvKFwid2FybmluZzogRUMyIGluc3RhbmNlcyBkaXNjb3ZlcmVkLlwiKTtcbiAgICAgICAgZm9yIChjb25zdCBlYzIgb2YgZWMyQ2hlY2spIHtcbiAgICAgICAgICAgIGNmYXRFYzJQYXNzID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc29sZS5sb2coXCJkaXNjb3ZlcmluZyBWUENzIGFjcm9zcyBhbGwgQVdTIFJlZ2lvbnMuLi5cIik7XG4gICAgY29uc3QgdnBjQ2hlY2sgPSBhd2FpdCBjaGVja1ZwY0V4aXN0cyhhbGxSZWdpb25zKTtcbiAgICByZXBvcnQudnBjQ2hlY2tzID0gdnBjQ2hlY2s7XG4gICAgaWYgKHZwY0NoZWNrICYmIHZwY0NoZWNrLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY2ZhdFZwY1Bhc3MgPSBmYWxzZTtcbiAgICAgICAgY29uc29sZS5sb2coXCJ3YXJuaW5nOiBWUENzIGRpc2NvdmVyZWQuXCIpO1xuICAgIH1cbiAgICBjb25zb2xlLmxvZyhcImRpc2NvdmVyaW5nIEFXUyBDb25maWcgY29uZmlndXJhdGlvbnMgYWNyb3NzIGFsbCBBV1MgUmVnaW9ucy4uLlwiKTtcbiAgICByZXBvcnQuY2xvdWRUcmFpbERldGFpbHMgPSBhd2FpdCBjaGVja0Nsb3VkVHJhaWxFeGlzdHMoYWxsUmVnaW9ucyk7XG4gICAgcmVwb3J0LmNvbmZpZ0RldGFpbHMgPSBhd2FpdCBjaGVja0NvbmZpZ0V4aXN0cyhhbGxSZWdpb25zKTtcbiAgICBpZiAocmVwb3J0LmNvbmZpZ0RldGFpbHMgJiYgcmVwb3J0LmNvbmZpZ0RldGFpbHMuZmluZChwYXJhbSA9PiBwYXJhbS5jb25maWdSZWNvcmRlckZvdW5kID09PSB0cnVlKSkge1xuICAgICAgICBmb3IgKGNvbnN0IGNvbmZpZ0ZpbmQgb2YgcmVwb3J0LmNvbmZpZ0RldGFpbHMpIHtcbiAgICAgICAgICAgIGlmIChjb25maWdGaW5kLmNvbmZpZ1JlY29yZGVyRm91bmQpIHtcbiAgICAgICAgICAgICAgICBjZmF0Q29uZmlnTWFuYWdlbWVudEFjY291bnRQYXNzID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb25maWdGaW5kLmNvbmZpZ0RlbGl2ZXJ5Q2hhbm5lbEZvdW5kKSB7XG4gICAgICAgICAgICAgICAgY2ZhdENvbmZpZ1JlY29yZGVyTWFuYWdlbWVudEFjY291bnRQYXNzID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBhbGwgdGhlIGZvbGxvd2luZyBjYWxscyByZXF1aXJlIGFuIEFXUyBPcmdhbml6YXRpb24gdG8gZXhpc3QgYW5kIHRoZSBhY2NvdW50IGJlIGEgbWFuYWdlbWVudCBhY2NvdW50XG4gICAgaWYgKGFjY291bnRUeXBlLmlzSW5Pcmdhbml6YXRpb24gJiYgYWNjb3VudFR5cGUuaXNNYW5hZ2VtZW50QWNjb3VudCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcImNvbGxlY3RpbmcgZ2VuZXJhbCBBV1MgT3JnYW5pemF0aW9uIGRldGFpbHMuLi5cIik7XG4gICAgICAgIGNvbnN0IG9yZ0RldGFpbHMgPSBhd2FpdCBnZXRPcmdEZXRhaWxzKHJlZ2lvbik7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiY29sbGVjdGluZyBDVVIgZGV0YWlscy4uLlwiKTtcbiAgICAgICAgY29uc3QgbGVnYWN5Q3VyQ2hlY2sgPSBhd2FpdCBjaGVja0xlZ2FjeUN1cihyZWdpb24pO1xuICAgICAgICBjb25zb2xlLmxvZyhcImNvbGxlY3RpbmcgQVdTIE9yZ2FuaXphdGlvbiBQb2xpY3kgZGV0YWlscy4uLlwiKTtcbiAgICAgICAgY29uc3QgZW5hYmxlT3JnUG9saWNpZXNDaGVjayA9IGF3YWl0IGdldEVuYWJsZWRPcmdQb2xpY3lUeXBlcyhyZWdpb24pO1xuICAgICAgICBjb25zb2xlLmxvZyhcImNvbGxlY3RpbmcgQVdTIE9yZ2FuaXphdGlvbiBzZXJ2aWNlIHRydXN0ZWQgYWNjZXNzIGRldGFpbHMuLi5cIik7XG4gICAgICAgIHJlcG9ydC5vcmdTZXJ2aWNlcyA9IGF3YWl0IGdldEVuYWJsZWRPcmdTZXJ2aWNlcyhyZWdpb24pO1xuICAgICAgICBjb25zb2xlLmxvZyhcImNvbGxlY3RpbmcgQVdTIE9yZ2FuaXphdGlvbiBDbG91ZEZvcm1hdGlvbiBzdGF0dXMgZGV0YWlscy4uLlwiKTtcbiAgICAgICAgY29uc3QgY2ZuT3JnU3RhdHVzID0gYXdhaXQgZ2V0T3JnQ2xvdWRGb3JtYXRpb24ocmVnaW9uKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJjb2xsZWN0aW5nIEFXUyBDb250cm9sIFRvd2VyIGRldGFpbHMuLi5cIik7XG4gICAgICAgIGNvbnN0IGNvbnRyb2xUb3dlckRldGFpbHMgPSBhd2FpdCBnZXRDb250cm9sVG93ZXIocmVnaW9uKTtcbiAgICAgICAgcmVwb3J0LmlkY0luZm8gPSBhd2FpdCBnZXRJZGNJbmZvKGFsbFJlZ2lvbnMpO1xuICAgICAgICBjb25zb2xlLmxvZyhcImNvbGxlY3RpbmcgQVdTIE9yZ2FuaXphdGlvbiBzZXJ2aWNlIGRlbGVnYXRlZCBhZG1pbiBkZXRhaWxzLi4uXCIpO1xuICAgICAgICByZXBvcnQub3JnRGVsZWdhdGVkQWRtaW5BY2NvdW50cyA9IGF3YWl0IGdldE9yZ0RhQWNjb3VudHMocmVnaW9uKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJjb2xsZWN0aW5nIEFXUyBPcmdhbml6YXRpb24gbWVtYmVyIGFjY291bnQgZGV0YWlscy4uLlwiKTtcbiAgICAgICAgcmVwb3J0Lm9yZ01lbWJlckFjY291bnRzID0gYXdhaXQgZ2V0T3JnTWVtYmVyQWNjb3VudHMocmVnaW9uKTtcbiAgICAgICAgcmVwb3J0LmlzTGVnYWN5Q3VyU2V0dXAgPSBsZWdhY3lDdXJDaGVjay5pc0xlZ2FjeUN1clNldHVwO1xuICAgICAgICByZXBvcnQub3JnQXJuID0gb3JnRGV0YWlscy5hcm47XG4gICAgICAgIHJlcG9ydC5vcmdJZCA9IG9yZ0RldGFpbHMuaWQ7XG4gICAgICAgIHJlcG9ydC5vcmdSb290T3VJZCA9IG9yZ0RldGFpbHMucm9vdE91SWQ7XG4gICAgICAgIHJlcG9ydC5iYWNrdXBQb2xpY3lFbmFibGVkID0gZW5hYmxlT3JnUG9saWNpZXNDaGVjay5iYWNrdXBQb2xpY3lFbmFibGVkO1xuICAgICAgICByZXBvcnQuc2NwRW5hYmxlZCA9IGVuYWJsZU9yZ1BvbGljaWVzQ2hlY2suc2NwRW5hYmxlZDtcbiAgICAgICAgcmVwb3J0LnRhZ1BvbGljeUVuYWJsZWQgPSBlbmFibGVPcmdQb2xpY2llc0NoZWNrLnRhZ1BvbGljeUVuYWJsZWQ7XG4gICAgICAgIHJlcG9ydC5vcmdDbG91ZEZvcm1hdGlvblN0YXR1cyA9IGNmbk9yZ1N0YXR1cy5zdGF0dXM7XG4gICAgICAgIHJlcG9ydC5jb250cm9sVG93ZXJEZXBsb3llZFZlcnNpb24gPSBjb250cm9sVG93ZXJEZXRhaWxzLmRlcGxveWVkVmVyc2lvbjtcbiAgICAgICAgcmVwb3J0LmNvbnRyb2xUb3dlckRyaWZ0U3RhdHVzID0gY29udHJvbFRvd2VyRGV0YWlscy5kcmlmdFN0YXR1cztcbiAgICAgICAgcmVwb3J0LmNvbnRyb2xUb3dlckxhdGVzdEF2YWlsYWJsZVZlcnNpb24gPSBjb250cm9sVG93ZXJEZXRhaWxzLmxhdGVzdEF2YWlsYWJsZVZlcnNpb247XG4gICAgICAgIHJlcG9ydC5jb250cm9sVG93ZXJSZWdpb24gPSBjb250cm9sVG93ZXJEZXRhaWxzLmNvbnRyb2xUb3dlclJlZ2lvbjtcbiAgICAgICAgcmVwb3J0LmNvbnRyb2xUb3dlclN0YXR1cyA9IGNvbnRyb2xUb3dlckRldGFpbHMuc3RhdHVzO1xuICAgICAgICBpZiAocmVwb3J0LmlkY0luZm8uYXJuKSB7XG4gICAgICAgICAgICBjZmF0SWFtSWRjQ29uZmlndXJlZFBhc3MgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXBvcnQuY2xvdWRUcmFpbERldGFpbHMgJiYgcmVwb3J0LmNsb3VkVHJhaWxEZXRhaWxzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNmYXRDbG91ZFRyYWlsUGFzcyA9IHRydWU7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGN0RmluZCBvZiByZXBvcnQuY2xvdWRUcmFpbERldGFpbHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoY3RGaW5kLnRyYWlsRm91bmQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN0RmluZC5pc09yZ1RyYWlsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjZmF0Q2xvdWRUcmFpbE9yZ1RyYWlsUGFzcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlcG9ydC5vcmdTZXJ2aWNlcy5maW5kKHBhcmFtID0+IHBhcmFtLnNlcnZpY2UgPT09ICdjbG91ZHRyYWlsLmFtYXpvbmF3cy5jb20nKSkge1xuICAgICAgICAgICAgY2ZhdENsb3VkVHJhaWxPcmdTZXJ2aWNlRW5hYmxlZFBhc3MgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXBvcnQub3JnU2VydmljZXMuZmluZChwYXJhbSA9PiBwYXJhbS5zZXJ2aWNlID09PSAnY29uZmlnLmFtYXpvbmF3cy5jb20nKSkge1xuICAgICAgICAgICAgY2ZhdE9yZ1NlcnZpY2VBd3NDb25maWdFbmFibGVkUGFzcyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVuYWJsZU9yZ1BvbGljaWVzQ2hlY2suc2NwRW5hYmxlZCkge1xuICAgICAgICAgICAgY2ZhdFNjcEVuYWJsZWRQYXNzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZW5hYmxlT3JnUG9saWNpZXNDaGVjay50YWdQb2xpY3lFbmFibGVkKSB7XG4gICAgICAgICAgICBjZmF0VGFnUG9saWNpZXNFbmFibGVkUGFzcyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVuYWJsZU9yZ1BvbGljaWVzQ2hlY2suYmFja3VwUG9saWN5RW5hYmxlZCkge1xuICAgICAgICAgICAgY2ZhdEJhY2t1cFBvbGljaWVzRW5hYmxlZFBhc3MgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcmdEZXRhaWxzLnJvb3RPdUlkKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImNvbGxlY3RpbmcgT1UgYW5kIG1lbWJlciBhY2NvdW50IGRldGFpbHMuLi5cIik7XG4gICAgICAgICAgICByZXBvcnQub3JnT3VJbmZvID0gYXdhaXQgZ2V0T3JnVG9wTGV2ZWxPdXMocmVnaW9uLCBvcmdEZXRhaWxzLnJvb3RPdUlkKTtcbiAgICAgICAgICAgIGlmIChyZXBvcnQub3JnT3VJbmZvICYmIHJlcG9ydC5vcmdPdUluZm8ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgb3Ugb2YgcmVwb3J0Lm9yZ091SW5mbykge1xuICAgICAgICAgICAgICAgICAgICBpZiAob3UubmFtZT8udG9Mb3dlckNhc2UoKSA9PT0gJ3N1c3BlbmRlZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1c3BlbmRlZEZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3UubmFtZT8udG9Mb3dlckNhc2UoKSA9PT0gJ3RyYW5zaXRpb25hbCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb25hbEZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3UubmFtZT8udG9Mb3dlckNhc2UoKSA9PT0gJ3dvcmtsb2FkcycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdvcmtsb2Fkc0ZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3UubmFtZT8udG9Mb3dlckNhc2UoKSA9PT0gJ3NlY3VyaXR5Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VjdXJpdHlGb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG91Lm5hbWU/LnRvTG93ZXJDYXNlKCkgPT09ICdpbmZyYXN0cnVjdHVyZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZnJhc3RydWN0dXJlRm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChyZXBvcnQub3JnTWVtYmVyQWNjb3VudHMgJiYgcmVwb3J0Lm9yZ01lbWJlckFjY291bnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgbWVtYmVyQWNjb3VudCBvZiByZXBvcnQub3JnTWVtYmVyQWNjb3VudHMpIHtcbiAgICAgICAgICAgICAgICBpZiAobWVtYmVyQWNjb3VudC5hY2NvdW50TmFtZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVtYmVyQWNjb3VudC5hY2NvdW50TmFtZS50b0xvd2VyQ2FzZSgpID09PSAnbG9nIGFyY2hpdmUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjZmF0TG9nQXJjaGl2ZUFjY291bnRQYXNzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobWVtYmVyQWNjb3VudC5hY2NvdW50TmFtZS50b0xvd2VyQ2FzZSgpID09PSAnYXVkaXQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjZmF0QXVkaXRBY2NvdW50UGFzcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lbWJlckFjY291bnQuYWNjb3VudE5hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ3NlY3VyaXR5IHRvb2xpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjZmF0QXVkaXRBY2NvdW50UGFzcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGlkZW50aXR5RGVsZWdhdGVkID0gZmFsc2U7XG4gICAgICAgIGxldCBzZWN1cml0eUh1YkRlbGVnYXRlZCA9IGZhbHNlO1xuICAgICAgICBsZXQgZ3VhcmREdXR5RGVsZWdhdGVkID0gZmFsc2U7XG4gICAgICAgIGxldCBjb25maWdEZWxlZ2F0ZWQgPSBmYWxzZTtcbiAgICAgICAgbGV0IGlhbUFjY2Vzc0FuYWx5emVyRGVsZWdhdGVkID0gZmFsc2U7XG4gICAgICAgIGxldCBzM1N0b3JhZ2VMZW5zRGVsZWdhdGVkID0gZmFsc2U7XG4gICAgICAgIGxldCBpcGFtRGVsZWdhdGVkID0gZmFsc2U7XG4gICAgICAgIGxldCBhY2NvdW50RGVsZWdhdGVkID0gZmFsc2U7XG4gICAgICAgIGxldCBiYWNrdXBEZWxlZ2F0ZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKHJlcG9ydC5vcmdEZWxlZ2F0ZWRBZG1pbkFjY291bnRzICYmIHJlcG9ydC5vcmdEZWxlZ2F0ZWRBZG1pbkFjY291bnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgYWNjb3VudCBvZiByZXBvcnQub3JnRGVsZWdhdGVkQWRtaW5BY2NvdW50cykge1xuICAgICAgICAgICAgICAgIGlmIChhY2NvdW50LnNlcnZpY2VzICYmIGFjY291bnQuc2VydmljZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHNydiBvZiBhY2NvdW50LnNlcnZpY2VzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3J2LlNlcnZpY2VQcmluY2lwYWwgPT09ICdzZWN1cml0eWh1Yi5hbWF6b25hd3MuY29tJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlY3VyaXR5SHViRGVsZWdhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzcnYuU2VydmljZVByaW5jaXBhbCA9PT0gJ2d1YXJkZHV0eS5hbWF6b25hd3MuY29tJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGd1YXJkRHV0eURlbGVnYXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3J2LlNlcnZpY2VQcmluY2lwYWwgPT09ICdzc28uYW1hem9uYXdzLmNvbScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZGVudGl0eURlbGVnYXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3J2LlNlcnZpY2VQcmluY2lwYWwgPT09ICdjb25maWcuYW1hem9uYXdzLmNvbScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maWdEZWxlZ2F0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNydi5TZXJ2aWNlUHJpbmNpcGFsID09PSAnYWNjZXNzLWFuYWx5emVyLmFtYXpvbmF3cy5jb20nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWFtQWNjZXNzQW5hbHl6ZXJEZWxlZ2F0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNydi5TZXJ2aWNlUHJpbmNpcGFsID09PSAnc3RvcmFnZS1sZW5zLnMzLmFtYXpvbmF3cy5jb20nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgczNTdG9yYWdlTGVuc0RlbGVnYXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3J2LlNlcnZpY2VQcmluY2lwYWwgPT09ICdpcGFtLmFtYXpvbmF3cy5jb20nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXBhbURlbGVnYXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3J2LlNlcnZpY2VQcmluY2lwYWwgPT09ICdhY2NvdW50LmFtYXpvbmF3cy5jb20nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudERlbGVnYXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3J2LlNlcnZpY2VQcmluY2lwYWwgPT09ICdiYWNrdXAuYW1hem9uYXdzLmNvbScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrdXBEZWxlZ2F0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjb250cm9sVG93ZXJEZXRhaWxzLmNvbnRyb2xUb3dlclJlZ2lvbikge1xuICAgICAgICAgICAgY2ZhdENvbnRyb2xUb3dlckRlcGxveWVkUGFzcyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbnRyb2xUb3dlckRldGFpbHMuZHJpZnRTdGF0dXMgIT09ICdEUklGVEVEJykge1xuICAgICAgICAgICAgY2ZhdENvbnRyb2xUb3dlck5vdERyaWZ0ZWRQYXNzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29udHJvbFRvd2VyRGV0YWlscy5kZXBsb3llZFZlcnNpb24gPT09IGNvbnRyb2xUb3dlckRldGFpbHMubGF0ZXN0QXZhaWxhYmxlVmVyc2lvbikge1xuICAgICAgICAgICAgY2ZhdENvbnRyb2xUb3dlckxhdGVzdFZlcnNpb25QYXNzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVwb3J0Lm9yZ1NlcnZpY2VzLmZpbmQocGFyYW0gPT4gcGFyYW0uc2VydmljZSA9PT0gJ21lbWJlci5vcmcuc3RhY2tzZXRzLmNsb3VkZm9ybWF0aW9uLmFtYXpvbmF3cy5jb20nKSkge1xuICAgICAgICAgICAgY2ZhdE9yZ0Nsb3VkRm9ybWF0aW9uU3RhdHVzUGFzcyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlcG9ydC5vcmdTZXJ2aWNlcy5maW5kKHBhcmFtID0+IHBhcmFtLnNlcnZpY2UgPT09ICdzc28uYW1hem9uYXdzLmNvbScpKSB7XG4gICAgICAgICAgICBjZmF0SWFtSWRQT3JnU2VydmljZVBhc3MgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXBvcnQub3JnU2VydmljZXMuZmluZChwYXJhbSA9PiBwYXJhbS5zZXJ2aWNlID09PSAnZ3VhcmRkdXR5LmFtYXpvbmF3cy5jb20nKSkge1xuICAgICAgICAgICAgY2ZhdE9yZ1NlcnZpY2VHdWFyZER1dHlFbmFibGVkUGFzcyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlcG9ydC5vcmdTZXJ2aWNlcy5maW5kKHBhcmFtID0+IHBhcmFtLnNlcnZpY2UgPT09ICdzZWN1cml0eWh1Yi5hbWF6b25hd3MuY29tJykpIHtcbiAgICAgICAgICAgIGNmYXRPcmdTZXJ2aWNlU2VjdXJpdHlIdWJFbmFibGVkUGFzcyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlcG9ydC5vcmdTZXJ2aWNlcy5maW5kKHBhcmFtID0+IHBhcmFtLnNlcnZpY2UgPT09ICdhY2Nlc3MtYW5hbHl6ZXIuYW1hem9uYXdzLmNvbScpKSB7XG4gICAgICAgICAgICBjZmF0T3JnU2VydmljZUlhbUFjY2Vzc0FuYWx5emVyRW5hYmxlZFBhc3MgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXBvcnQub3JnU2VydmljZXMuZmluZChwYXJhbSA9PiBwYXJhbS5zZXJ2aWNlID09PSAncmFtLmFtYXpvbmF3cy5jb20nKSkge1xuICAgICAgICAgICAgY2ZhdE9yZ1NlcnZpY2VSYW1FbmFibGVkUGFzcyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlcG9ydC5vcmdTZXJ2aWNlcy5maW5kKHBhcmFtID0+IHBhcmFtLnNlcnZpY2UgPT09ICdiYWNrdXAuYW1hem9uYXdzLmNvbScpKSB7XG4gICAgICAgICAgICBjZmF0T3JnU2VydmljZUJhY2t1cEVuYWJsZWRQYXNzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVwb3J0Lm9yZ0Nsb3VkRm9ybWF0aW9uU3RhdHVzID09PSAnRU5BQkxFRCcpIHtcbiAgICAgICAgICAgIGNmYXRPcmdDbG91ZEZvcm1hdGlvbkVuYWJsZWRQYXNzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChhY2NvdW50VHlwZS5pc0luT3JnYW5pemF0aW9uICYmICFhY2NvdW50VHlwZS5pc01hbmFnZW1lbnRBY2NvdW50KSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSAnXFxuV0FSTklORzogWW91IGFyZSBydW5uaW5nIENGQVQgZnJvbSBhbiBhY2NvdW50IHRoYXQgaXMgYSBtZW1iZXIgb2YgeW91ciBBV1MgT3JnYW5pemF0aW9uLiBQbGVhc2UgcnVuIHRoZSBzb2x1dGlvbiBmcm9tIHlvdXIgQVdTIE1hbmFnZW1lbnQgYWNjb3VudC4nO1xuICAgICAgICBjb25zb2xlLndhcm4obWVzc2FnZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gJ1xcbldBUk5JTkc6IFlvdSBhcmUgcnVubmluZyBDRkFUIGZyb20gYW4gYWNjb3VudCB0aGF0IG5vdCBwYXJ0IG9mIGFuIEFXUyBPcmdhbml6YXRpb24uIFRoaXMgYWNjb3VudCB3aWxsIGJlIHRyZWF0ZWQgYXMgYSBzdGFuZGFsb25lIGFjY291bnQuJztcbiAgICAgICAgY29uc29sZS53YXJuKG1lc3NhZ2UpO1xuICAgIH1cbiAgICBsZXQgT3JnQ2hlY2sgPSB7XG4gICAgICAgIGNoZWNrOiBcIkFXUyBPcmdhbml6YXRpb24gY3JlYXRlZFwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJBV1MgT3JnYW5pemF0aW9uIGlzIGVuYWJsZWQuXCIsXG4gICAgICAgIHN0YXR1czogYWNjb3VudFR5cGUuaXNJbk9yZ2FuaXphdGlvbiA/IFwiY29tcGxldGVcIiA6IFwiaW5jb21wbGV0ZVwiLFxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgd2VpZ2h0OiA2LFxuICAgICAgICBsb2U6IDEsXG4gICAgICAgIHJlbWVkaWF0aW9uTGluazogXCJodHRwczovL2F3cy5hbWF6b24uY29tL29yZ2FuaXphdGlvbnMvZ2V0dGluZy1zdGFydGVkL1wiXG4gICAgfTtcbiAgICBjZmF0Q2hlY2tzLnB1c2goT3JnQ2hlY2spO1xuICAgIGxldCBNQUNoZWNrID0ge1xuICAgICAgICBjaGVjazogXCJNYW5hZ2VtZW50IEFjY291bnQgY3JlYXRlZFwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJBV1MgTWFuYWdlbWVudCBhY2NvdW50IGV4aXN0cy5cIixcbiAgICAgICAgc3RhdHVzOiBjZmF0TWFuYWdlbWVudEFjY291bnRQYXNzID8gXCJjb21wbGV0ZVwiIDogXCJpbmNvbXBsZXRlXCIsXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICB3ZWlnaHQ6IDYsXG4gICAgICAgIGxvZTogMSxcbiAgICAgICAgcmVtZWRpYXRpb25MaW5rOiBcImh0dHBzOi8vZG9jcy5hd3MuYW1hem9uLmNvbS9hY2NvdW50cy9sYXRlc3QvcmVmZXJlbmNlL21hbmFnZS1hY2N0LWNyZWF0aW5nLmh0bWxcIlxuICAgIH07XG4gICAgY2ZhdENoZWNrcy5wdXNoKE1BQ2hlY2spO1xuICAgIGNvbnN0IGNmYXRJYW1Vc2VyQ2hlY2sgPSB7XG4gICAgICAgIGNoZWNrOiBcIk1hbmFnZW1lbnQgQWNjb3VudCBJQU0gdXNlcnMgcmVtb3ZlZFwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJJQU0gVXNlcnMgc2hvdWxkIG5vdCBleGlzdCBpbiBNYW5hZ2VtZW50IEFjY291bnQuXCIsXG4gICAgICAgIHN0YXR1czogY2ZhdElhbVVzZXJQYXNzID8gXCJjb21wbGV0ZVwiIDogXCJpbmNvbXBsZXRlXCIsXG4gICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgICAgd2VpZ2h0OiA0LFxuICAgICAgICBsb2U6IDEsXG4gICAgICAgIHJlbWVkaWF0aW9uTGluazogXCJodHRwczovL2RvY3MuYXdzLmFtYXpvbi5jb20vSUFNL2xhdGVzdC9Vc2VyR3VpZGUvaWRfdXNlcnNfbWFuYWdlLmh0bWwjaWRfdXNlcnNfZGVsZXRpbmdcIlxuICAgIH07XG4gICAgY2ZhdENoZWNrcy5wdXNoKGNmYXRJYW1Vc2VyQ2hlY2spO1xuICAgIGNvbnN0IGNmYXRFYzJDaGVjayA9IHtcbiAgICAgICAgY2hlY2s6IFwiTWFuYWdlbWVudCBBY2NvdW50IEVDMiBpbnN0YW5jZXMgcmVtb3ZlZFwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJFQzIgSW5zdGFuY2VzIHNob3VsZCBub3QgZXhpc3QgaW4gTWFuYWdlbWVudCBBY2NvdW50LlwiLFxuICAgICAgICBzdGF0dXM6IGNmYXRFYzJQYXNzID8gXCJjb21wbGV0ZVwiIDogXCJpbmNvbXBsZXRlXCIsXG4gICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgICAgd2VpZ2h0OiA0LFxuICAgICAgICBsb2U6IDEsXG4gICAgICAgIHJlbWVkaWF0aW9uTGluazogXCJodHRwczovL2RvY3MuYXdzLmFtYXpvbi5jb20vQVdTRUMyL2xhdGVzdC9Vc2VyR3VpZGUvdGVybWluYXRpbmctaW5zdGFuY2VzLmh0bWxcIlxuICAgIH07XG4gICAgY2ZhdENoZWNrcy5wdXNoKGNmYXRFYzJDaGVjayk7XG4gICAgY29uc3QgY2ZhdFZwY0NoZWNrID0ge1xuICAgICAgICBjaGVjazogXCJNYW5hZ2VtZW50IEFjY291bnQgVlBDcyByZW1vdmVkXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIk1hbmFnZW1lbnQgQWNjb3VudCBzaG91bGQgbm90IGhhdmUgYW55IFZQQ3MuXCIsXG4gICAgICAgIHN0YXR1czogY2ZhdFZwY1Bhc3MgPyBcImNvbXBsZXRlXCIgOiBcImluY29tcGxldGVcIixcbiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgICB3ZWlnaHQ6IDQsXG4gICAgICAgIGxvZTogMSxcbiAgICAgICAgcmVtZWRpYXRpb25MaW5rOiBcImh0dHBzOi8vZ2l0aHViLmNvbS9jbG91ZC1mb3VuZGF0aW9ucy1vbi1hd3MvY2xvdWQtZm91bmRhdGlvbnMtdGVtcGxhdGVzL2Jsb2IvbWFpbi9uZXR3b3JrL25ldHdvcmstZGVmYXVsdC12cGMtZGVsZXRpb24vUkVBRE1FLm1kXCJcbiAgICB9O1xuICAgIGNmYXRDaGVja3MucHVzaChjZmF0VnBjQ2hlY2spO1xuICAgIGNvbnN0IGNmYXRMZWdhY3lDdXJDaGVjayA9IHtcbiAgICAgICAgY2hlY2s6IFwiTGVnYWN5IENVUiBzZXR1cFwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJMZWdhY3kgQ29zdCBhbmQgVXNhZ2UgUmVwb3J0IChDVVIpIHNob3VsZCBiZSBzZXR1cCBvciBkYXRhIGV4cG9ydHMuXCIsXG4gICAgICAgIHN0YXR1czogcmVwb3J0LmlzTGVnYWN5Q3VyU2V0dXAgPyBcImNvbXBsZXRlXCIgOiBcImluY29tcGxldGVcIixcbiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgICB3ZWlnaHQ6IDQsXG4gICAgICAgIGxvZTogMSxcbiAgICAgICAgcmVtZWRpYXRpb25MaW5rOiBcImh0dHBzOi8vZG9jcy5hd3MuYW1hem9uLmNvbS9jdXIvbGF0ZXN0L3VzZXJndWlkZS9kYXRhZXhwb3J0cy1jcmVhdGUtbGVnYWN5Lmh0bWxcIlxuICAgIH07XG4gICAgY29uc3QgY2ZhdENsb3VkVHJhaWxDaGVjayA9IHtcbiAgICAgICAgY2hlY2s6IFwiQ2xvdWRUcmFpbCBUcmFpbCBjcmVhdGVkXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIkNsb3VkVHJhaWwgc2hvdWxkIGJlIGVuYWJsZWQgd2l0aGluIHRoZSBhY2NvdW50LlwiLFxuICAgICAgICBzdGF0dXM6IGNmYXRDbG91ZFRyYWlsUGFzcyA/IFwiY29tcGxldGVcIiA6IFwiaW5jb21wbGV0ZVwiLFxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgd2VpZ2h0OiA2LFxuICAgICAgICBsb2U6IDMsXG4gICAgICAgIHJlbWVkaWF0aW9uTGluazogXCJodHRwczovL2RvY3MuYXdzLmFtYXpvbi5jb20vYXdzY2xvdWR0cmFpbC9sYXRlc3QvdXNlcmd1aWRlL2NyZWF0aW5nLXRyYWlsLW9yZ2FuaXphdGlvbi5odG1sXCJcbiAgICB9O1xuICAgIGNmYXRDaGVja3MucHVzaChjZmF0Q2xvdWRUcmFpbENoZWNrKTtcbiAgICBjb25zdCBjZmF0Q2xvdWRUcmFpbE9yZ1NlcnZpY2VFbmFibGVkQ2hlY2sgPSB7XG4gICAgICAgIGNoZWNrOiBcIkNsb3VkVHJhaWwgT3JnYW5pemF0aW9uIFNlcnZpY2UgZW5hYmxlZFwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJDbG91ZFRyYWlsIHNob3VsZCBiZSBlbmFibGVkIG9uIHRoZSBPcmdhbml6YXRpb24uXCIsXG4gICAgICAgIHN0YXR1czogY2ZhdENsb3VkVHJhaWxPcmdTZXJ2aWNlRW5hYmxlZFBhc3MgPyBcImNvbXBsZXRlXCIgOiBcImluY29tcGxldGVcIixcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgIHdlaWdodDogNixcbiAgICAgICAgbG9lOiAxLFxuICAgICAgICByZW1lZGlhdGlvbkxpbms6IFwiaHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL29yZ2FuaXphdGlvbnMvbGF0ZXN0L3VzZXJndWlkZS9zZXJ2aWNlcy10aGF0LWNhbi1pbnRlZ3JhdGUtY2xvdWR0cmFpbC5odG1sXCJcbiAgICB9O1xuICAgIGNmYXRDaGVja3MucHVzaChjZmF0Q2xvdWRUcmFpbE9yZ1NlcnZpY2VFbmFibGVkQ2hlY2spO1xuICAgIGNvbnN0IGNmYXRDbG91ZFRyYWlsT3JnVHJhaWxDaGVjayA9IHtcbiAgICAgICAgY2hlY2s6IFwiQ2xvdWRUcmFpbCBPcmcgVHJhaWwgZGVwbG95ZWRcIixcbiAgICAgICAgZGVzY3JpcHRpb246IFwiQXQgbGVhc3Qgb25lIENsb3VkVHJhaWwgT3JnYW5pemF0aW9uIFRyYWlsIHNob3VsZCBiZSBlbmFibGVkLlwiLFxuICAgICAgICBzdGF0dXM6IGNmYXRDbG91ZFRyYWlsT3JnVHJhaWxQYXNzID8gXCJjb21wbGV0ZVwiIDogXCJpbmNvbXBsZXRlXCIsXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICB3ZWlnaHQ6IDYsXG4gICAgICAgIGxvZTogMSxcbiAgICAgICAgcmVtZWRpYXRpb25MaW5rOiBcImh0dHBzOi8vZG9jcy5hd3MuYW1hem9uLmNvbS9hd3NjbG91ZHRyYWlsL2xhdGVzdC91c2VyZ3VpZGUvY3JlYXRpbmctdHJhaWwtb3JnYW5pemF0aW9uLmh0bWxcIlxuICAgIH07XG4gICAgY2ZhdENoZWNrcy5wdXNoKGNmYXRDbG91ZFRyYWlsT3JnVHJhaWxDaGVjayk7XG4gICAgY29uc3QgY2ZhdENvbmZpZ01hbmFnZW1lbnRBY2NvdW50Q2hlY2sgPSB7XG4gICAgICAgIGNoZWNrOiBcIkNvbmZpZyBSZWNvcmRlciBpbiBNYW5hZ2VtZW50IEFjY291bnQgY29uZmlndXJlZFwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJDb25maWcgUmVjb3JkZXIgaW4gdGhlIE1hbmFnZW1lbnQgQWNjb3VudCBzaG91bGQgYmUgZW5hYmxlZC5cIixcbiAgICAgICAgc3RhdHVzOiBjZmF0Q29uZmlnTWFuYWdlbWVudEFjY291bnRQYXNzID8gXCJjb21wbGV0ZVwiIDogXCJpbmNvbXBsZXRlXCIsXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICB3ZWlnaHQ6IDYsXG4gICAgICAgIGxvZTogMixcbiAgICAgICAgcmVtZWRpYXRpb25MaW5rOiBcImh0dHBzOi8vYXdzLmFtYXpvbi5jb20vYmxvZ3MvbXQvbWFuYWdpbmctYXdzLW9yZ2FuaXphdGlvbnMtYWNjb3VudHMtdXNpbmctYXdzLWNvbmZpZy1hbmQtYXdzLWNsb3VkZm9ybWF0aW9uLXN0YWNrc2V0cy9cIlxuICAgIH07XG4gICAgY2ZhdENoZWNrcy5wdXNoKGNmYXRDb25maWdNYW5hZ2VtZW50QWNjb3VudENoZWNrKTtcbiAgICBjb25zdCBjZmF0Q29uZmlnUmVjb3JkZXJNYW5hZ2VtZW50QWNjb3VudENoZWNrID0ge1xuICAgICAgICBjaGVjazogXCJDb25maWcgRGVsaXZlcnkgQ2hhbm5lbCBpbiBNYW5hZ2VtZW50IEFjY291bnQgY29uZmlndXJlZFwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJDb25maWcgRGVsaXZlcnkgQ2hhbm5lbCBpbiBNYW5hZ2VtZW50IEFjY291bnQgc2hvdWxkIGJlIGVuYWJsZWQuXCIsXG4gICAgICAgIHN0YXR1czogY2ZhdENvbmZpZ1JlY29yZGVyTWFuYWdlbWVudEFjY291bnRQYXNzID8gXCJjb21wbGV0ZVwiIDogXCJpbmNvbXBsZXRlXCIsXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICB3ZWlnaHQ6IDYsXG4gICAgICAgIGxvZTogMixcbiAgICAgICAgcmVtZWRpYXRpb25MaW5rOiBcImh0dHBzOi8vYXdzLmFtYXpvbi5jb20vYmxvZ3MvbXQvbWFuYWdpbmctYXdzLW9yZ2FuaXphdGlvbnMtYWNjb3VudHMtdXNpbmctYXdzLWNvbmZpZy1hbmQtYXdzLWNsb3VkZm9ybWF0aW9uLXN0YWNrc2V0cy9cIlxuICAgIH07XG4gICAgY2ZhdENoZWNrcy5wdXNoKGNmYXRDb25maWdSZWNvcmRlck1hbmFnZW1lbnRBY2NvdW50Q2hlY2spO1xuICAgIGNvbnN0IGNmYXRDbG91ZEZvcm1hdGlvbkVuYWJsZUNoZWNrID0ge1xuICAgICAgICBjaGVjazogXCJDbG91ZEZvcm1hdGlvbiBTdGFja1NldHMgYWN0aXZhdGVkXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIkNsb3VkRm9ybWF0aW9uIFN0YWNrU2V0cyBzaG91bGQgYmUgYWN0aXZhdGVkIGluIHRoZSBDbG91ZEZvcm1hdGlvbiBjb25zb2xlLlwiLFxuICAgICAgICBzdGF0dXM6IGNmYXRPcmdDbG91ZEZvcm1hdGlvbkVuYWJsZWRQYXNzID8gXCJjb21wbGV0ZVwiIDogXCJpbmNvbXBsZXRlXCIsXG4gICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgICAgd2VpZ2h0OiA1LFxuICAgICAgICBsb2U6IDEsXG4gICAgICAgIHJlbWVkaWF0aW9uTGluazogXCJodHRwczovL2RvY3MuYXdzLmFtYXpvbi5jb20vb3JnYW5pemF0aW9ucy9sYXRlc3QvdXNlcmd1aWRlL3NlcnZpY2VzLXRoYXQtY2FuLWludGVncmF0ZS1jbG91ZGZvcm1hdGlvbi5odG1sI2ludGVncmF0ZS1lbmFibGUtdGEtY2xvdWRmb3JtYXRpb25cIlxuICAgIH07XG4gICAgY2ZhdENoZWNrcy5wdXNoKGNmYXRDbG91ZEZvcm1hdGlvbkVuYWJsZUNoZWNrKTtcbiAgICBjb25zdCBjZmF0T3JnU2VydmljZUd1YXJkRHV0eUNoZWNrID0ge1xuICAgICAgICBjaGVjazogXCJHdWFyZER1dHkgT3JnYW5pemF0aW9uIHNlcnZpY2UgZW5hYmxlZFwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJHdWFyZER1dHkgT3JnYW5pemF0aW9uIHNlcnZpY2VzIHNob3VsZCBiZSBlbmFibGVkLlwiLFxuICAgICAgICBzdGF0dXM6IGNmYXRPcmdTZXJ2aWNlR3VhcmREdXR5RW5hYmxlZFBhc3MgPyBcImNvbXBsZXRlXCIgOiBcImluY29tcGxldGVcIixcbiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgICB3ZWlnaHQ6IDQsXG4gICAgICAgIGxvZTogMSxcbiAgICAgICAgcmVtZWRpYXRpb25MaW5rOiBcImh0dHBzOi8vZG9jcy5hd3MuYW1hem9uLmNvbS9vcmdhbml6YXRpb25zL2xhdGVzdC91c2VyZ3VpZGUvc2VydmljZXMtdGhhdC1jYW4taW50ZWdyYXRlLWd1YXJkZHV0eS5odG1sI2ludGVncmF0ZS1lbmFibGUtdGEtZ3VhcmRkdXR5XCJcbiAgICB9O1xuICAgIGNmYXRDaGVja3MucHVzaChjZmF0T3JnU2VydmljZUd1YXJkRHV0eUNoZWNrKTtcbiAgICBjb25zdCBjZmF0T3JnU2VydmljZVJhbUNoZWNrID0ge1xuICAgICAgICBjaGVjazogXCJSQU0gT3JnYW5pemF0aW9uIHNlcnZpY2UgZW5hYmxlZFwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJSZXNvdXJjZSBBY2Nlc3MgTWFuYWdlciAoUkFNKSB0cnVzdGVkIGFjY2VzcyBzaG91bGQgYmUgZW5hYmxlZCBpbiB0aGUgQVdTIE9yZ2FuaXphdGlvbi5cIixcbiAgICAgICAgc3RhdHVzOiBjZmF0T3JnU2VydmljZVJhbUVuYWJsZWRQYXNzID8gXCJjb21wbGV0ZVwiIDogXCJpbmNvbXBsZXRlXCIsXG4gICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgICAgd2VpZ2h0OiA0LFxuICAgICAgICBsb2U6IDEsXG4gICAgICAgIHJlbWVkaWF0aW9uTGluazogXCJodHRwczovL2RvY3MuYXdzLmFtYXpvbi5jb20vb3JnYW5pemF0aW9ucy9sYXRlc3QvdXNlcmd1aWRlL3NlcnZpY2VzLXRoYXQtY2FuLWludGVncmF0ZS1yYW0uaHRtbCNpbnRlZ3JhdGUtZW5hYmxlLXRhLXJhbVwiXG4gICAgfTtcbiAgICBjZmF0Q2hlY2tzLnB1c2goY2ZhdE9yZ1NlcnZpY2VSYW1DaGVjayk7XG4gICAgY29uc3QgY2ZhdE9yZ1NlcnZpY2VTZWN1cml0eUh1YkNoZWNrID0ge1xuICAgICAgICBjaGVjazogXCJTZWN1cml0eSBIdWIgT3JnYW5pemF0aW9uIHNlcnZpY2UgZW5hYmxlZFwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJTZWN1cml0eSBIdWIgdHJ1c3RlZCBhY2Nlc3Mgc2hvdWxkIGJlIGVuYWJsZWQgaW4gdGhlIEFXUyBPcmdhbml6YXRpb24uXCIsXG4gICAgICAgIHN0YXR1czogY2ZhdE9yZ1NlcnZpY2VTZWN1cml0eUh1YkVuYWJsZWRQYXNzID8gXCJjb21wbGV0ZVwiIDogXCJpbmNvbXBsZXRlXCIsXG4gICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgICAgd2VpZ2h0OiA0LFxuICAgICAgICBsb2U6IDEsXG4gICAgICAgIHJlbWVkaWF0aW9uTGluazogXCJodHRwczovL2RvY3MuYXdzLmFtYXpvbi5jb20vb3JnYW5pemF0aW9ucy9sYXRlc3QvdXNlcmd1aWRlL3NlcnZpY2VzLXRoYXQtY2FuLWludGVncmF0ZS1zZWN1cml0eWh1Yi5odG1sI2ludGVncmF0ZS1lbmFibGUtdGEtc2VjdXJpdHlodWJcIlxuICAgIH07XG4gICAgY2ZhdENoZWNrcy5wdXNoKGNmYXRPcmdTZXJ2aWNlU2VjdXJpdHlIdWJDaGVjayk7XG4gICAgY29uc3QgY2ZhdE9yZ1NlcnZpY2VJYW1BY2Nlc3NBbmFseXplckNoZWNrID0ge1xuICAgICAgICBjaGVjazogXCJJQU0gQWNjZXNzIEFuYWx5emVyIE9yZ2FuaXphdGlvbiBzZXJ2aWNlIGVuYWJsZWRcIixcbiAgICAgICAgZGVzY3JpcHRpb246IFwiSUFNIEFjY2VzcyBBbmFseXplciB0cnVzdGVkIGFjY2VzcyBzaG91bGQgYmUgZW5hYmxlZCBpbiB0aGUgQVdTIE9yZ2FuaXphdGlvbi5cIixcbiAgICAgICAgc3RhdHVzOiBjZmF0T3JnU2VydmljZUlhbUFjY2Vzc0FuYWx5emVyRW5hYmxlZFBhc3MgPyBcImNvbXBsZXRlXCIgOiBcImluY29tcGxldGVcIixcbiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgICB3ZWlnaHQ6IDQsXG4gICAgICAgIGxvZTogMSxcbiAgICAgICAgcmVtZWRpYXRpb25MaW5rOiBcImh0dHBzOi8vZG9jcy5hd3MuYW1hem9uLmNvbS9JQU0vbGF0ZXN0L1VzZXJHdWlkZS9hY2Nlc3MtYW5hbHl6ZXItZ2V0dGluZy1zdGFydGVkLmh0bWwjYWNjZXNzLWFuYWx5emVyLWVuYWJsaW5nXCJcbiAgICB9O1xuICAgIGNmYXRDaGVja3MucHVzaChjZmF0T3JnU2VydmljZUlhbUFjY2Vzc0FuYWx5emVyQ2hlY2spO1xuICAgIGNvbnN0IGNmYXRPcmdTZXJ2aWNlQ29uZmlnQ2hlY2sgPSB7XG4gICAgICAgIGNoZWNrOiBcIkNvbmZpZyBPcmdhbml6YXRpb24gc2VydmljZSBlbmFibGVkXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIkFXUyBDb25maWcgdHJ1c3RlZCBhY2Nlc3Mgc2hvdWxkIGJlIGVuYWJsZWQgaW4gdGhlIEFXUyBPcmdhbml6YXRpb24uXCIsXG4gICAgICAgIHN0YXR1czogY2ZhdE9yZ1NlcnZpY2VBd3NDb25maWdFbmFibGVkUGFzcyA/IFwiY29tcGxldGVcIiA6IFwiaW5jb21wbGV0ZVwiLFxuICAgICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICAgIHdlaWdodDogNCxcbiAgICAgICAgbG9lOiAxLFxuICAgICAgICByZW1lZGlhdGlvbkxpbms6IFwiaHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL29yZ2FuaXphdGlvbnMvbGF0ZXN0L3VzZXJndWlkZS9zZXJ2aWNlcy10aGF0LWNhbi1pbnRlZ3JhdGUtY29uZmlnLmh0bWwjaW50ZWdyYXRlLWVuYWJsZS10YS1jb25maWdcIlxuICAgIH07XG4gICAgY2ZhdENoZWNrcy5wdXNoKGNmYXRPcmdTZXJ2aWNlQ29uZmlnQ2hlY2spO1xuICAgIGNvbnN0IGNmYXRPcmdTZXJ2aWNlQ2xvdWRGb3JtYXRpb25DaGVjayA9IHtcbiAgICAgICAgY2hlY2s6IFwiQ2xvdWRGb3JtYXRpb24gT3JnYW5pemF0aW9uIHNlcnZpY2UgZW5hYmxlZFwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJDbG91ZEZvcm1hdGlvbiB0cnVzdGVkIGFjY2VzcyBzaG91bGQgYmUgZW5hYmxlZCBpbiB0aGUgQVdTIE9yZ2FuaXphdGlvbi5cIixcbiAgICAgICAgc3RhdHVzOiBjZmF0T3JnQ2xvdWRGb3JtYXRpb25TdGF0dXNQYXNzID8gXCJjb21wbGV0ZVwiIDogXCJpbmNvbXBsZXRlXCIsXG4gICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgICAgd2VpZ2h0OiA1LFxuICAgICAgICBsb2U6IDEsXG4gICAgICAgIHJlbWVkaWF0aW9uTGluazogXCJodHRwczovL2RvY3MuYXdzLmFtYXpvbi5jb20vQVdTQ2xvdWRGb3JtYXRpb24vbGF0ZXN0L1VzZXJHdWlkZS9zdGFja3NldHMtb3Jncy1hY3RpdmF0ZS10cnVzdGVkLWFjY2Vzcy5odG1sXCJcbiAgICB9O1xuICAgIGNmYXRDaGVja3MucHVzaChjZmF0T3JnU2VydmljZUNsb3VkRm9ybWF0aW9uQ2hlY2spO1xuICAgIGNvbnN0IGNmYXRPcmdTZXJ2aWNlQmFja3VwQ2hlY2sgPSB7XG4gICAgICAgIGNoZWNrOiBcIkJhY2t1cCBPcmdhbml6YXRpb24gc2VydmljZSBlbmFibGVkXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIkJhY2t1cCB0cnVzdGVkIGFjY2VzcyBzaG91bGQgYmUgZW5hYmxlZCBpbiB0aGUgQVdTIE9yZ2FuaXphdGlvbi5cIixcbiAgICAgICAgc3RhdHVzOiBjZmF0T3JnU2VydmljZUJhY2t1cEVuYWJsZWRQYXNzID8gXCJjb21wbGV0ZVwiIDogXCJpbmNvbXBsZXRlXCIsXG4gICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgICAgd2VpZ2h0OiA0LFxuICAgICAgICBsb2U6IDEsXG4gICAgICAgIHJlbWVkaWF0aW9uTGluazogXCJodHRwczovL2RvY3MuYXdzLmFtYXpvbi5jb20vb3JnYW5pemF0aW9ucy9sYXRlc3QvdXNlcmd1aWRlL3NlcnZpY2VzLXRoYXQtY2FuLWludGVncmF0ZS1iYWNrdXAuaHRtbCNpbnRlZ3JhdGUtZW5hYmxlLXRhLWJhY2t1cFwiXG4gICAgfTtcbiAgICBjb25zdCBjZmF0SW5mcmFPdUNoZWNrID0ge1xuICAgICAgICBjaGVjazogXCJUb3AtbGV2ZWwgSW5mcmFzdHJ1Y3R1cmUgT1UgZGVwbG95ZWRcIixcbiAgICAgICAgZGVzY3JpcHRpb246IFwiVG9wLWxldmVsIEluZnJhc3RydWN0dXJlIE9VIHNob3VsZCBleGlzdC5cIixcbiAgICAgICAgc3RhdHVzOiBpbmZyYXN0cnVjdHVyZUZvdW5kID8gXCJjb21wbGV0ZVwiIDogXCJpbmNvbXBsZXRlXCIsXG4gICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgICAgd2VpZ2h0OiA1LFxuICAgICAgICBsb2U6IDIsXG4gICAgICAgIHJlbWVkaWF0aW9uTGluazogXCJodHRwczovL2NhdGFsb2cud29ya3Nob3BzLmF3cy9jb250cm9sLXRvd2VyL2VuLVVTL2ludHJvZHVjdGlvbi9tYW5hZ2Utb3VcIlxuICAgIH07XG4gICAgY2ZhdENoZWNrcy5wdXNoKGNmYXRJbmZyYU91Q2hlY2spO1xuICAgIGNvbnN0IGNmYXRTZWN1cml0eU91Q2hlY2sgPSB7XG4gICAgICAgIGNoZWNrOiBcIlRvcC1sZXZlbCBTZWN1cml0eSBPVSBkZXBsb3llZFwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJUb3AtbGV2ZWwgU2VjdXJpdHkgT1Ugc2hvdWxkIGV4aXN0LlwiLFxuICAgICAgICBzdGF0dXM6IHNlY3VyaXR5Rm91bmQgPyBcImNvbXBsZXRlXCIgOiBcImluY29tcGxldGVcIixcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgIHdlaWdodDogNixcbiAgICAgICAgbG9lOiAyLFxuICAgICAgICByZW1lZGlhdGlvbkxpbms6IFwiaHR0cHM6Ly9jYXRhbG9nLndvcmtzaG9wcy5hd3MvY29udHJvbC10b3dlci9lbi1VUy9pbnRyb2R1Y3Rpb24vbWFuYWdlLW91XCJcbiAgICB9O1xuICAgIGNmYXRDaGVja3MucHVzaChjZmF0U2VjdXJpdHlPdUNoZWNrKTtcbiAgICBjb25zdCBjZmF0V29ya2xvYWRPdUNoZWNrID0ge1xuICAgICAgICBjaGVjazogXCJUb3AtbGV2ZWwgV29ya2xvYWRzIE9VIGRlcGxveWVkXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIlRvcC1sZXZlbCBXb3JrbG9hZHMgT1Ugc2hvdWxkIGV4aXN0LlwiLFxuICAgICAgICBzdGF0dXM6IHdvcmtsb2Fkc0ZvdW5kID8gXCJjb21wbGV0ZVwiIDogXCJpbmNvbXBsZXRlXCIsXG4gICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgICAgd2VpZ2h0OiA1LFxuICAgICAgICBsb2U6IDIsXG4gICAgICAgIHJlbWVkaWF0aW9uTGluazogXCJodHRwczovL2NhdGFsb2cud29ya3Nob3BzLmF3cy9jb250cm9sLXRvd2VyL2VuLVVTL2ludHJvZHVjdGlvbi9tYW5hZ2Utb3VcIlxuICAgIH07XG4gICAgY2ZhdENoZWNrcy5wdXNoKGNmYXRXb3JrbG9hZE91Q2hlY2spO1xuICAgIGNvbnN0IGNmYXRJYW1JZENPcmdTZXJ2aWNlQ2hlY2sgPSB7XG4gICAgICAgIGNoZWNrOiBcIklBTSBJZEMgT3JnYW5pemF0aW9uIHNlcnZpY2UgZW5hYmxlZFwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJJQU0gSWRlbnRpdHkgQ2VudGVyIHRydXN0ZWQgYWNjZXNzIHNob3VsZCBiZSBlbmFibGVkIGluIHRoZSBBV1MgT3JnYW5pemF0aW9uXCIsXG4gICAgICAgIHN0YXR1czogY2ZhdElhbUlkUE9yZ1NlcnZpY2VQYXNzID8gXCJjb21wbGV0ZVwiIDogXCJpbmNvbXBsZXRlXCIsXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICB3ZWlnaHQ6IDYsXG4gICAgICAgIGxvZTogMSxcbiAgICAgICAgcmVtZWRpYXRpb25MaW5rOiBcImh0dHBzOi8vZG9jcy5hd3MuYW1hem9uLmNvbS9zaW5nbGVzaWdub24vbGF0ZXN0L3VzZXJndWlkZS9nZXQtc2V0LXVwLWZvci1pZGMuaHRtbFwiXG4gICAgfTtcbiAgICBjZmF0Q2hlY2tzLnB1c2goY2ZhdElhbUlkQ09yZ1NlcnZpY2VDaGVjayk7XG4gICAgY29uc3QgY2ZhdElhbUlkY0NvbmZpZ3VyZWRDaGVjayA9IHtcbiAgICAgICAgY2hlY2s6IFwiSUFNIElkQyBjb25maWd1cmVkXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIklBTSBJZGVudGl0eSBDZW50ZXIgc2hvdWxkIGJlIGNvbmZpZ3VyZWQuXCIsXG4gICAgICAgIHN0YXR1czogY2ZhdElhbUlkY0NvbmZpZ3VyZWRQYXNzID8gXCJjb21wbGV0ZVwiIDogXCJpbmNvbXBsZXRlXCIsXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICB3ZWlnaHQ6IDYsXG4gICAgICAgIGxvZTogMyxcbiAgICAgICAgcmVtZWRpYXRpb25MaW5rOiBcImh0dHBzOi8vZG9jcy5hd3MuYW1hem9uLmNvbS9zaW5nbGVzaWdub24vbGF0ZXN0L3VzZXJndWlkZS90dXRvcmlhbHMuaHRtbFwiXG4gICAgfTtcbiAgICBjZmF0Q2hlY2tzLnB1c2goY2ZhdElhbUlkY0NvbmZpZ3VyZWRDaGVjayk7XG4gICAgY29uc3QgY2ZhdE9yZ1BvbGljeVNjcEVuYWJsZWQgPSB7XG4gICAgICAgIGNoZWNrOiBcIlNlcnZpY2UgQ29udHJvbCBQb2xpY2llcyBlbmFibGVkXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIlNlcnZpY2UgQ29udHJvbCBQb2xpY3kgc2hvdWxkIGJlIGVuYWJsZWQgd2l0aGluIHRoZSBBV1MgT3JnYW5pemF0aW9uLlwiLFxuICAgICAgICBzdGF0dXM6IGNmYXRTY3BFbmFibGVkUGFzcyA/IFwiY29tcGxldGVcIiA6IFwiaW5jb21wbGV0ZVwiLFxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgd2VpZ2h0OiA2LFxuICAgICAgICBsb2U6IDEsXG4gICAgICAgIHJlbWVkaWF0aW9uTGluazogXCJodHRwczovL2RvY3MuYXdzLmFtYXpvbi5jb20vb3JnYW5pemF0aW9ucy9sYXRlc3QvdXNlcmd1aWRlL29yZ3NfbWFuYWdlX3BvbGljaWVzX2VuYWJsZS1kaXNhYmxlLmh0bWxcIlxuICAgIH07XG4gICAgY2ZhdENoZWNrcy5wdXNoKGNmYXRPcmdQb2xpY3lTY3BFbmFibGVkKTtcbiAgICBjb25zdCBjZmF0T3JnUG9saWN5VGFnUG9saWN5Q2hlY2sgPSB7XG4gICAgICAgIGNoZWNrOiBcIk9yZ2FuaXphdGlvbiBUYWcgUG9saWN5IGVuYWJsZWRcIixcbiAgICAgICAgZGVzY3JpcHRpb246IFwiVGFnIFBvbGljeSBzaG91bGQgYmUgZW5hYmxlZCB3aXRoaW4gdGhlIEFXUyBPcmdhbml6YXRpb24uXCIsXG4gICAgICAgIHN0YXR1czogY2ZhdFRhZ1BvbGljaWVzRW5hYmxlZFBhc3MgPyBcImNvbXBsZXRlXCIgOiBcImluY29tcGxldGVcIixcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgIHdlaWdodDogNixcbiAgICAgICAgbG9lOiAxLFxuICAgICAgICByZW1lZGlhdGlvbkxpbms6IFwiaHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL29yZ2FuaXphdGlvbnMvbGF0ZXN0L3VzZXJndWlkZS9vcmdzX21hbmFnZV9wb2xpY2llc19lbmFibGUtZGlzYWJsZS5odG1sXCJcbiAgICB9O1xuICAgIGNmYXRDaGVja3MucHVzaChjZmF0T3JnUG9saWN5VGFnUG9saWN5Q2hlY2spO1xuICAgIGNvbnN0IGNmYXRCYWNrdXBQb2xpY2llc0VuYWJsZWRDaGVjayA9IHtcbiAgICAgICAgY2hlY2s6IFwiT3JnYW5pemF0aW9uIEJhY2t1cCBQb2xpY3kgZW5hYmxlZFwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJCYWNrdXAgUG9saWN5IHNob3VsZCBiZSBlbmFibGVkIHdpdGhpbiB0aGUgQVdTIE9yZ2FuaXphdGlvbi5cIixcbiAgICAgICAgc3RhdHVzOiBjZmF0QmFja3VwUG9saWNpZXNFbmFibGVkUGFzcyA/IFwiY29tcGxldGVcIiA6IFwiaW5jb21wbGV0ZVwiLFxuICAgICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICAgIHdlaWdodDogNSxcbiAgICAgICAgbG9lOiAxLFxuICAgICAgICByZW1lZGlhdGlvbkxpbms6IFwiaHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL29yZ2FuaXphdGlvbnMvbGF0ZXN0L3VzZXJndWlkZS9vcmdzX21hbmFnZV9wb2xpY2llc19lbmFibGUtZGlzYWJsZS5odG1sXCJcbiAgICB9O1xuICAgIGNmYXRDaGVja3MucHVzaChjZmF0QmFja3VwUG9saWNpZXNFbmFibGVkQ2hlY2spO1xuICAgIGNvbnN0IGNmYXRDb250cm9sVG93ZXJEZXBsb3llZENoZWNrID0ge1xuICAgICAgICBjaGVjazogXCJDb250cm9sIFRvd2VyIGRlcGxveWVkXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIkNvbnRyb2wgVG93ZXIgc2hvdWxkIGJlIGRlcGxveWVkLlwiLFxuICAgICAgICBzdGF0dXM6IGNmYXRDb250cm9sVG93ZXJEZXBsb3llZFBhc3MgPyBcImNvbXBsZXRlXCIgOiBcImluY29tcGxldGVcIixcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgIHdlaWdodDogNixcbiAgICAgICAgbG9lOiA2LFxuICAgICAgICByZW1lZGlhdGlvbkxpbms6IFwiaHR0cHM6Ly9jYXRhbG9nLndvcmtzaG9wcy5hd3MvY29udHJvbC10b3dlci9lbi1VUy9wcmVyZXF1aXNpdGVzL2RlcGxveWluZ1wiXG4gICAgfTtcbiAgICBjZmF0Q2hlY2tzLnB1c2goY2ZhdENvbnRyb2xUb3dlckRlcGxveWVkQ2hlY2spO1xuICAgIGNvbnN0IGNmYXRDb250cm9sVG93ZXJMYXRlc3RWZXJzaW9uQ2hlY2sgPSB7XG4gICAgICAgIGNoZWNrOiBcIkNvbnRyb2wgVG93ZXIgbGF0ZXN0IHZlcnNpb25cIixcbiAgICAgICAgZGVzY3JpcHRpb246IFwiQ29udHJvbCBUb3dlciBzaG91bGQgYmUgdGhlIGxhdGVzdCB2ZXJzaW9uLlwiLFxuICAgICAgICBzdGF0dXM6IGNmYXRDb250cm9sVG93ZXJMYXRlc3RWZXJzaW9uUGFzcyA/IFwiY29tcGxldGVcIiA6IFwiaW5jb21wbGV0ZVwiLFxuICAgICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICAgIHdlaWdodDogNSxcbiAgICAgICAgbG9lOiAyLFxuICAgICAgICByZW1lZGlhdGlvbkxpbms6IFwiaHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL2NvbnRyb2x0b3dlci9sYXRlc3QvdXNlcmd1aWRlL3VwZGF0ZS1jb250cm9sdG93ZXIuaHRtbFwiXG4gICAgfTtcbiAgICBjZmF0Q2hlY2tzLnB1c2goY2ZhdENvbnRyb2xUb3dlckxhdGVzdFZlcnNpb25DaGVjayk7XG4gICAgY29uc3QgY2ZhdENvbnRyb2xUb3dlck5vdERyaWZ0ZWRDaGVjayA9IHtcbiAgICAgICAgY2hlY2s6IFwiQ29udHJvbCBUb3dlciBub3QgZHJpZnRlZFwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJDb250cm9sIFRvd2VyIHNob3VsZCBub3QgYmUgZHJpZnRlZC5cIixcbiAgICAgICAgc3RhdHVzOiBjZmF0Q29udHJvbFRvd2VyTm90RHJpZnRlZFBhc3MgPyBcImNvbXBsZXRlXCIgOiBcImluY29tcGxldGVcIixcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgIHdlaWdodDogNixcbiAgICAgICAgbG9lOiAyLFxuICAgICAgICByZW1lZGlhdGlvbkxpbms6IFwiaHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL2NvbnRyb2x0b3dlci9sYXRlc3QvdXNlcmd1aWRlL3Jlc29sdmUtZHJpZnQuaHRtbFwiXG4gICAgfTtcbiAgICBjZmF0Q2hlY2tzLnB1c2goY2ZhdENvbnRyb2xUb3dlck5vdERyaWZ0ZWRDaGVjayk7XG4gICAgY29uc3QgY2ZhdExvZ0FyY2hpdmVBY2NvdW50Q2hlY2sgPSB7XG4gICAgICAgIGNoZWNrOiBcIkxvZyBBcmNoaXZlIGFjY291bnQgZGVwbG95ZWRcIixcbiAgICAgICAgZGVzY3JpcHRpb246IFwiTG9nIEFyY2hpdmUgYWNjb3VudCBzaG91bGQgZXhpc3QuXCIsXG4gICAgICAgIHN0YXR1czogY2ZhdExvZ0FyY2hpdmVBY2NvdW50UGFzcyA/IFwiY29tcGxldGVcIiA6IFwiaW5jb21wbGV0ZVwiLFxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgd2VpZ2h0OiA2LFxuICAgICAgICBsb2U6IDIsXG4gICAgICAgIHJlbWVkaWF0aW9uTGluazogXCJodHRwczovL2RvY3MuYXdzLmFtYXpvbi5jb20vY29udHJvbHRvd2VyL2xhdGVzdC91c2VyZ3VpZGUvZ2V0dGluZy1zdGFydGVkLWZyb20tY29uc29sZS5odG1sXCJcbiAgICB9O1xuICAgIGNmYXRDaGVja3MucHVzaChjZmF0TG9nQXJjaGl2ZUFjY291bnRDaGVjayk7XG4gICAgY29uc3QgY2ZhdEF1ZGl0QWNjb3VudENoZWNrID0ge1xuICAgICAgICBjaGVjazogXCJBdWRpdCBhY2NvdW50IGRlcGxveWVkXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIkF1ZGl0L1NlY3VyaXR5IFRvb2xpbmcgYWNjb3VudCBzaG91bGQgZXhpc3QuXCIsXG4gICAgICAgIHN0YXR1czogY2ZhdEF1ZGl0QWNjb3VudFBhc3MgPyBcImNvbXBsZXRlXCIgOiBcImluY29tcGxldGVcIixcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgIHdlaWdodDogNixcbiAgICAgICAgbG9lOiAyLFxuICAgICAgICByZW1lZGlhdGlvbkxpbms6IFwiaHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL2NvbnRyb2x0b3dlci9sYXRlc3QvdXNlcmd1aWRlL2dldHRpbmctc3RhcnRlZC1mcm9tLWNvbnNvbGUuaHRtbFwiXG4gICAgfTtcbiAgICBjZmF0Q2hlY2tzLnB1c2goY2ZhdEF1ZGl0QWNjb3VudENoZWNrKTtcbiAgICByZXBvcnQuY2ZhdENoZWNrcyA9IGNmYXRDaGVja3M7XG4gICAgY29uc29sZS50YWJsZShjZmF0Q2hlY2tzLCBbXCJjaGVja1wiLCBcInN0YXR1c1wiLCBcInJlcXVpcmVkXCIsIFwibG9lXCJdKTtcbiAgICAvLyB3cml0ZSBDRkFUIGNoZWNrcyB0byBDU1YgZmlsZSBmb3IgdXNlIGluIHRoZSBDRkFUIHJlcG9ydFxuICAgIGNvbnN0IGNmYXRDaGVja3NDc3ZGaWxlID0gXCIuL2NmYXQtY2hlY2tzLmNzdlwiO1xuICAgIGNvbnNvbGUubG9nKGB3cml0aW5nIGFzc2Vzc21lbnQgc3VtbWFyeSBjaGVja3MgdG8gLi9jZmF0L2NmYXQtY2hlY2tzLmNzdi4uLmApO1xuICAgIGNvbnN0IG9iamVjdEFycmF5Q1NWID0gb2JqZWN0VG9DU1YoY2ZhdENoZWNrcyk7XG4gICAgZnMud3JpdGVGaWxlU3luYyhjZmF0Q2hlY2tzQ3N2RmlsZSwgb2JqZWN0QXJyYXlDU1YpO1xuICAgIGNvbnN0IHJlcG9ydEZpbGUgPSBcIi4vY2ZhdC50eHRcIjtcbiAgICBjb25zdCB0YXNrcyA9IGF3YWl0IGNyZWF0ZVJlcG9ydChyZXBvcnQpO1xuICAgIGNvbnN0IGJhY2tsb2cgPSBhd2FpdCBjcmVhdGVCYWNrbG9nKHJlcG9ydCk7XG4gICAgY29uc29sZS5sb2coYGNsb3VkIGZvdW5kYXRpb24gYXNzZXNzbWVudCBjb21wbGV0ZS4gQWNjZXNzIHlvdXIgcmVwb3J0IGF0IC4vY2ZhdC9jZmF0LnR4dGApO1xuICAgIGNvbnNvbGUubG9nKGBhc3Nlc3NtZW50IHN1bW1hcnkgY2hlY2tzIHdyaXR0ZW4gdG8gLi9jZmF0L2NmYXQtY2hlY2tzLmNzdmApO1xuICAgIGNyZWF0ZUppcmFJbXBvcnQoYmFja2xvZyk7XG4gICAgYXdhaXQgY3JlYXRlQXNhbmFJbXBvcnQoYmFja2xvZyk7XG4gICAgYXdhaXQgemlwQXNzZXNzbWVudEZpbGVzKCk7XG4gICAgY29uc29sZS5sb2coYGFzc2Vzc21lbnQgZmlsZXMgemlwcGVkIHRvIC4vY2ZhdC9hc3Nlc3NtZW50LnppcGApO1xufTtcbm1haW4oKTtcbiIsImltcG9ydCB7IFNUU0NsaWVudCwgR2V0Q2FsbGVySWRlbnRpdHlDb21tYW5kIH0gZnJvbSBcIkBhd3Mtc2RrL2NsaWVudC1zdHNcIjtcbmFzeW5jIGZ1bmN0aW9uIGdldFBhcnRpdGlvbkluZm8oKSB7XG4gICAgY29uc3QgcmVnaW9uID0gcHJvY2Vzcy5lbnYuQVdTX1JFR0lPTiB8fCBwcm9jZXNzLmVudi5BV1NfREVGQVVMVF9SRUdJT04gfHwgJ3VzLWVhc3QtMSc7XG4gICAgY29uc3Qgc3RzQ2xpZW50ID0gbmV3IFNUU0NsaWVudCh7IHJlZ2lvbiB9KTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBjb21tYW5kID0gbmV3IEdldENhbGxlcklkZW50aXR5Q29tbWFuZCh7fSk7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgc3RzQ2xpZW50LnNlbmQoY29tbWFuZCk7XG4gICAgICAgIGlmIChyZXNwb25zZS5Bcm4pIHtcbiAgICAgICAgICAgIGNvbnN0IGFyblBhcnRzID0gcmVzcG9uc2UuQXJuLnNwbGl0KCc6Jyk7XG4gICAgICAgICAgICBjb25zdCBwYXJ0aXRpb24gPSBhcm5QYXJ0c1sxXTtcbiAgICAgICAgICAgIC8vIERldGVybWluZSBkZWZhdWx0IHJlZ2lvbiBiYXNlZCBvbiBwYXJ0aXRpb25cbiAgICAgICAgICAgIGxldCBkZWZhdWx0UmVnaW9uO1xuICAgICAgICAgICAgc3dpdGNoIChwYXJ0aXRpb24pIHtcbiAgICAgICAgICAgICAgICBjYXNlICdhd3MtdXMtZ292JzpcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFJlZ2lvbiA9ICd1cy1nb3Ytd2VzdC0xJztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnYXdzLWNuJzpcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFJlZ2lvbiA9ICdjbi1ub3J0aC0xJztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnYXdzJzpcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UmVnaW9uID0gJ3VzLWVhc3QtMSc7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgcGFydGl0aW9uLCBkZWZhdWx0UmVnaW9uIH07XG4gICAgICAgIH1cbiAgICAgICAgLy8gRmFsbGJhY2sgdG8gc3RhbmRhcmQgQVdTIHBhcnRpdGlvblxuICAgICAgICByZXR1cm4geyBwYXJ0aXRpb246ICdhd3MnLCBkZWZhdWx0UmVnaW9uOiAndXMtZWFzdC0xJyB9O1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGRldGVjdGluZyBwYXJ0aXRpb246XCIsIGVycm9yKTtcbiAgICAgICAgLy8gRmFsbGJhY2sgdG8gc3RhbmRhcmQgQVdTIHBhcnRpdGlvblxuICAgICAgICByZXR1cm4geyBwYXJ0aXRpb246ICdhd3MnLCBkZWZhdWx0UmVnaW9uOiAndXMtZWFzdC0xJyB9O1xuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgc3RzQ2xpZW50LmRlc3Ryb3koKTtcbiAgICB9XG59XG5leHBvcnQgZGVmYXVsdCBnZXRQYXJ0aXRpb25JbmZvO1xuIiwiaW1wb3J0IHsgRUMyQ2xpZW50LCBEZXNjcmliZVJlZ2lvbnNDb21tYW5kIH0gZnJvbSBcIkBhd3Mtc2RrL2NsaWVudC1lYzJcIjtcbmFzeW5jIGZ1bmN0aW9uIGdldEFsbFJlZ2lvbnMocmVnaW9uID0gJ3VzLWVhc3QtMScpIHtcbiAgICAvLyBncmFiYmluZyBhbGwgcmVnaW9ucyBmcm9tIHRoZSBzcGVjaWZpZWQgcmVnaW9uXG4gICAgY29uc3QgZWMyQ2xpZW50ID0gbmV3IEVDMkNsaWVudCh7IHJlZ2lvbiB9KTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBkZXNjcmliZVJlZ2lvbnNDb21tYW5kID0gbmV3IERlc2NyaWJlUmVnaW9uc0NvbW1hbmQoe30pO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGVjMkNsaWVudC5zZW5kKGRlc2NyaWJlUmVnaW9uc0NvbW1hbmQpO1xuICAgICAgICBjb25zdCByZWdpb25zID0gW107XG4gICAgICAgIGZvciAoY29uc3QgcmVnaW9uIG9mIHJlc3BvbnNlLlJlZ2lvbnMgfHwgW10pIHtcbiAgICAgICAgICAgIHJlZ2lvbnMucHVzaChyZWdpb24uUmVnaW9uTmFtZSB8fCBcIlwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVnaW9ucztcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciByZXRyaWV2aW5nIHJlZ2lvbnM6XCIsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgZWMyQ2xpZW50LmRlc3Ryb3koKTtcbiAgICB9XG59XG5leHBvcnQgZGVmYXVsdCBnZXRBbGxSZWdpb25zO1xuIiwiaW1wb3J0IHsgU1RTQ2xpZW50LCBHZXRDYWxsZXJJZGVudGl0eUNvbW1hbmQgfSBmcm9tIFwiQGF3cy1zZGsvY2xpZW50LXN0c1wiO1xuaW1wb3J0IHsgT3JnYW5pemF0aW9uc0NsaWVudCwgRGVzY3JpYmVPcmdhbml6YXRpb25Db21tYW5kLCB9IGZyb20gXCJAYXdzLXNkay9jbGllbnQtb3JnYW5pemF0aW9uc1wiO1xuYXN5bmMgZnVuY3Rpb24gZ2V0QWNjb3VudElkKHJlZ2lvbikge1xuICAgIGNvbnN0IHN0c0NsaWVudCA9IG5ldyBTVFNDbGllbnQoeyByZWdpb24gfSk7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZ2V0Q2FsbGVySWRlbnRpdHlDb21tYW5kID0gbmV3IEdldENhbGxlcklkZW50aXR5Q29tbWFuZCh7fSk7XG4gICAgICAgIGNvbnN0IEFjY291bnQgPSBhd2FpdCBzdHNDbGllbnQuc2VuZChnZXRDYWxsZXJJZGVudGl0eUNvbW1hbmQpO1xuICAgICAgICByZXR1cm4gQWNjb3VudC5BY2NvdW50O1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGdldHRpbmcgYWNjb3VudCBJRDpcIiwgZXJyb3IpO1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG59XG47XG4vLyBmdW5jdGlvbiBjaGVja2luZyBpZiBtYW5hZ2VtZW50IGFjY291bnQsIG1lbWJlciBhY2NvdW50LCBvciBzdGFuZGFsb25lIGFjY291bnRcbmV4cG9ydCBjb25zdCBkZWZpbmVBY2NvdW50VHlwZSA9IGFzeW5jIChyZWdpb24pID0+IHtcbiAgICBjb25zdCBvcmdhbml6YXRpb25zQ2xpZW50ID0gbmV3IE9yZ2FuaXphdGlvbnNDbGllbnQoeyByZWdpb24gfSk7XG4gICAgbGV0IGlzSW5Pcmdhbml6YXRpb24gPSBmYWxzZTtcbiAgICBsZXQgaXNNYW5hZ2VtZW50QWNjb3VudCA9IGZhbHNlO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRBY2NvdW50SWQgPSBhd2FpdCBnZXRBY2NvdW50SWQocmVnaW9uKTtcbiAgICAgICAgaWYgKGN1cnJlbnRBY2NvdW50SWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGRlc2NyaWJlT3JnYW5pemF0aW9uQ29tbWFuZCA9IG5ldyBEZXNjcmliZU9yZ2FuaXphdGlvbkNvbW1hbmQoe30pO1xuICAgICAgICAgICAgY29uc3QgZGVzY3JpYmVPcmdhbml6YXRpb25SZXNwb25zZSA9IGF3YWl0IG9yZ2FuaXphdGlvbnNDbGllbnQuc2VuZChkZXNjcmliZU9yZ2FuaXphdGlvbkNvbW1hbmQpO1xuICAgICAgICAgICAgLy8gdGhlIGFjY291bnQgaXMgbm90IHN0YW5kYWxvbmUgYW5kIHBhcnQgb2YgQVdTIE9yZ2FuaXphdGlvblxuICAgICAgICAgICAgaWYgKGRlc2NyaWJlT3JnYW5pemF0aW9uUmVzcG9uc2UuT3JnYW5pemF0aW9uPy5NYXN0ZXJBY2NvdW50SWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtYW5hZ2VtZW50QWNjb3VudElkID0gZGVzY3JpYmVPcmdhbml6YXRpb25SZXNwb25zZS5Pcmdhbml6YXRpb24/Lk1hc3RlckFjY291bnRJZDtcbiAgICAgICAgICAgICAgICBpZiAobWFuYWdlbWVudEFjY291bnRJZCA9PSBjdXJyZW50QWNjb3VudElkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgaXMgYW4gb3JnYW5pemF0aW9uIGFuZCB0aGlzIGlzIHRoZSBtYW5hZ2VtZW50IGFjY291bnRcbiAgICAgICAgICAgICAgICAgICAgaXNNYW5hZ2VtZW50QWNjb3VudCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGlzSW5Pcmdhbml6YXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlcmUgaXMgYW4gb3JnYW5pemF0aW9uLCBidXQgdGhpcyBpc24ndCB0aGUgbWFuYWdlbWVudCBhY2NvdW50XG4gICAgICAgICAgICAgICAgICAgIGlzSW5Pcmdhbml6YXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHRoZXJlIGlzbid0IGFuIG9yZ2FuaXphdGlvbiBhbmQgdGhpcyBhY2NvdW50IGlzIHN0YW5kYWxvbmVcbiAgICAgICAgICAgICAgICBpc0luT3JnYW5pemF0aW9uID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvcjpcIiwgZXJyb3IpO1xuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgb3JnYW5pemF0aW9uc0NsaWVudC5kZXN0cm95KCk7XG4gICAgfVxuICAgIHJldHVybiB7IGlzSW5Pcmdhbml6YXRpb24sIGlzTWFuYWdlbWVudEFjY291bnQgfTtcbn07XG4iLCJpbXBvcnQgeyBJQU1DbGllbnQsIExpc3RVc2Vyc0NvbW1hbmQsIExpc3RBY2Nlc3NLZXlzQ29tbWFuZCwgR2V0QWNjZXNzS2V5TGFzdFVzZWRDb21tYW5kIH0gZnJvbSBcIkBhd3Mtc2RrL2NsaWVudC1pYW1cIjtcbi8vIGZ1bmN0aW9uIGxpc3QgYWxsIElBTSB1c2VycyBhbmQgaWYgdGhleSBoYXZlIGtleXMgaW4gdGhlIG1hbmFnZW1lbnQgYWNjb3VudFxuY29uc3QgY2hlY2tJYW1Vc2VycyA9IGFzeW5jIChyZWdpb24gPSAndXMtZWFzdC0xJykgPT4ge1xuICAgIC8vIElBTSBpcyBnbG9iYWwgYnV0IHdlIHVzZSB0aGUgcHJvdmlkZWQgcmVnaW9uIGZvciBjb25zaXN0ZW5jeVxuICAgIGNvbnN0IGlhbUNsaWVudCA9IG5ldyBJQU1DbGllbnQoeyByZWdpb24gfSk7XG4gICAgY29uc3QgaWFtVXNlckluZm8gPSBbXTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBsaXN0VXNlcnNDb21tYW5kID0gbmV3IExpc3RVc2Vyc0NvbW1hbmQoe30pO1xuICAgICAgICBjb25zdCBsaXN0VXNlcnNSZXNwb25zZSA9IGF3YWl0IGlhbUNsaWVudC5zZW5kKGxpc3RVc2Vyc0NvbW1hbmQpO1xuICAgICAgICBmb3IgKGNvbnN0IHVzZXIgb2YgbGlzdFVzZXJzUmVzcG9uc2UuVXNlcnMgfHwgW10pIHtcbiAgICAgICAgICAgIGNvbnN0IHVzZXJOYW1lID0gdXNlci5Vc2VyTmFtZSB8fCBcIlwiO1xuICAgICAgICAgICAgY29uc3QgbGlzdEFjY2Vzc0tleXNDb21tYW5kID0gbmV3IExpc3RBY2Nlc3NLZXlzQ29tbWFuZCh7XG4gICAgICAgICAgICAgICAgVXNlck5hbWU6IHVzZXJOYW1lLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBsaXN0QWNjZXNzS2V5c1Jlc3BvbnNlID0gYXdhaXQgaWFtQ2xpZW50LnNlbmQobGlzdEFjY2Vzc0tleXNDb21tYW5kKTtcbiAgICAgICAgICAgIGNvbnN0IGFjY2Vzc0tleXMgPSBsaXN0QWNjZXNzS2V5c1Jlc3BvbnNlLkFjY2Vzc0tleU1ldGFkYXRhIHx8IFtdO1xuICAgICAgICAgICAgaWYgKGFjY2Vzc0tleXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYWNjZXNzS2V5IG9mIGFjY2Vzc0tleXMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWNjZXNzS2V5SWQgPSBhY2Nlc3NLZXkuQWNjZXNzS2V5SWQgfHwgXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZ2V0TGFzdFVzZWRDb21tYW5kID0gbmV3IEdldEFjY2Vzc0tleUxhc3RVc2VkQ29tbWFuZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBBY2Nlc3NLZXlJZDogYWNjZXNzS2V5SWQsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXN0VXNlZFJlc3BvbnNlID0gYXdhaXQgaWFtQ2xpZW50LnNlbmQoZ2V0TGFzdFVzZWRDb21tYW5kKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZm91bmRVc2VySW5mbyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWNjZXNzS2V5SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0VXNlZDogbGFzdFVzZWRSZXNwb25zZSAmJiBsYXN0VXNlZFJlc3BvbnNlLkFjY2Vzc0tleUxhc3RVc2VkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBgJHtsYXN0VXNlZFJlc3BvbnNlLkFjY2Vzc0tleUxhc3RVc2VkLkxhc3RVc2VkRGF0ZX1gIHx8IFwiTm90IGF2YWlsYWJsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcIk5vdCBhdmFpbGFibGVcIixcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgaWFtVXNlckluZm8ucHVzaChmb3VuZFVzZXJJbmZvKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmb3VuZFVzZXJJbmZvID0ge1xuICAgICAgICAgICAgICAgICAgICB1c2VyTmFtZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaWFtVXNlckluZm8ucHVzaChmb3VuZFVzZXJJbmZvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yOlwiLCBlcnJvcik7XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICBpYW1DbGllbnQuZGVzdHJveSgpO1xuICAgIH1cbiAgICByZXR1cm4gaWFtVXNlckluZm87XG59O1xuZXhwb3J0IGRlZmF1bHQgY2hlY2tJYW1Vc2VycztcbiIsImltcG9ydCB7IEVDMkNsaWVudCwgRGVzY3JpYmVJbnN0YW5jZXNDb21tYW5kIH0gZnJvbSBcIkBhd3Mtc2RrL2NsaWVudC1lYzJcIjtcbmFzeW5jIGZ1bmN0aW9uIGNoZWNrRWMyRXhpc3RzKHJlZ2lvbnMpIHtcbiAgICBsZXQgZWMyVmFsaWRhdGlvbiA9IFtdO1xuICAgIGZvciAoY29uc3QgcmVnaW9uIG9mIHJlZ2lvbnMpIHtcbiAgICAgICAgY29uc3QgZWMyQ2xpZW50ID0gbmV3IEVDMkNsaWVudCh7IHJlZ2lvbiB9KTtcbiAgICAgICAgY29uc3QgY29tbWFuZCA9IG5ldyBEZXNjcmliZUluc3RhbmNlc0NvbW1hbmQoe30pO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBlYzJDbGllbnQuc2VuZChjb21tYW5kKTtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5SZXNlcnZhdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuUmVzZXJ2YXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhgV0FSTklORzogSW5zdGFuY2UocykgZXhpc3RzIGluIHJlZ2lvbjogJHtyZWdpb259YCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVjMkZvdW5kID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVnaW9uOiByZWdpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBlYzJGb3VuZDogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBlYzJWYWxpZGF0aW9uLnB1c2goZWMyRm91bmQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZWMyRm91bmQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWdpb246IHJlZ2lvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGVjMkZvdW5kOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBlYzJWYWxpZGF0aW9uLnB1c2goZWMyRm91bmQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVjMkZvdW5kID0ge1xuICAgICAgICAgICAgICAgICAgICByZWdpb246IHJlZ2lvbixcbiAgICAgICAgICAgICAgICAgICAgZWMyRm91bmQ6IGZhbHNlXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBlYzJWYWxpZGF0aW9uLnB1c2goZWMyRm91bmQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coYEVycm9yIGNoZWNraW5nIGluc3RhbmNlOiAke2Vycm9yfWApO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgZWMyQ2xpZW50LmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgIH0gLy8gZW5kIGZvclxuICAgIHJldHVybiBlYzJWYWxpZGF0aW9uO1xufVxuO1xuZXhwb3J0IGRlZmF1bHQgY2hlY2tFYzJFeGlzdHM7XG4iLCJpbXBvcnQgeyBFQzJDbGllbnQsIERlc2NyaWJlVnBjc0NvbW1hbmQgfSBmcm9tIFwiQGF3cy1zZGsvY2xpZW50LWVjMlwiO1xuYXN5bmMgZnVuY3Rpb24gY2hlY2tWcGNFeGlzdHMocmVnaW9ucykge1xuICAgIGxldCB2cGNWYWxpZGF0aW9uID0gW107XG4gICAgZm9yIChjb25zdCByZWdpb24gb2YgcmVnaW9ucykge1xuICAgICAgICBjb25zdCBlYzJDbGllbnQgPSBuZXcgRUMyQ2xpZW50KHsgcmVnaW9uIH0pO1xuICAgICAgICBjb25zdCBjb21tYW5kID0gbmV3IERlc2NyaWJlVnBjc0NvbW1hbmQoe30pO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBlYzJDbGllbnQuc2VuZChjb21tYW5kKTtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5WcGNzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLlZwY3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2cGNGb3VuZCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lvbjogcmVnaW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgdnBjRm91bmQ6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgdnBjVmFsaWRhdGlvbi5wdXNoKHZwY0ZvdW5kKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZwY0ZvdW5kID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVnaW9uOiByZWdpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICB2cGNGb3VuZDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgdnBjVmFsaWRhdGlvbi5wdXNoKHZwY0ZvdW5kKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2cGNGb3VuZCA9IHtcbiAgICAgICAgICAgICAgICAgICAgcmVnaW9uOiByZWdpb24sXG4gICAgICAgICAgICAgICAgICAgIHZwY0ZvdW5kOiBmYWxzZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdnBjVmFsaWRhdGlvbi5wdXNoKHZwY0ZvdW5kKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBFcnJvcjogJHtlcnJvcn1gKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIGVjMkNsaWVudC5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICB9IC8vIGVuZCBmb3JcbiAgICByZXR1cm4gdnBjVmFsaWRhdGlvbjtcbn1cbjtcbmV4cG9ydCBkZWZhdWx0IGNoZWNrVnBjRXhpc3RzO1xuIiwiaW1wb3J0IHsgQ2xvdWRUcmFpbENsaWVudCwgRGVzY3JpYmVUcmFpbHNDb21tYW5kIH0gZnJvbSAnQGF3cy1zZGsvY2xpZW50LWNsb3VkdHJhaWwnO1xuYXN5bmMgZnVuY3Rpb24gY2hlY2tDbG91ZFRyYWlsRXhpc3RzKHJlZ2lvbnMpIHtcbiAgICBsZXQgY2xvdWRUcmFpbFZhbGlkYXRpb24gPSBbXTtcbiAgICBmb3IgKGNvbnN0IHJlZ2lvbiBvZiByZWdpb25zKSB7XG4gICAgICAgIGNvbnN0IGNsb3VkVHJhaWxDbGllbnQgPSBuZXcgQ2xvdWRUcmFpbENsaWVudCh7IHJlZ2lvbiB9KTtcbiAgICAgICAgY29uc3QgY2xvdWRUcmFpbERlc2NyaWJlQ29tbWFuZCA9IG5ldyBEZXNjcmliZVRyYWlsc0NvbW1hbmQoe30pO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgY2xvdWRUcmFpbFJlc3BvbnNlID0gYXdhaXQgY2xvdWRUcmFpbENsaWVudC5zZW5kKGNsb3VkVHJhaWxEZXNjcmliZUNvbW1hbmQpO1xuICAgICAgICAgICAgaWYgKGNsb3VkVHJhaWxSZXNwb25zZS50cmFpbExpc3QpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRyYWlsIG9mIGNsb3VkVHJhaWxSZXNwb25zZS50cmFpbExpc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRyYWlsSW5mbyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICBpZiAodHJhaWwuSG9tZVJlZ2lvbiA9PSByZWdpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coYHRyYWlsIGZvdW5kIGluICR7cmVnaW9ufWApXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFpbEluZm8gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVnaW9uOiByZWdpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhaWxGb3VuZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc09yZ1RyYWlsOiB0cmFpbC5Jc011bHRpUmVnaW9uVHJhaWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNNdWx0aVJlZ2lvbjogdHJhaWwuSXNNdWx0aVJlZ2lvblRyYWlsXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhaWxJbmZvID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lvbjogcmVnaW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYWlsRm91bmQ6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNsb3VkVHJhaWxWYWxpZGF0aW9uLnB1c2godHJhaWxJbmZvKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgRXJyb3IgY2hlY2tpbmcgaW5zdGFuY2U6ICR7ZXJyb3J9YCk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICBjbG91ZFRyYWlsQ2xpZW50LmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgIH0gLy8gZW5kIGZvciByZWdpb25zXG4gICAgcmV0dXJuIGNsb3VkVHJhaWxWYWxpZGF0aW9uO1xufVxuO1xuZXhwb3J0IGRlZmF1bHQgY2hlY2tDbG91ZFRyYWlsRXhpc3RzO1xuIiwiaW1wb3J0IHsgQ29uZmlnU2VydmljZUNsaWVudCwgRGVzY3JpYmVDb25maWd1cmF0aW9uUmVjb3JkZXJTdGF0dXNDb21tYW5kLCBEZXNjcmliZURlbGl2ZXJ5Q2hhbm5lbHNDb21tYW5kIH0gZnJvbSAnQGF3cy1zZGsvY2xpZW50LWNvbmZpZy1zZXJ2aWNlJztcbmFzeW5jIGZ1bmN0aW9uIGNoZWNrQ29uZmlnRXhpc3RzKHJlZ2lvbnMpIHtcbiAgICBsZXQgY29uZmlnRGV0YWlscyA9IFtdO1xuICAgIGZvciAoY29uc3QgcmVnaW9uIG9mIHJlZ2lvbnMpIHtcbiAgICAgICAgY29uc3QgY29uZmlnU2VydmljZUNsaWVudCA9IG5ldyBDb25maWdTZXJ2aWNlQ2xpZW50KHsgcmVnaW9uIH0pO1xuICAgICAgICBsZXQgY29uZmlnRGV0YWlsID0ge1xuICAgICAgICAgICAgcmVnaW9uOiByZWdpb24sXG4gICAgICAgICAgICBjb25maWdSZWNvcmRlckZvdW5kOiBmYWxzZSxcbiAgICAgICAgICAgIGNvbmZpZ0RlbGl2ZXJ5Q2hhbm5lbEZvdW5kOiBmYWxzZVxuICAgICAgICB9O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgQ29uZmlnIHJlY29yZGVyIGV4aXN0c1xuICAgICAgICAgICAgY29uc3QgcmVjb3JkZXJSZXNwb25zZSA9IGF3YWl0IGNvbmZpZ1NlcnZpY2VDbGllbnQuc2VuZChuZXcgRGVzY3JpYmVDb25maWd1cmF0aW9uUmVjb3JkZXJTdGF0dXNDb21tYW5kKHt9KSk7XG4gICAgICAgICAgICBjb25zdCByZWNvcmRlckV4aXN0cyA9IHJlY29yZGVyUmVzcG9uc2UuQ29uZmlndXJhdGlvblJlY29yZGVyc1N0YXR1cz8ubGVuZ3RoICE9PSAwO1xuICAgICAgICAgICAgaWYgKHJlY29yZGVyRXhpc3RzKSB7XG4gICAgICAgICAgICAgICAgY29uZmlnRGV0YWlsLmNvbmZpZ1JlY29yZGVyRm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgQ29uZmlnIGRlbGl2ZXJ5IGNoYW5uZWwgZXhpc3RzXG4gICAgICAgICAgICBjb25zdCBjaGFubmVsUmVzcG9uc2UgPSBhd2FpdCBjb25maWdTZXJ2aWNlQ2xpZW50LnNlbmQobmV3IERlc2NyaWJlRGVsaXZlcnlDaGFubmVsc0NvbW1hbmQoe30pKTtcbiAgICAgICAgICAgIGNvbnN0IGNoYW5uZWxFeGlzdHMgPSBjaGFubmVsUmVzcG9uc2UuRGVsaXZlcnlDaGFubmVscz8ubGVuZ3RoICE9PSAwO1xuICAgICAgICAgICAgaWYgKGNoYW5uZWxFeGlzdHMpIHtcbiAgICAgICAgICAgICAgICBjb25maWdEZXRhaWwuY29uZmlnRGVsaXZlcnlDaGFubmVsRm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uZmlnRGV0YWlscy5wdXNoKGNvbmZpZ0RldGFpbCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBjaGVja2luZyBBV1MgQ29uZmlnIGluICR7cmVnaW9ufTpgLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICBjb25maWdTZXJ2aWNlQ2xpZW50LmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY29uZmlnRGV0YWlscztcbn1cbmV4cG9ydCBkZWZhdWx0IGNoZWNrQ29uZmlnRXhpc3RzO1xuIiwiaW1wb3J0IHsgT3JnYW5pemF0aW9uc0NsaWVudCwgRGVzY3JpYmVPcmdhbml6YXRpb25Db21tYW5kLCBMaXN0Um9vdHNDb21tYW5kIH0gZnJvbSBcIkBhd3Mtc2RrL2NsaWVudC1vcmdhbml6YXRpb25zXCI7XG5hc3luYyBmdW5jdGlvbiBnZXRPcmdEZXRhaWxzKHJlZ2lvbikge1xuICAgIGNvbnN0IG9yZ0NsaWVudCA9IG5ldyBPcmdhbml6YXRpb25zQ2xpZW50KHsgcmVnaW9uIH0pO1xuICAgIGxldCBvcmdEZXRhaWxzID0ge307XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgb3JnRGVzY3JpYmVDb21tYW5kID0gbmV3IERlc2NyaWJlT3JnYW5pemF0aW9uQ29tbWFuZCh7fSk7XG4gICAgICAgIGNvbnN0IG9yZ0RhdGEgPSBhd2FpdCBvcmdDbGllbnQuc2VuZChvcmdEZXNjcmliZUNvbW1hbmQpO1xuICAgICAgICBpZiAob3JnRGF0YS5Pcmdhbml6YXRpb24pIHtcbiAgICAgICAgICAgIG9yZ0RldGFpbHMuaWQgPSBvcmdEYXRhLk9yZ2FuaXphdGlvbi5JZCA/PyBcIlwiO1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYE9yZ2FuaXphdGlvbiBJRDogJHtvcmdEZXRhaWxzLmlkfWAgKTtcbiAgICAgICAgICAgIG9yZ0RldGFpbHMuYXJuID0gb3JnRGF0YS5Pcmdhbml6YXRpb24uQXJuID8/IFwiXCI7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgT3JnYW5pemF0aW9uIEFSTjogJHtvcmdEZXRhaWxzLmFybn1gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb21tYW5kID0gbmV3IExpc3RSb290c0NvbW1hbmQoe30pO1xuICAgICAgICBjb25zdCByb290cyA9IGF3YWl0IG9yZ0NsaWVudC5zZW5kKGNvbW1hbmQpO1xuICAgICAgICBpZiAocm9vdHMuUm9vdHMpIHtcbiAgICAgICAgICAgIG9yZ0RldGFpbHMucm9vdE91SWQgPSByb290cy5Sb290c1swXS5JZDtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGBBV1MgT3JnIHJvb3Qgb3UgaWQ6ICR7b3JnRGV0YWlscy5yb290T3VJZH1gKVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ05vIGluZm8gZm91bmQgZm9yIHlvdXIgQVdTIE9yZ2FuaXphdGlvbi4nKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgQW4gZXJyb3Igb2NjdXJyZWQ6ICR7ZXJyb3J9YCk7XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICBvcmdDbGllbnQuZGVzdHJveSgpO1xuICAgICAgICByZXR1cm4gb3JnRGV0YWlscztcbiAgICB9XG59XG5leHBvcnQgZGVmYXVsdCBnZXRPcmdEZXRhaWxzO1xuIiwiaW1wb3J0IHsgQ29zdEFuZFVzYWdlUmVwb3J0U2VydmljZUNsaWVudCwgRGVzY3JpYmVSZXBvcnREZWZpbml0aW9uc0NvbW1hbmQgfSBmcm9tIFwiQGF3cy1zZGsvY2xpZW50LWNvc3QtYW5kLXVzYWdlLXJlcG9ydC1zZXJ2aWNlXCI7XG5jb25zdCBjaGVja0xlZ2FjeUN1ciA9IGFzeW5jIChyZWdpb24pID0+IHtcbiAgICAvLyBTZXQgdXAgQVdTIFNESyBjbGllbnQgZm9yIENvc3QgRXhwbG9yZXJcbiAgICBjb25zdCBjdXJDbGllbnQgPSBuZXcgQ29zdEFuZFVzYWdlUmVwb3J0U2VydmljZUNsaWVudCh7IHJlZ2lvbiB9KTtcbiAgICBsZXQgaXNMZWdhY3lDdXJTZXR1cCA9IGZhbHNlO1xuICAgIHRyeSB7XG4gICAgICAgIC8vIENoZWNrIGlmIENvc3QgRXhwbG9yZXIgaXMgc2V0IHVwXG4gICAgICAgIGNvbnN0IGlucHV0ID0ge307XG4gICAgICAgIGNvbnN0IGNvbW1hbmQgPSBuZXcgRGVzY3JpYmVSZXBvcnREZWZpbml0aW9uc0NvbW1hbmQoaW5wdXQpO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGN1ckNsaWVudC5zZW5kKGNvbW1hbmQpO1xuICAgICAgICBpZiAocmVzcG9uc2UuUmVwb3J0RGVmaW5pdGlvbnMgJiYgcmVzcG9uc2UuUmVwb3J0RGVmaW5pdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgaXNMZWdhY3lDdXJTZXR1cCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgaXNMZWdhY3lDdXJTZXR1cCB9O1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGVycm9yIGlzIHJlbGF0ZWQgdG8gQ29zdCBFeHBsb3JlciBzZXR1cFxuICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvcjogJHtlcnJvcn1gKTtcbiAgICAgICAgaXNMZWdhY3lDdXJTZXR1cCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4geyBpc0xlZ2FjeUN1clNldHVwIH07XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICAvLyBDbG9zZSB0aGUgQVdTIFNESyBjbGllbnRcbiAgICAgICAgY3VyQ2xpZW50LmRlc3Ryb3koKTtcbiAgICB9XG59O1xuZXhwb3J0IGRlZmF1bHQgY2hlY2tMZWdhY3lDdXI7XG4iLCJpbXBvcnQgeyBPcmdhbml6YXRpb25zQ2xpZW50LCBMaXN0Um9vdHNDb21tYW5kIH0gZnJvbSBcIkBhd3Mtc2RrL2NsaWVudC1vcmdhbml6YXRpb25zXCI7XG5hc3luYyBmdW5jdGlvbiBnZXRFbmFibGVkT3JnUG9saWN5VHlwZXMocmVnaW9uKSB7XG4gICAgY29uc3Qgb3JnQ2xpZW50ID0gbmV3IE9yZ2FuaXphdGlvbnNDbGllbnQoeyByZWdpb24gfSk7XG4gICAgbGV0IHBvbGljeVR5cGVzRW5hYmxlZCA9IHtcbiAgICAgICAgc2NwRW5hYmxlZDogZmFsc2UsXG4gICAgICAgIHRhZ1BvbGljeUVuYWJsZWQ6IGZhbHNlLFxuICAgICAgICBiYWNrdXBQb2xpY3lFbmFibGVkOiBmYWxzZVxuICAgIH07XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgaW5wdXQgPSB7fTtcbiAgICAgICAgY29uc3QgY29tbWFuZCA9IG5ldyBMaXN0Um9vdHNDb21tYW5kKGlucHV0KTtcbiAgICAgICAgY29uc3Qgcm9vdHMgPSBhd2FpdCBvcmdDbGllbnQuc2VuZChjb21tYW5kKTtcbiAgICAgICAgaWYgKHJvb3RzLlJvb3RzKSB7XG4gICAgICAgICAgICBpZiAocm9vdHMuUm9vdHNbMF0uUG9saWN5VHlwZXMpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGVuYWJsZWRQb2xpY3kgb2Ygcm9vdHMuUm9vdHNbMF0uUG9saWN5VHlwZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVuYWJsZWRQb2xpY3kuVHlwZSA9PSAnU0VSVklDRV9DT05UUk9MX1BPTElDWScgJiYgZW5hYmxlZFBvbGljeS5TdGF0dXMgPT0gJ0VOQUJMRUQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb2xpY3lUeXBlc0VuYWJsZWQuc2NwRW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGVuYWJsZWRQb2xpY3kuVHlwZSA9PSAnVEFHX1BPTElDWScgJiYgZW5hYmxlZFBvbGljeS5TdGF0dXMgPT0gJ0VOQUJMRUQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb2xpY3lUeXBlc0VuYWJsZWQudGFnUG9saWN5RW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGVuYWJsZWRQb2xpY3kuVHlwZSA9PSAnQkFDS1VQX1BPTElDWScgJiYgZW5hYmxlZFBvbGljeS5TdGF0dXMgPT0gJ0VOQUJMRUQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb2xpY3lUeXBlc0VuYWJsZWQuYmFja3VwUG9saWN5RW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IC8vIGVuZCBmb3JcbiAgICAgICAgICAgIH0gLy8gZW5kIGlmXG4gICAgICAgIH0gLy8gZW5kIGlmXG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBBbiBlcnJvciBvY2N1cnJlZDogJHtlcnJvcn1gKTtcbiAgICB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIG9yZ0NsaWVudC5kZXN0cm95KCk7XG4gICAgICAgIHJldHVybiBwb2xpY3lUeXBlc0VuYWJsZWQ7XG4gICAgfVxufVxuZXhwb3J0IGRlZmF1bHQgZ2V0RW5hYmxlZE9yZ1BvbGljeVR5cGVzO1xuIiwiaW1wb3J0IHsgT3JnYW5pemF0aW9uc0NsaWVudCwgTGlzdEFXU1NlcnZpY2VBY2Nlc3NGb3JPcmdhbml6YXRpb25Db21tYW5kIH0gZnJvbSBcIkBhd3Mtc2RrL2NsaWVudC1vcmdhbml6YXRpb25zXCI7XG5hc3luYyBmdW5jdGlvbiBnZXRFbmFibGVkT3JnU2VydmljZXMocmVnaW9uKSB7XG4gICAgY29uc3QgZGlzY292ZXJlZE9yZ1NlcnZpY2VzID0gW107XG4gICAgY29uc3Qgb3JnQ2xpZW50ID0gbmV3IE9yZ2FuaXphdGlvbnNDbGllbnQoeyByZWdpb24gfSk7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgb3JnU2VydmljZUFjY2Vzc0NvbW1hbmQgPSBuZXcgTGlzdEFXU1NlcnZpY2VBY2Nlc3NGb3JPcmdhbml6YXRpb25Db21tYW5kKHt9KTtcbiAgICAgICAgY29uc3Qgb3JnU2VydmljZUFjY2Vzc1Jlc3BvbnNlID0gYXdhaXQgb3JnQ2xpZW50LnNlbmQob3JnU2VydmljZUFjY2Vzc0NvbW1hbmQpO1xuICAgICAgICBpZiAob3JnU2VydmljZUFjY2Vzc1Jlc3BvbnNlLkVuYWJsZWRTZXJ2aWNlUHJpbmNpcGFscyAmJiBvcmdTZXJ2aWNlQWNjZXNzUmVzcG9uc2UuRW5hYmxlZFNlcnZpY2VQcmluY2lwYWxzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIG9yZ1NlcnZpY2VBY2Nlc3NSZXNwb25zZS5FbmFibGVkU2VydmljZVByaW5jaXBhbHM7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG9yZ1NlcnZpY2Ugb2Ygb3JnU2VydmljZUFjY2Vzc1Jlc3BvbnNlLkVuYWJsZWRTZXJ2aWNlUHJpbmNpcGFscykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZvdW5kT3JnU2VydmljZSA9IHsgc2VydmljZTogb3JnU2VydmljZS5TZXJ2aWNlUHJpbmNpcGFsID8/IFwiXCIgfTtcbiAgICAgICAgICAgICAgICBkaXNjb3ZlcmVkT3JnU2VydmljZXMucHVzaChmb3VuZE9yZ1NlcnZpY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjaGVja2luZyBzZXJ2aWNlIGFjY2VzczonLCBlcnJvcik7XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICBvcmdDbGllbnQuZGVzdHJveSgpO1xuICAgICAgICByZXR1cm4gZGlzY292ZXJlZE9yZ1NlcnZpY2VzO1xuICAgIH1cbn1cbjtcbmV4cG9ydCBkZWZhdWx0IGdldEVuYWJsZWRPcmdTZXJ2aWNlcztcbiIsImltcG9ydCB7IENsb3VkRm9ybWF0aW9uQ2xpZW50LCBEZXNjcmliZU9yZ2FuaXphdGlvbnNBY2Nlc3NDb21tYW5kLCB9IGZyb20gXCJAYXdzLXNkay9jbGllbnQtY2xvdWRmb3JtYXRpb25cIjtcbmFzeW5jIGZ1bmN0aW9uIGdldE9yZ0Nsb3VkRm9ybWF0aW9uKHJlZ2lvbikge1xuICAgIGxldCBvcmdDZm5TdGF0dXMgPSB7XG4gICAgICAgIHN0YXR1czogXCJkaXNhYmxlZFwiXG4gICAgfTtcbiAgICBjb25zdCBjbG91ZEZvcm1hdGlvbkNsaWVudCA9IG5ldyBDbG91ZEZvcm1hdGlvbkNsaWVudCh7IHJlZ2lvbiB9KTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBkZXNjcmliZU9yZ0FjY2Vzc0lucHV0ID0ge307XG4gICAgICAgIGNvbnN0IGNvbW1hbmQgPSBuZXcgRGVzY3JpYmVPcmdhbml6YXRpb25zQWNjZXNzQ29tbWFuZChkZXNjcmliZU9yZ0FjY2Vzc0lucHV0KTtcbiAgICAgICAgY29uc3QgY2xvdWRGb3JtYXRpb25PcmdBY2Nlc3MgPSBhd2FpdCBjbG91ZEZvcm1hdGlvbkNsaWVudC5zZW5kKGNvbW1hbmQpO1xuICAgICAgICAvL2NvbnNvbGUubG9nKFwiQ2xvdWRGb3JtYXRpb24gYWN0aXZhdGlvbiBzdGF0dXM6IFwiLCBjbG91ZEZvcm1hdGlvbk9yZ0FjY2Vzcy5TdGF0dXMpXG4gICAgICAgIG9yZ0NmblN0YXR1cy5zdGF0dXMgPSBjbG91ZEZvcm1hdGlvbk9yZ0FjY2Vzcy5TdGF0dXMgPz8gXCJkaXNhYmxlZFwiO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5sb2coYEVycm9yOiAke2Vycm9yfWApO1xuICAgICAgICAvL3Rocm93IG5ldyBFcnJvcihgRXJyb3I6ICR7ZXJyb3J9YCk7XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICBjbG91ZEZvcm1hdGlvbkNsaWVudC5kZXN0cm95KCk7XG4gICAgICAgIHJldHVybiBvcmdDZm5TdGF0dXM7XG4gICAgfVxufVxuO1xuZXhwb3J0IGRlZmF1bHQgZ2V0T3JnQ2xvdWRGb3JtYXRpb247XG4iLCJpbXBvcnQgeyBDb250cm9sVG93ZXJDbGllbnQsIExpc3RMYW5kaW5nWm9uZXNDb21tYW5kLCBHZXRMYW5kaW5nWm9uZUNvbW1hbmQgfSBmcm9tIFwiQGF3cy1zZGsvY2xpZW50LWNvbnRyb2x0b3dlclwiO1xuYXN5bmMgZnVuY3Rpb24gZ2V0Q29udHJvbFRvd2VyKHJlZ2lvbikge1xuICAgIGxldCBjb250cm9sVG93ZXJJbmZvID0ge307XG4gICAgY29uc3QgY29udHJvbFRvd2VyQ2xpZW50ID0gbmV3IENvbnRyb2xUb3dlckNsaWVudCh7IHJlZ2lvbiB9KTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBjb21tYW5kID0gbmV3IExpc3RMYW5kaW5nWm9uZXNDb21tYW5kKHt9KTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBjb250cm9sVG93ZXJDbGllbnQuc2VuZChjb21tYW5kKTtcbiAgICAgICAgaWYgKHJlc3BvbnNlLmxhbmRpbmdab25lcyAmJiByZXNwb25zZS5sYW5kaW5nWm9uZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgaW5wdXQgPSB7XG4gICAgICAgICAgICAgICAgbGFuZGluZ1pvbmVJZGVudGlmaWVyOiByZXNwb25zZS5sYW5kaW5nWm9uZXNbMF0uYXJuLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGx6UmVnaW9uID0gcmVzcG9uc2UubGFuZGluZ1pvbmVzWzBdLmFybj8udG9TdHJpbmcoKS5zcGxpdCgnOicpWzNdID8/IFwiXCI7XG4gICAgICAgICAgICBpZiAobHpSZWdpb24pIHtcbiAgICAgICAgICAgICAgICBjb250cm9sVG93ZXJJbmZvLmNvbnRyb2xUb3dlclJlZ2lvbiA9IGx6UmVnaW9uO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRyb2xUb3dlckNsaWVudFJlZ2lvbiA9IG5ldyBDb250cm9sVG93ZXJDbGllbnQoeyByZWdpb246IGx6UmVnaW9uIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbW1hbmQgPSBuZXcgR2V0TGFuZGluZ1pvbmVDb21tYW5kKGlucHV0KTtcbiAgICAgICAgICAgICAgICBjb25zdCBselJlc3BvbnNlID0gYXdhaXQgY29udHJvbFRvd2VyQ2xpZW50UmVnaW9uLnNlbmQoY29tbWFuZCk7XG4gICAgICAgICAgICAgICAgaWYgKGx6UmVzcG9uc2UubGFuZGluZ1pvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbFRvd2VySW5mby5zdGF0dXMgPSBselJlc3BvbnNlLmxhbmRpbmdab25lLnN0YXR1cztcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbFRvd2VySW5mby5sYXRlc3RBdmFpbGFibGVWZXJzaW9uID0gbHpSZXNwb25zZS5sYW5kaW5nWm9uZS5sYXRlc3RBdmFpbGFibGVWZXJzaW9uO1xuICAgICAgICAgICAgICAgICAgICBjb250cm9sVG93ZXJJbmZvLmRlcGxveWVkVmVyc2lvbiA9IGx6UmVzcG9uc2UubGFuZGluZ1pvbmUudmVyc2lvbjtcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbFRvd2VySW5mby5kcmlmdFN0YXR1cyA9IGx6UmVzcG9uc2UubGFuZGluZ1pvbmUuZHJpZnRTdGF0dXM/LnN0YXR1cztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGNoZWNraW5nIENvbnRyb2wgVG93ZXIgaW4gJHtyZWdpb259OmAsIGVycm9yKTtcbiAgICB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIGNvbnRyb2xUb3dlckNsaWVudC5kZXN0cm95KCk7XG4gICAgfVxuICAgIHJldHVybiBjb250cm9sVG93ZXJJbmZvO1xufVxuZXhwb3J0IGRlZmF1bHQgZ2V0Q29udHJvbFRvd2VyO1xuIiwiaW1wb3J0IHsgU1NPQWRtaW5DbGllbnQsIExpc3RJbnN0YW5jZXNDb21tYW5kIH0gZnJvbSBcIkBhd3Mtc2RrL2NsaWVudC1zc28tYWRtaW5cIjtcbmFzeW5jIGZ1bmN0aW9uIGdldElkY0luZm8ocmVnaW9uTGlzdCkge1xuICAgIGxldCBpZGNEZXRhaWxzID0geyBmb3VuZDogZmFsc2UgfTtcbiAgICBmb3IgKGNvbnN0IHJlZ2lvbiBvZiByZWdpb25MaXN0KSB7XG4gICAgICAgIGNvbnN0IHNzb0FkbWluQ2xpZW50ID0gbmV3IFNTT0FkbWluQ2xpZW50KHsgcmVnaW9uIH0pO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3Qgc3NvSW5wdXQgPSB7XG4gICAgICAgICAgICAgICAgTWF4UmVzdWx0czogTnVtYmVyKFwiMTAwXCIpXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgY29tbWFuZCA9IG5ldyBMaXN0SW5zdGFuY2VzQ29tbWFuZChzc29JbnB1dCk7XG4gICAgICAgICAgICBjb25zdCBzc29JbnN0YW5jZVJlc3BvbnNlID0gYXdhaXQgc3NvQWRtaW5DbGllbnQuc2VuZChjb21tYW5kKTtcbiAgICAgICAgICAgIGlmIChzc29JbnN0YW5jZVJlc3BvbnNlLkluc3RhbmNlcyAmJiBzc29JbnN0YW5jZVJlc3BvbnNlLkluc3RhbmNlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3NvSW5zdGFuY2UgPSBzc29JbnN0YW5jZVJlc3BvbnNlLkluc3RhbmNlc1swXTtcbiAgICAgICAgICAgICAgICBpZGNEZXRhaWxzLmZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZGNEZXRhaWxzLnJlZ2lvbiA9IHJlZ2lvbjtcbiAgICAgICAgICAgICAgICBpZGNEZXRhaWxzLmFybiA9IHNzb0luc3RhbmNlLkluc3RhbmNlQXJuO1xuICAgICAgICAgICAgICAgIGlkY0RldGFpbHMuaWQgPSBzc29JbnN0YW5jZS5JZGVudGl0eVN0b3JlSWQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgRXJyb3IgbG9va2luZyBmb3IgQVdTIElkZW50aXR5IENlbnRlciBkZXRhaWxzIGluIHJlZ2lvbiAke3JlZ2lvbn1gKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHNzb0FkbWluQ2xpZW50LmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaWRjRGV0YWlscztcbn1cbjtcbmV4cG9ydCBkZWZhdWx0IGdldElkY0luZm87XG4iLCJpbXBvcnQgeyBPcmdhbml6YXRpb25zQ2xpZW50LCBMaXN0RGVsZWdhdGVkQWRtaW5pc3RyYXRvcnNDb21tYW5kLCBMaXN0RGVsZWdhdGVkU2VydmljZXNGb3JBY2NvdW50Q29tbWFuZCB9IGZyb20gXCJAYXdzLXNkay9jbGllbnQtb3JnYW5pemF0aW9uc1wiO1xuYXN5bmMgZnVuY3Rpb24gZ2V0T3JnRGFBY2NvdW50cyhyZWdpb24gPSAndXMtZWFzdC0xJykge1xuICAgIGxldCBvcmdEYURldGFpbHMgPSBbXTtcbiAgICBjb25zdCBvcmdDbGllbnQgPSBuZXcgT3JnYW5pemF0aW9uc0NsaWVudCh7IHJlZ2lvbiB9KTtcbiAgICBsZXQgb3JnRGFEZXRhaWwgPSB7fTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBjb21tYW5kID0gbmV3IExpc3REZWxlZ2F0ZWRBZG1pbmlzdHJhdG9yc0NvbW1hbmQoe30pO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IG9yZ0NsaWVudC5zZW5kKGNvbW1hbmQpO1xuICAgICAgICBpZiAocmVzcG9uc2UuRGVsZWdhdGVkQWRtaW5pc3RyYXRvcnMpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZGEgb2YgcmVzcG9uc2UuRGVsZWdhdGVkQWRtaW5pc3RyYXRvcnMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbnB1dCA9IHsgQWNjb3VudElkOiBkYS5JZCB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbW1hbmQgPSBuZXcgTGlzdERlbGVnYXRlZFNlcnZpY2VzRm9yQWNjb3VudENvbW1hbmQoaW5wdXQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFjY291bnRSZXNwb25zZSA9IGF3YWl0IG9yZ0NsaWVudC5zZW5kKGNvbW1hbmQpO1xuICAgICAgICAgICAgICAgIGlmIChhY2NvdW50UmVzcG9uc2UuRGVsZWdhdGVkU2VydmljZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgb3JnRGFEZXRhaWwgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlczogYWNjb3VudFJlc3BvbnNlLkRlbGVnYXRlZFNlcnZpY2VzLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudE5hbWU6IGRhLk5hbWVcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgb3JnRGFEZXRhaWxzLnB1c2gob3JnRGFEZXRhaWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5sb2coYEVycm9yIGxvb2tpbmcgZm9yIGRlbGVnYXRlZCBzZXJ2aWNlcy5gKTtcbiAgICB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIG9yZ0NsaWVudC5kZXN0cm95KCk7XG4gICAgfVxuICAgIHJldHVybiBvcmdEYURldGFpbHM7XG59XG47XG5leHBvcnQgZGVmYXVsdCBnZXRPcmdEYUFjY291bnRzO1xuIiwiaW1wb3J0IHsgT3JnYW5pemF0aW9uc0NsaWVudCwgTGlzdEFjY291bnRzQ29tbWFuZCB9IGZyb20gJ0Bhd3Mtc2RrL2NsaWVudC1vcmdhbml6YXRpb25zJztcbmFzeW5jIGZ1bmN0aW9uIGdldE9yZ01lbWJlckFjY291bnRzKHJlZ2lvbiA9ICd1cy1lYXN0LTEnKSB7XG4gICAgbGV0IG9yZ01lbWJlckFjY291bnRJbmZvID0gW107XG4gICAgY29uc3Qgb3Jnc0NsaWVudCA9IG5ldyBPcmdhbml6YXRpb25zQ2xpZW50KHsgcmVnaW9uIH0pO1xuICAgIGNvbnN0IGlucHV0ID0ge1xuICAgICAgICBNYXhSZXN1bHRzOiBOdW1iZXIoXCIyMDBcIiksXG4gICAgfTtcbiAgICB0cnkge1xuICAgICAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCBvcmdzQ2xpZW50LnNlbmQobmV3IExpc3RBY2NvdW50c0NvbW1hbmQoe30pKTtcbiAgICAgICAgaWYgKHJlc3BvbnNlLkFjY291bnRzICYmIHJlc3BvbnNlLkFjY291bnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgYWNjb3VudCBvZiByZXNwb25zZS5BY2NvdW50cykge1xuICAgICAgICAgICAgICAgIGxldCBvcmdNZW1iZXJBY2NvdW50ID0ge1xuICAgICAgICAgICAgICAgICAgICBhY2NvdW50TmFtZTogYWNjb3VudC5OYW1lLFxuICAgICAgICAgICAgICAgICAgICBhY2NvdW50RW1haWw6IGFjY291bnQuRW1haWwsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBvcmdNZW1iZXJBY2NvdW50SW5mby5wdXNoKG9yZ01lbWJlckFjY291bnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5OZXh0VG9rZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBhd2FpdCBvcmdzQ2xpZW50LnNlbmQobmV3IExpc3RBY2NvdW50c0NvbW1hbmQoeyBOZXh0VG9rZW46IHJlc3BvbnNlLk5leHRUb2tlbiB9KSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5BY2NvdW50cyAmJiByZXNwb25zZS5BY2NvdW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGFjY291bnQgb2YgcmVzcG9uc2UuQWNjb3VudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgb3JnTWVtYmVyQWNjb3VudCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudE5hbWU6IGFjY291bnQuTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudEVtYWlsOiBhY2NvdW50LkVtYWlsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JnTWVtYmVyQWNjb3VudEluZm8ucHVzaChvcmdNZW1iZXJBY2NvdW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gd2hpbGUgKHJlc3BvbnNlLk5leHRUb2tlbik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxpc3RpbmcgQVdTIGFjY291bnRzOicsIGVycm9yKTtcbiAgICB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIG9yZ3NDbGllbnQuZGVzdHJveSgpO1xuICAgIH1cbiAgICByZXR1cm4gb3JnTWVtYmVyQWNjb3VudEluZm87XG59XG5leHBvcnQgZGVmYXVsdCBnZXRPcmdNZW1iZXJBY2NvdW50cztcbiIsImltcG9ydCB7IE9yZ2FuaXphdGlvbnNDbGllbnQsIExpc3RPcmdhbml6YXRpb25hbFVuaXRzRm9yUGFyZW50Q29tbWFuZCwgTGlzdEFjY291bnRzRm9yUGFyZW50Q29tbWFuZCB9IGZyb20gXCJAYXdzLXNkay9jbGllbnQtb3JnYW5pemF0aW9uc1wiO1xuYXN5bmMgZnVuY3Rpb24gZ2V0T3JnVG9wTGV2ZWxPdXMocmVnaW9uLCByb290T3VJZCkge1xuICAgIGNvbnN0IG9yZ0NsaWVudCA9IG5ldyBPcmdhbml6YXRpb25zQ2xpZW50KHsgcmVnaW9uIH0pO1xuICAgIGxldCB0b3BMZXZlbE91cyA9IFtdO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGxpc3RPVXNDb21tYW5kID0gbmV3IExpc3RPcmdhbml6YXRpb25hbFVuaXRzRm9yUGFyZW50Q29tbWFuZCh7XG4gICAgICAgICAgICBQYXJlbnRJZDogcm9vdE91SWQsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBsaXN0T1VzUmVzcG9uc2UgPSBhd2FpdCBvcmdDbGllbnQuc2VuZChsaXN0T1VzQ29tbWFuZCk7XG4gICAgICAgIGlmIChsaXN0T1VzUmVzcG9uc2UuT3JnYW5pemF0aW9uYWxVbml0cykge1xuICAgICAgICAgICAgZm9yIChjb25zdCBvdSBvZiBsaXN0T1VzUmVzcG9uc2UuT3JnYW5pemF0aW9uYWxVbml0cykge1xuICAgICAgICAgICAgICAgIGxldCB0b3BMZXZlbE91ID0ge1xuICAgICAgICAgICAgICAgICAgICBpZDogb3UuSWQsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IG91Lk5hbWVcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IGFjY291bnRSZXNwb25zZSA9IGF3YWl0IG9yZ0NsaWVudC5zZW5kKG5ldyBMaXN0QWNjb3VudHNGb3JQYXJlbnRDb21tYW5kKHsgUGFyZW50SWQ6IG91LklkIH0pKTtcbiAgICAgICAgICAgICAgICBpZiAoYWNjb3VudFJlc3BvbnNlLkFjY291bnRzICYmIGFjY291bnRSZXNwb25zZS5BY2NvdW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvcExldmVsT3UuYWNjb3VudHMgPSBhY2NvdW50UmVzcG9uc2UuQWNjb3VudHM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRvcExldmVsT3VzLnB1c2godG9wTGV2ZWxPdSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNoZWNraW5nIHNlcnZpY2UgYWNjZXNzOicsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgb3JnQ2xpZW50LmRlc3Ryb3koKTtcbiAgICB9XG4gICAgcmV0dXJuIHRvcExldmVsT3VzO1xufVxuO1xuZXhwb3J0IGRlZmF1bHQgZ2V0T3JnVG9wTGV2ZWxPdXM7XG4iLCIvLyBiYWNrbG9nIGlzIGEgc2VyaWVzIG9mIHRhc2tzIHB1dCB0b2dldGhlciB0aGF0IHdpbGwgY2xvc2Vcbi8vIGFueSBuZWNlc3NhcnkgZmluZGluZ3MgZnJvbSB0aGUgQ0ZBVCBjaGVja3NcbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUJhY2tsb2coYXNzZXNzbWVudCkge1xuICAgIGxldCB0YXNrcyA9IFtdO1xuICAgIGlmIChhc3Nlc3NtZW50LmlhbVVzZXJDaGVja3MgJiYgYXNzZXNzbWVudC5pYW1Vc2VyQ2hlY2tzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZm9yIChjb25zdCBpYW1Vc2VyIG9mIGFzc2Vzc21lbnQuaWFtVXNlckNoZWNrcykge1xuICAgICAgICAgICAgbGV0IGlhbVRhc2sgPSB7XG4gICAgICAgICAgICAgICAgdGl0bGU6IGBSZW1vdmUgSUFNIHVzZXIgJHtpYW1Vc2VyLnVzZXJOYW1lfWAsXG4gICAgICAgICAgICAgICAgZGV0YWlsOiBgUmV2aWV3IGFuZCBkZXRlcm1pbmUgaWYgSUFNIHVzZXIgJHtpYW1Vc2VyLnVzZXJOYW1lfSBjYW4gYmUgZGVsZXRlZC5gLFxuICAgICAgICAgICAgICAgIHJlbWVkaWF0aW9uTGluazogXCJcIlxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRhc2tzLnB1c2goaWFtVGFzayk7XG4gICAgICAgICAgICBpZiAoaWFtVXNlci5hY2Nlc3NLZXlJZCkge1xuICAgICAgICAgICAgICAgIGxldCBpYW1BcGlUYXNrID0ge1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogYFJlbW92ZSBJQU0gdXNlciAke2lhbVVzZXIudXNlck5hbWV9IEFQSSBrZXkgJHtpYW1Vc2VyLmFjY2Vzc0tleUlkfSBgLFxuICAgICAgICAgICAgICAgICAgICBkZXRhaWw6IGBSZXZpZXcgYW5kIGRldGVybWluZSBpZiBJQU0gdXNlciBBUEkga2V5ICR7aWFtVXNlci5hY2Nlc3NLZXlJZH0gZm9yICR7aWFtVXNlci51c2VyTmFtZX0gY2FuIGJlIHJlbW92ZWQuYCxcbiAgICAgICAgICAgICAgICAgICAgcmVtZWRpYXRpb25MaW5rOiBcImh0dHBzOi8vZG9jcy5hd3MuYW1hem9uLmNvbS9JQU0vbGF0ZXN0L1VzZXJHdWlkZS9pZF91c2Vyc19tYW5hZ2UuaHRtbCNpZF91c2Vyc19kZWxldGluZ1wiXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0YXNrcy5wdXNoKGlhbUFwaVRhc2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChhc3Nlc3NtZW50LmVjMkNoZWNrcyAmJiBhc3Nlc3NtZW50LmVjMkNoZWNrcy5maW5kKHBhcmFtID0+IHBhcmFtLmVjMkZvdW5kID09PSB0cnVlKSkge1xuICAgICAgICBmb3IgKGNvbnN0IGVjMiBvZiBhc3Nlc3NtZW50LmVjMkNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGVjMi5lYzJGb3VuZCAmJiBlYzIucmVnaW9uKSB7XG4gICAgICAgICAgICAgICAgbGV0IGVjMlRhc2sgPSB7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBgRGVsZXRlIEVDMiBpbnN0YW5jZSBpbiAke2VjMi5yZWdpb259YCxcbiAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiBgRGVsZXRlIGFueSB1bm5lY2Vzc2FyeSBFQzIgaW5zdGFuY2UgaW4gJHtlYzIucmVnaW9ufWAsXG4gICAgICAgICAgICAgICAgICAgIHJlbWVkaWF0aW9uTGluazogXCJodHRwczovL2RvY3MuYXdzLmFtYXpvbi5jb20vQVdTRUMyL2xhdGVzdC9Vc2VyR3VpZGUvdGVybWluYXRpbmctaW5zdGFuY2VzLmh0bWxcIlxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdGFza3MucHVzaChlYzJUYXNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoYXNzZXNzbWVudC52cGNDaGVja3MgJiYgYXNzZXNzbWVudC52cGNDaGVja3MubGVuZ3RoID4gMCkge1xuICAgICAgICBmb3IgKGNvbnN0IHZwY0ZpbmQgb2YgYXNzZXNzbWVudC52cGNDaGVja3MpIHtcbiAgICAgICAgICAgIGlmICh2cGNGaW5kLnZwY0ZvdW5kICYmIHZwY0ZpbmQucmVnaW9uKSB7XG4gICAgICAgICAgICAgICAgbGV0IHZwY1Rhc2sgPSB7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBgRGVsZXRlIFZQQyBpbiAke3ZwY0ZpbmQucmVnaW9ufWAsXG4gICAgICAgICAgICAgICAgICAgIGRldGFpbDogYERlbGV0ZSBhbnkgdW5uZWNlc3NhcnkgVlBDIGluICR7dnBjRmluZC5yZWdpb259IHRvIGluY2x1ZGUgdGhlIGRlZmF1bHQgVlBDLmAsXG4gICAgICAgICAgICAgICAgICAgIHJlbWVkaWF0aW9uTGluazogXCJodHRwczovL2dpdGh1Yi5jb20vY2xvdWQtZm91bmRhdGlvbnMtb24tYXdzL2Nsb3VkLWZvdW5kYXRpb25zLXRlbXBsYXRlcy9ibG9iL21haW4vbmV0d29yay9uZXR3b3JrLWRlZmF1bHQtdnBjLWRlbGV0aW9uL1JFQURNRS5tZFwiXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0YXNrcy5wdXNoKHZwY1Rhc2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGlmICghYXNzZXNzbWVudC5zY3BFbmFibGVkKSB7XG4gICAgICAgIGNvbnN0IHNjcEVuYWJsZWRUYXNrID0ge1xuICAgICAgICAgICAgdGl0bGU6ICdFbmFibGUgU0NQJyxcbiAgICAgICAgICAgIGRldGFpbDogYEVuYWJsZSBTQ1AgaW4gQVdTIE9yZ2FuaXphdGlvbmAsXG4gICAgICAgICAgICByZW1lZGlhdGlvbkxpbms6IFwiaHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL29yZ2FuaXphdGlvbnMvbGF0ZXN0L3VzZXJndWlkZS9vcmdzX21hbmFnZV9wb2xpY2llc19lbmFibGUtZGlzYWJsZS5odG1sXCJcbiAgICAgICAgfTtcbiAgICAgICAgdGFza3MucHVzaChzY3BFbmFibGVkVGFzayk7XG4gICAgfVxuICAgIGlmICghYXNzZXNzbWVudC50YWdQb2xpY3lFbmFibGVkKSB7XG4gICAgICAgIGxldCB0YWdQb2xpY3lFbmFibGVkVGFzayA9IHtcbiAgICAgICAgICAgIHRpdGxlOiAnRW5hYmxlIFRhZyBQb2xpY3knLFxuICAgICAgICAgICAgZGV0YWlsOiBgRW5hYmxlIFRhZyBQb2xpY3kgaW4gQVdTIE9yZ2FuaXphdGlvbmAsXG4gICAgICAgICAgICByZW1lZGlhdGlvbkxpbms6IFwiaHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL29yZ2FuaXphdGlvbnMvbGF0ZXN0L3VzZXJndWlkZS9vcmdzX21hbmFnZV9wb2xpY2llc19lbmFibGUtZGlzYWJsZS5odG1sXCJcbiAgICAgICAgfTtcbiAgICAgICAgdGFza3MucHVzaCh0YWdQb2xpY3lFbmFibGVkVGFzayk7XG4gICAgfVxuICAgIGlmICghYXNzZXNzbWVudC5iYWNrdXBQb2xpY3lFbmFibGVkKSB7XG4gICAgICAgIGxldCBiYWNrdXBQb2xpY3lFbmFibGVkVGFzayA9IHtcbiAgICAgICAgICAgIHRpdGxlOiAnRW5hYmxlIEJhY2t1cCBQb2xpY3knLFxuICAgICAgICAgICAgZGV0YWlsOiBgRW5hYmxlIEJhY2t1cCBQb2xpY3kgaW4gQVdTIE9yZ2FuaXphdGlvbmAsXG4gICAgICAgICAgICByZW1lZGlhdGlvbkxpbms6IFwiaHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL29yZ2FuaXphdGlvbnMvbGF0ZXN0L3VzZXJndWlkZS9vcmdzX21hbmFnZV9wb2xpY2llc19lbmFibGUtZGlzYWJsZS5odG1sXCJcbiAgICAgICAgfTtcbiAgICAgICAgdGFza3MucHVzaChiYWNrdXBQb2xpY3lFbmFibGVkVGFzayk7XG4gICAgfVxuICAgIGlmICghYXNzZXNzbWVudC5pc0xlZ2FjeUN1clNldHVwKSB7XG4gICAgICAgIGNvbnN0IGxlZ2FjeUN1clNldHVwVGFzayA9IHtcbiAgICAgICAgICAgIHRpdGxlOiAnU2V0dXAgbGVnYWN5IENVUicsXG4gICAgICAgICAgICBkZXRhaWw6IGBTZXR1cCBsZWdhY3kgQ1VSIGluIEFXUyBPcmdhbml6YXRpb25gLFxuICAgICAgICAgICAgcmVtZWRpYXRpb25MaW5rOiBcImh0dHBzOi8vZG9jcy5hd3MuYW1hem9uLmNvbS9jdXIvbGF0ZXN0L3VzZXJndWlkZS9kYXRhZXhwb3J0cy1jcmVhdGUtbGVnYWN5Lmh0bWxcIlxuICAgICAgICB9O1xuICAgICAgICB0YXNrcy5wdXNoKGxlZ2FjeUN1clNldHVwVGFzayk7XG4gICAgfVxuICAgIGxldCB0cmFuc2l0aW9uYWxGb3VuZCwgc3VzcGVuZGVkRm91bmQsIGluZnJhc3RydWN0dXJlRm91bmQgPSBmYWxzZTtcbiAgICBsZXQgd29ya2xvYWRzRm91bmQgPSBmYWxzZTtcbiAgICBsZXQgc2VjdXJpdHlGb3VuZCA9IGZhbHNlO1xuICAgIGlmIChhc3Nlc3NtZW50Lm9yZ1Jvb3RPdUlkKSB7XG4gICAgICAgIGlmIChhc3Nlc3NtZW50Lm9yZ091SW5mbyAmJiBhc3Nlc3NtZW50Lm9yZ091SW5mby5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG91IG9mIGFzc2Vzc21lbnQub3JnT3VJbmZvKSB7XG4gICAgICAgICAgICAgICAgaWYgKG91Lm5hbWU/LnRvTG93ZXJDYXNlKCkgPT09ICdzdXNwZW5kZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1c3BlbmRlZEZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG91Lm5hbWU/LnRvTG93ZXJDYXNlKCkgPT09ICd0cmFuc2l0aW9uYWwnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb25hbEZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG91Lm5hbWU/LnRvTG93ZXJDYXNlKCkgPT09ICd3b3JrbG9hZHMnKSB7XG4gICAgICAgICAgICAgICAgICAgIHdvcmtsb2Fkc0ZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG91Lm5hbWU/LnRvTG93ZXJDYXNlKCkgPT09ICdzZWN1cml0eScpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VjdXJpdHlGb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChvdS5uYW1lPy50b0xvd2VyQ2FzZSgpID09PSAnaW5mcmFzdHJ1Y3R1cmUnKSB7XG4gICAgICAgICAgICAgICAgICAgIGluZnJhc3RydWN0dXJlRm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBsZXQgaWRlbnRpdHlEZWxlZ2F0ZWQgPSBmYWxzZTtcbiAgICBsZXQgc2VjdXJpdHlIdWJEZWxlZ2F0ZWQgPSBmYWxzZTtcbiAgICBsZXQgZ3VhcmREdXR5RGVsZWdhdGVkID0gZmFsc2U7XG4gICAgbGV0IGNvbmZpZ0RlbGVnYXRlZCA9IGZhbHNlO1xuICAgIGxldCBpYW1BY2Nlc3NBbmFseXplckRlbGVnYXRlZCA9IGZhbHNlO1xuICAgIGxldCBzM1N0b3JhZ2VMZW5zRGVsZWdhdGVkID0gZmFsc2U7XG4gICAgbGV0IGlwYW1EZWxlZ2F0ZWQgPSBmYWxzZTtcbiAgICBsZXQgYWNjb3VudERlbGVnYXRlZCA9IGZhbHNlO1xuICAgIGxldCBiYWNrdXBEZWxlZ2F0ZWQgPSBmYWxzZTtcbiAgICBpZiAoYXNzZXNzbWVudC5vcmdEZWxlZ2F0ZWRBZG1pbkFjY291bnRzICYmIGFzc2Vzc21lbnQub3JnRGVsZWdhdGVkQWRtaW5BY2NvdW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGZvciAoY29uc3QgYWNjb3VudCBvZiBhc3Nlc3NtZW50Lm9yZ0RlbGVnYXRlZEFkbWluQWNjb3VudHMpIHtcbiAgICAgICAgICAgIGlmIChhY2NvdW50LnNlcnZpY2VzICYmIGFjY291bnQuc2VydmljZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc3J2IG9mIGFjY291bnQuc2VydmljZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNydi5TZXJ2aWNlUHJpbmNpcGFsID09PSAnc2VjdXJpdHlodWIuYW1hem9uYXdzLmNvbScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlY3VyaXR5SHViRGVsZWdhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoc3J2LlNlcnZpY2VQcmluY2lwYWwgPT09ICdndWFyZGR1dHkuYW1hem9uYXdzLmNvbScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGd1YXJkRHV0eURlbGVnYXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHNydi5TZXJ2aWNlUHJpbmNpcGFsID09PSAnc3NvLmFtYXpvbmF3cy5jb20nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZGVudGl0eURlbGVnYXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHNydi5TZXJ2aWNlUHJpbmNpcGFsID09PSAnY29uZmlnLmFtYXpvbmF3cy5jb20nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maWdEZWxlZ2F0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChzcnYuU2VydmljZVByaW5jaXBhbCA9PT0gJ2FjY2Vzcy1hbmFseXplci5hbWF6b25hd3MuY29tJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWFtQWNjZXNzQW5hbHl6ZXJEZWxlZ2F0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChzcnYuU2VydmljZVByaW5jaXBhbCA9PT0gJ3N0b3JhZ2UtbGVucy5zMy5hbWF6b25hd3MuY29tJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgczNTdG9yYWdlTGVuc0RlbGVnYXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHNydi5TZXJ2aWNlUHJpbmNpcGFsID09PSAnaXBhbS5hbWF6b25hd3MuY29tJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXBhbURlbGVnYXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHNydi5TZXJ2aWNlUHJpbmNpcGFsID09PSAnYWNjb3VudC5hbWF6b25hd3MuY29tJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudERlbGVnYXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHNydi5TZXJ2aWNlUHJpbmNpcGFsID09PSAnYmFja3VwLmFtYXpvbmF3cy5jb20nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrdXBEZWxlZ2F0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGFjY291bnRFbWFpbFJldmlld1Rhc2sgPSB7XG4gICAgICAgIHRpdGxlOiAnUmV2aWV3IGFjY291bnQgZW1haWwgYWRkcmVzc2VzJyxcbiAgICAgICAgZGV0YWlsOiBgUmV2aWV3IEFjY291bnQgRW1haWwgQWRkcmVzc2VzIGluIEFXUyBPcmdhbml6YXRpb25gLFxuICAgICAgICByZW1lZGlhdGlvbkxpbms6IFwiaHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL0lBTS9sYXRlc3QvVXNlckd1aWRlL3Jvb3QtdXNlci1iZXN0LXByYWN0aWNlcy5odG1sI3J1LWJwLWdyb3VwXCJcbiAgICB9O1xuICAgIHRhc2tzLnB1c2goYWNjb3VudEVtYWlsUmV2aWV3VGFzayk7XG4gICAgLy8gT1VzXG4gICAgaWYgKCF0cmFuc2l0aW9uYWxGb3VuZCkge1xuICAgICAgICBjb25zdCB0cmFuc2l0aW9uYWxUYXNrID0ge1xuICAgICAgICAgICAgdGl0bGU6ICdEZXBsb3kgVHJhbnNpdGlvbmFsIE9VJyxcbiAgICAgICAgICAgIGRldGFpbDogYERlcGxveSBUcmFuc2l0aW9uYWwgT1UgaW4gQVdTIE9yZ2FuaXphdGlvbmAsXG4gICAgICAgICAgICByZW1lZGlhdGlvbkxpbms6IFwiaHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL3doaXRlcGFwZXJzL2xhdGVzdC9vcmdhbml6aW5nLXlvdXItYXdzLWVudmlyb25tZW50L3RyYW5zaXRpb25hbC1vdS5odG1sXCJcbiAgICAgICAgfTtcbiAgICAgICAgdGFza3MucHVzaCh0cmFuc2l0aW9uYWxUYXNrKTtcbiAgICB9XG4gICAgaWYgKCFzdXNwZW5kZWRGb3VuZCkge1xuICAgICAgICBjb25zdCBzdXNwZW5kZWRUYXNrID0ge1xuICAgICAgICAgICAgdGl0bGU6ICdEZXBsb3kgU3VzcGVuZGVkIE9VJyxcbiAgICAgICAgICAgIGRldGFpbDogYERlcGxveSBTdXNwZW5kZWQgT1UgaW4gQVdTIE9yZ2FuaXphdGlvbmAsXG4gICAgICAgICAgICByZW1lZGlhdGlvbkxpbms6IFwiaHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL3doaXRlcGFwZXJzL2xhdGVzdC9vcmdhbml6aW5nLXlvdXItYXdzLWVudmlyb25tZW50L3N1c3BlbmRlZC1vdS5odG1sXCJcbiAgICAgICAgfTtcbiAgICAgICAgdGFza3MucHVzaChzdXNwZW5kZWRUYXNrKTtcbiAgICB9XG4gICAgaWYgKCF3b3JrbG9hZHNGb3VuZCkge1xuICAgICAgICBjb25zdCB3b3JrbG9hZHNUYXNrID0ge1xuICAgICAgICAgICAgdGl0bGU6ICdEZXBsb3kgV29ya2xvYWRzIE9VJyxcbiAgICAgICAgICAgIGRldGFpbDogYERlcGxveSBXb3JrbG9hZHMgT1UgaW4gQVdTIE9yZ2FuaXphdGlvbmAsXG4gICAgICAgICAgICByZW1lZGlhdGlvbkxpbms6IFwiaHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL3doaXRlcGFwZXJzL2xhdGVzdC9vcmdhbml6aW5nLXlvdXItYXdzLWVudmlyb25tZW50L3dvcmtsb2Fkcy1vdS5odG1sXCJcbiAgICAgICAgfTtcbiAgICAgICAgdGFza3MucHVzaCh3b3JrbG9hZHNUYXNrKTtcbiAgICB9XG4gICAgaWYgKCFzZWN1cml0eUZvdW5kKSB7XG4gICAgICAgIGNvbnN0IHNlY3VyaXR5VGFzayA9IHtcbiAgICAgICAgICAgIHRpdGxlOiAnRGVwbG95IFNlY3VyaXR5IE9VJyxcbiAgICAgICAgICAgIGRldGFpbDogYERlcGxveSBTZWN1cml0eSBPVSBpbiBBV1MgT3JnYW5pemF0aW9uYCxcbiAgICAgICAgICAgIHJlbWVkaWF0aW9uTGluazogXCJodHRwczovL2RvY3MuYXdzLmFtYXpvbi5jb20vd2hpdGVwYXBlcnMvbGF0ZXN0L29yZ2FuaXppbmcteW91ci1hd3MtZW52aXJvbm1lbnQvc2VjdXJpdHktb3UtYW5kLWFjY291bnRzLmh0bWxcIlxuICAgICAgICB9O1xuICAgICAgICB0YXNrcy5wdXNoKHNlY3VyaXR5VGFzayk7XG4gICAgfVxuICAgIGlmICghaW5mcmFzdHJ1Y3R1cmVGb3VuZCkge1xuICAgICAgICBjb25zdCBpbmZyYXN0cnVjdHVyZVRhc2sgPSB7XG4gICAgICAgICAgICB0aXRsZTogJ0RlcGxveSBJbmZyYXN0cnVjdHVyZSBPVScsXG4gICAgICAgICAgICBkZXRhaWw6IGBEZXBsb3kgSW5mcmFzdHJ1Y3R1cmUgT1UgaW4gQVdTIE9yZ2FuaXphdGlvbmAsXG4gICAgICAgICAgICByZW1lZGlhdGlvbkxpbms6IFwiaHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL3doaXRlcGFwZXJzL2xhdGVzdC9vcmdhbml6aW5nLXlvdXItYXdzLWVudmlyb25tZW50L2luZnJhc3RydWN0dXJlLW91LWFuZC1hY2NvdW50cy5odG1sXCJcbiAgICAgICAgfTtcbiAgICAgICAgdGFza3MucHVzaChpbmZyYXN0cnVjdHVyZVRhc2spO1xuICAgIH1cbiAgICAvLyBDb250cm9sIFRvd2VyXG4gICAgaWYgKGFzc2Vzc21lbnQuY29udHJvbFRvd2VyUmVnaW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uc3QgZGVwbG95Q29udHJvbFRvd2VyVGFzayA9IHtcbiAgICAgICAgICAgIHRpdGxlOiAnRGVwbG95IEFXUyBDb250cm9sIFRvd2VyJyxcbiAgICAgICAgICAgIGRldGFpbDogYERlcGxveSBBV1MgQ29udHJvbCBUb3dlciBpbiBBV1MgT3JnYW5pemF0aW9uYCxcbiAgICAgICAgICAgIHJlbWVkaWF0aW9uTGluazogXCJodHRwczovL2NhdGFsb2cud29ya3Nob3BzLmF3cy9jb250cm9sLXRvd2VyL2VuLVVTL3ByZXJlcXVpc2l0ZXMvZGVwbG95aW5nXCJcbiAgICAgICAgfTtcbiAgICAgICAgdGFza3MucHVzaChkZXBsb3lDb250cm9sVG93ZXJUYXNrKTtcbiAgICB9XG4gICAgaWYgKGFzc2Vzc21lbnQuY29udHJvbFRvd2VyRHJpZnRTdGF0dXMgPT09ICdEUklGVEVEJykge1xuICAgICAgICBjb25zdCBmaXhMekRyaWZ0VGFzayA9IHtcbiAgICAgICAgICAgIHRpdGxlOiAnRml4IGRyaWZ0IGluIGRlcGxveWVkIGxhbmRpbmcgem9uZScsXG4gICAgICAgICAgICBkZXRhaWw6IGBGaXggZHJpZnQgaW4gZGVwbG95ZWQgbGFuZGluZyB6b25lYCxcbiAgICAgICAgICAgIHJlbWVkaWF0aW9uTGluazogXCJodHRwczovL2RvY3MuYXdzLmFtYXpvbi5jb20vY29udHJvbHRvd2VyL2xhdGVzdC91c2VyZ3VpZGUvcmVzb2x2ZS1kcmlmdC5odG1sXCJcbiAgICAgICAgfTtcbiAgICAgICAgdGFza3MucHVzaChmaXhMekRyaWZ0VGFzayk7XG4gICAgfVxuICAgIGlmIChhc3Nlc3NtZW50LmNvbnRyb2xUb3dlckRlcGxveWVkVmVyc2lvbiAhPT0gYXNzZXNzbWVudC5jb250cm9sVG93ZXJMYXRlc3RBdmFpbGFibGVWZXJzaW9uKSB7XG4gICAgICAgIGNvbnN0IHVwZGF0ZUNvbnRyb2xUb3dlclRhc2sgPSB7XG4gICAgICAgICAgICB0aXRsZTogYFVwZGF0ZSBBV1MgQ29udHJvbCBUb3dlciB0byBsYXRlc3QgdmVyc2lvbmAsXG4gICAgICAgICAgICBkZXRhaWw6IGBVcGRhdGUgQVdTIENvbnRyb2wgVG93ZXIgdG8gdmVyc2lvbiAke2Fzc2Vzc21lbnQuY29udHJvbFRvd2VyTGF0ZXN0QXZhaWxhYmxlVmVyc2lvbn1gLFxuICAgICAgICAgICAgcmVtZWRpYXRpb25MaW5rOiBcImh0dHBzOi8vZG9jcy5hd3MuYW1hem9uLmNvbS9jb250cm9sdG93ZXIvbGF0ZXN0L3VzZXJndWlkZS91cGRhdGUtY29udHJvbHRvd2VyLmh0bWxcIlxuICAgICAgICB9O1xuICAgICAgICB0YXNrcy5wdXNoKHVwZGF0ZUNvbnRyb2xUb3dlclRhc2spO1xuICAgIH1cbiAgICAvLyBjbG91ZHRyYWlsXG4gICAgaWYgKCFhc3Nlc3NtZW50Lm9yZ1NlcnZpY2VzIHx8ICFhc3Nlc3NtZW50Lm9yZ1NlcnZpY2VzLmZpbmQocGFyYW0gPT4gcGFyYW0uc2VydmljZSA9PT0gJ2Nsb3VkdHJhaWwuYW1hem9uYXdzLmNvbScpKSB7XG4gICAgICAgIGNvbnN0IGN0T3JnU2VydmljZVRhc2sgPSB7XG4gICAgICAgICAgICB0aXRsZTogJ0VuYWJsZSBBV1MgQ2xvdWRUcmFpbCcsXG4gICAgICAgICAgICBkZXRhaWw6IGBFbmFibGUgQVdTIENsb3VkVHJhaWwgaW4gQVdTIE9yZ2FuaXphdGlvbmAsXG4gICAgICAgICAgICByZW1lZGlhdGlvbkxpbms6IFwiaHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL2NvbnRyb2x0b3dlci9sYXRlc3QvdXNlcmd1aWRlL3Jlc29sdmUtZHJpZnQuaHRtbFwiXG4gICAgICAgIH07XG4gICAgICAgIHRhc2tzLnB1c2goY3RPcmdTZXJ2aWNlVGFzayk7XG4gICAgfVxuICAgIC8vIFMzIFN0b3JhZ2UgTGVuc1xuICAgIGlmICghczNTdG9yYWdlTGVuc0RlbGVnYXRlZCkge1xuICAgICAgICBjb25zdCB0YXNrUzNTdG9yYWdlTGVuc0RlbGVnYXRlZCA9IHtcbiAgICAgICAgICAgIHRpdGxlOiAnRGVsZWdhdGUgYWRtaW5pc3RyYXRpb24gb2YgQW1hem9uIFMzIFN0b3JhZ2UgTGVucycsXG4gICAgICAgICAgICBkZXRhaWw6IGBEZWxlZ2F0ZSBhZG1pbmlzdHJhdGlvbiB0byBBbWF6b24gUzMgU3RvcmFnZSBMZW5zYCxcbiAgICAgICAgICAgIHJlbWVkaWF0aW9uTGluazogXCJodHRwczovL2RvY3MuYXdzLmFtYXpvbi5jb20vb3JnYW5pemF0aW9ucy9sYXRlc3QvdXNlcmd1aWRlL3NlcnZpY2VzLXRoYXQtY2FuLWludGVncmF0ZS1zM2xlbnMuaHRtbCNpbnRlZ3JhdGUtZW5hYmxlLWRhLXMzbGVuc1wiXG4gICAgICAgIH07XG4gICAgICAgIHRhc2tzLnB1c2godGFza1MzU3RvcmFnZUxlbnNEZWxlZ2F0ZWQpO1xuICAgIH1cbiAgICAvLyBDbG91ZEZvcm1hdGlvblxuICAgIGlmICghYXNzZXNzbWVudC5vcmdTZXJ2aWNlcyB8fCAhYXNzZXNzbWVudC5vcmdTZXJ2aWNlcy5maW5kKHBhcmFtID0+IHBhcmFtLnNlcnZpY2UgPT09ICdtZW1iZXIub3JnLnN0YWNrc2V0cy5jbG91ZGZvcm1hdGlvbi5hbWF6b25hd3MuY29tJykpIHtcbiAgICAgICAgY29uc3Qgb3JnU2VydmljZUNmbkVuYWJsZVRhc2sgPSB7XG4gICAgICAgICAgICB0aXRsZTogJ0VuYWJsZSBBV1MgQ2xvdWRGb3JtYXRpb24nLFxuICAgICAgICAgICAgZGV0YWlsOiBgRW5hYmxlIEFXUyBDbG91ZEZvcm1hdGlvbiBpbiBBV1MgT3JnYW5pemF0aW9uYCxcbiAgICAgICAgICAgIHJlbWVkaWF0aW9uTGluazogXCJodHRwczovL2RvY3MuYXdzLmFtYXpvbi5jb20vQVdTQ2xvdWRGb3JtYXRpb24vbGF0ZXN0L1VzZXJHdWlkZS9zdGFja3NldHMtb3Jncy1hY3RpdmF0ZS10cnVzdGVkLWFjY2Vzcy5odG1sXCJcbiAgICAgICAgfTtcbiAgICAgICAgdGFza3MucHVzaChvcmdTZXJ2aWNlQ2ZuRW5hYmxlVGFzayk7XG4gICAgfVxuICAgIC8vIElkZW50aXR5IENlbnRlclxuICAgIGlmICghYXNzZXNzbWVudC5vcmdTZXJ2aWNlcyB8fCAhYXNzZXNzbWVudC5vcmdTZXJ2aWNlcy5maW5kKHBhcmFtID0+IHBhcmFtLnNlcnZpY2UgPT09ICdzc28uYW1hem9uYXdzLmNvbScpKSB7XG4gICAgICAgIGNvbnN0IHNzb1Rhc2sgPSB7XG4gICAgICAgICAgICB0aXRsZTogJ0VuYWJsZSBBV1MgU2luZ2xlIFNpZ24tT24nLFxuICAgICAgICAgICAgZGV0YWlsOiBgRW5hYmxlIEFXUyBTaW5nbGUgU2lnbi1PbiBpbiBBV1MgT3JnYW5pemF0aW9uYCxcbiAgICAgICAgICAgIHJlbWVkaWF0aW9uTGluazogXCJodHRwczovL2RvY3MuYXdzLmFtYXpvbi5jb20vc2luZ2xlc2lnbm9uL2xhdGVzdC91c2VyZ3VpZGUvZ2V0LXNldC11cC1mb3ItaWRjLmh0bWxcIlxuICAgICAgICB9O1xuICAgICAgICB0YXNrcy5wdXNoKHNzb1Rhc2spO1xuICAgIH1cbiAgICBpZiAoIWlkZW50aXR5RGVsZWdhdGVkKSB7XG4gICAgICAgIGNvbnN0IGlkZW50aXR5RGVsZWdhdGVkVGFzayA9IHtcbiAgICAgICAgICAgIHRpdGxlOiAnRGVsZWdhdGUgYWRtaW5pc3RyYXRpb24gdG8gQVdTIElBTSBJZGVudGl0eSBDZW50ZXInLFxuICAgICAgICAgICAgZGV0YWlsOiBgRGVsZWdhdGUgYWRtaW5pc3RyYXRpb24gdG8gQVdTIElBTSBJZGVudGl0eSBDZW50ZXJgLFxuICAgICAgICAgICAgcmVtZWRpYXRpb25MaW5rOiBcImh0dHBzOi8vZG9jcy5hd3MuYW1hem9uLmNvbS9zaW5nbGVzaWdub24vbGF0ZXN0L3VzZXJndWlkZS9kZWxlZ2F0ZWQtYWRtaW4uaHRtbFwiXG4gICAgICAgIH07XG4gICAgICAgIHRhc2tzLnB1c2goaWRlbnRpdHlEZWxlZ2F0ZWRUYXNrKTtcbiAgICB9XG4gICAgLy8gU2VjdXJpdHlIdWJcbiAgICBpZiAoIWFzc2Vzc21lbnQub3JnU2VydmljZXMgfHwgIWFzc2Vzc21lbnQub3JnU2VydmljZXMuZmluZChwYXJhbSA9PiBwYXJhbS5zZXJ2aWNlID09PSAnc2VjdXJpdHlodWIuYW1hem9uYXdzLmNvbScpKSB7XG4gICAgICAgIGNvbnN0IHRhc2tTZWN1cml0eUh1YkRlbGVnYXRlZCA9IHtcbiAgICAgICAgICAgIHRpdGxlOiAnRGVsZWdhdGUgYWRtaW5pc3RyYXRpb24gdG8gQVdTIFNlY3VyaXR5IEh1YicsXG4gICAgICAgICAgICBkZXRhaWw6IGBEZWxlZ2F0ZSBhZG1pbmlzdHJhdGlvbiB0byBBV1MgU2VjdXJpdHkgSHViYCxcbiAgICAgICAgICAgIHJlbWVkaWF0aW9uTGluazogXCJodHRwczovL2RvY3MuYXdzLmFtYXpvbi5jb20vb3JnYW5pemF0aW9ucy9sYXRlc3QvdXNlcmd1aWRlL3NlcnZpY2VzLXRoYXQtY2FuLWludGVncmF0ZS1zZWN1cml0eWh1Yi5odG1sI2ludGVncmF0ZS1lbmFibGUtdGEtc2VjdXJpdHlodWJcIlxuICAgICAgICB9O1xuICAgICAgICB0YXNrcy5wdXNoKHRhc2tTZWN1cml0eUh1YkRlbGVnYXRlZCk7XG4gICAgfVxuICAgIGlmICghc2VjdXJpdHlIdWJEZWxlZ2F0ZWQpIHtcbiAgICAgICAgY29uc3QgdGFza1NlY3VyaXR5SHViRGVsZWdhdGVkID0ge1xuICAgICAgICAgICAgdGl0bGU6ICdEZWxlZ2F0ZSBhZG1pbmlzdHJhdGlvbiBvZiBBV1MgU2VjdXJpdHkgSHViJyxcbiAgICAgICAgICAgIGRldGFpbDogYERlbGVnYXRlIGFkbWluaXN0cmF0aW9uIHRvIEFXUyBTZWN1cml0eSBIdWJgLFxuICAgICAgICAgICAgcmVtZWRpYXRpb25MaW5rOiBcImh0dHBzOi8vZG9jcy5hd3MuYW1hem9uLmNvbS9zZWN1cml0eWh1Yi9sYXRlc3QvdXNlcmd1aWRlL2Rlc2lnbmF0ZS1vcmdzLWFkbWluLWFjY291bnQuaHRtbFwiXG4gICAgICAgIH07XG4gICAgICAgIHRhc2tzLnB1c2godGFza1NlY3VyaXR5SHViRGVsZWdhdGVkKTtcbiAgICB9XG4gICAgLy8gSUFNIEFjY2VzcyBBbmFseXplclxuICAgIGlmICghYXNzZXNzbWVudC5vcmdTZXJ2aWNlcyB8fCAhYXNzZXNzbWVudC5vcmdTZXJ2aWNlcy5maW5kKHBhcmFtID0+IHBhcmFtLnNlcnZpY2UgPT09ICdhY2Nlc3MtYW5hbHl6ZXIuYW1hem9uYXdzLmNvbScpKSB7XG4gICAgICAgIGNvbnN0IHRhc2tJYW1BY2Nlc3NBbmFseXplckRlbGVnYXRlZCA9IHtcbiAgICAgICAgICAgIHRpdGxlOiAnRGVsZWdhdGUgYWRtaW5pc3RyYXRpb24gdG8gQVdTIElBTSBBY2Nlc3MgQW5hbHl6ZXInLFxuICAgICAgICAgICAgZGV0YWlsOiBgRGVsZWdhdGUgYWRtaW5pc3RyYXRpb24gdG8gQVdTIElBTSBBY2Nlc3MgQW5hbHl6ZXJgLFxuICAgICAgICAgICAgcmVtZWRpYXRpb25MaW5rOiBcImh0dHBzOi8vZG9jcy5hd3MuYW1hem9uLmNvbS9JQU0vbGF0ZXN0L1VzZXJHdWlkZS9hY2Nlc3MtYW5hbHl6ZXItZ2V0dGluZy1zdGFydGVkLmh0bWwjYWNjZXNzLWFuYWx5emVyLWVuYWJsaW5nXCJcbiAgICAgICAgfTtcbiAgICAgICAgdGFza3MucHVzaCh0YXNrSWFtQWNjZXNzQW5hbHl6ZXJEZWxlZ2F0ZWQpO1xuICAgIH1cbiAgICBpZiAoIWlhbUFjY2Vzc0FuYWx5emVyRGVsZWdhdGVkKSB7XG4gICAgICAgIGNvbnN0IHRhc2tJYW1BY2Nlc3NBbmFseXplckRlbGVnYXRlZCA9IHtcbiAgICAgICAgICAgIHRpdGxlOiAnRGVsZWdhdGUgYWRtaW5pc3RyYXRpb24gb2YgQVdTIElBTSBBY2Nlc3MgQW5hbHl6ZXInLFxuICAgICAgICAgICAgZGV0YWlsOiBgRGVsZWdhdGUgYWRtaW5pc3RyYXRpb24gdG8gQVdTIElBTSBBY2Nlc3MgQW5hbHl6ZXJgLFxuICAgICAgICAgICAgcmVtZWRpYXRpb25MaW5rOiBcImh0dHBzOi8vZG9jcy5hd3MuYW1hem9uLmNvbS9JQU0vbGF0ZXN0L1VzZXJHdWlkZS9hY2Nlc3MtYW5hbHl6ZXItc2V0dGluZ3MuaHRtbFwiXG4gICAgICAgIH07XG4gICAgICAgIHRhc2tzLnB1c2godGFza0lhbUFjY2Vzc0FuYWx5emVyRGVsZWdhdGVkKTtcbiAgICB9XG4gICAgLy8gR3VhcmREdXR5XG4gICAgaWYgKCFhc3Nlc3NtZW50Lm9yZ1NlcnZpY2VzIHx8ICFhc3Nlc3NtZW50Lm9yZ1NlcnZpY2VzLmZpbmQocGFyYW0gPT4gcGFyYW0uc2VydmljZSA9PT0gJ2d1YXJkZHV0eS5hbWF6b25hd3MuY29tJykpIHtcbiAgICAgICAgY29uc3QgdGFza0d1YXJkRHV0eURlbGVnYXRlZCA9IHtcbiAgICAgICAgICAgIHRpdGxlOiAnRW5hYmxlIEFXUyBHdWFyZER1dHknLFxuICAgICAgICAgICAgZGV0YWlsOiBgRW5hYmxlIEFXUyBHdWFyZER1dHkgaW4gQVdTIE9yZ2FuaXphdGlvbmAsXG4gICAgICAgICAgICByZW1lZGlhdGlvbkxpbms6IFwiaHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL29yZ2FuaXphdGlvbnMvbGF0ZXN0L3VzZXJndWlkZS9zZXJ2aWNlcy10aGF0LWNhbi1pbnRlZ3JhdGUtZ3VhcmRkdXR5Lmh0bWwjaW50ZWdyYXRlLWVuYWJsZS10YS1ndWFyZGR1dHlcIlxuICAgICAgICB9O1xuICAgICAgICB0YXNrcy5wdXNoKHRhc2tHdWFyZER1dHlEZWxlZ2F0ZWQpO1xuICAgIH1cbiAgICBpZiAoIWd1YXJkRHV0eURlbGVnYXRlZCkge1xuICAgICAgICBjb25zdCB0YXNrR3VhcmREdXR5RGVsZWdhdGVkID0ge1xuICAgICAgICAgICAgdGl0bGU6ICdEZWxlZ2F0ZSBhZG1pbmlzdHJhdGlvbiBvZiBBV1MgR3VhcmREdXR5JyxcbiAgICAgICAgICAgIGRldGFpbDogYERlbGVnYXRlIGFkbWluaXN0cmF0aW9uIHRvIEFXUyBHdWFyZER1dHlgLFxuICAgICAgICAgICAgcmVtZWRpYXRpb25MaW5rOiBcImh0dHBzOi8vZG9jcy5hd3MuYW1hem9uLmNvbS9vcmdhbml6YXRpb25zL2xhdGVzdC91c2VyZ3VpZGUvc2VydmljZXMtdGhhdC1jYW4taW50ZWdyYXRlLWd1YXJkZHV0eS5odG1sXCJcbiAgICAgICAgfTtcbiAgICAgICAgdGFza3MucHVzaCh0YXNrR3VhcmREdXR5RGVsZWdhdGVkKTtcbiAgICB9XG4gICAgLy8gQ29uZmlnXG4gICAgaWYgKCFhc3Nlc3NtZW50Lm9yZ1NlcnZpY2VzIHx8ICFhc3Nlc3NtZW50Lm9yZ1NlcnZpY2VzLmZpbmQocGFyYW0gPT4gcGFyYW0uc2VydmljZSA9PT0gJ2NvbmZpZy5hbWF6b25hd3MuY29tJykpIHtcbiAgICAgICAgY29uc3QgY29uZmlnT3JnU2VydmljZVRhc2sgPSB7XG4gICAgICAgICAgICB0aXRsZTogJ0VuYWJsZSBBV1MgQ29uZmlnJyxcbiAgICAgICAgICAgIGRldGFpbDogYEVuYWJsZSBBV1MgQ29uZmlnIGluIEFXUyBPcmdhbml6YXRpb25gLFxuICAgICAgICAgICAgcmVtZWRpYXRpb25MaW5rOiBcImh0dHBzOi8vZG9jcy5hd3MuYW1hem9uLmNvbS9vcmdhbml6YXRpb25zL2xhdGVzdC91c2VyZ3VpZGUvc2VydmljZXMtdGhhdC1jYW4taW50ZWdyYXRlLWNvbmZpZy5odG1sI2ludGVncmF0ZS1lbmFibGUtdGEtY29uZmlnXCJcbiAgICAgICAgfTtcbiAgICAgICAgdGFza3MucHVzaChjb25maWdPcmdTZXJ2aWNlVGFzayk7XG4gICAgfVxuICAgIGlmICghY29uZmlnRGVsZWdhdGVkKSB7XG4gICAgICAgIGNvbnN0IHRhc2tDb25maWdEZWxlZ2F0ZWQgPSB7XG4gICAgICAgICAgICB0aXRsZTogJ0RlbGVnYXRlIGFkbWluaXN0cmF0aW9uIG9mIEFXUyBDb25maWcnLFxuICAgICAgICAgICAgZGV0YWlsOiBgRGVsZWdhdGUgYWRtaW5pc3RyYXRpb24gdG8gQVdTIENvbmZpZ2AsXG4gICAgICAgICAgICByZW1lZGlhdGlvbkxpbms6IFwiaHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL29yZ2FuaXphdGlvbnMvbGF0ZXN0L3VzZXJndWlkZS9zZXJ2aWNlcy10aGF0LWNhbi1pbnRlZ3JhdGUtY29uZmlnLmh0bWxcIlxuICAgICAgICB9O1xuICAgICAgICB0YXNrcy5wdXNoKHRhc2tDb25maWdEZWxlZ2F0ZWQpO1xuICAgIH1cbiAgICAvLyBSQU1cbiAgICBpZiAoIWFzc2Vzc21lbnQub3JnU2VydmljZXMgfHwgIWFzc2Vzc21lbnQub3JnU2VydmljZXMuZmluZChwYXJhbSA9PiBwYXJhbS5zZXJ2aWNlID09PSAncmFtLmFtYXpvbmF3cy5jb20nKSkge1xuICAgICAgICBjb25zdCBvcmdTZXJ2aWNlUmFtVGFzayA9IHtcbiAgICAgICAgICAgIHRpdGxlOiAnRW5hYmxlIEFXUyBSZXNvdXJjZSBBY2Nlc3MgTWFuYWdlcicsXG4gICAgICAgICAgICBkZXRhaWw6IGBFbmFibGUgQVdTIFJlc291cmNlIEFjY2VzcyBNYW5hZ2VyIGluIEFXUyBPcmdhbml6YXRpb25gLFxuICAgICAgICAgICAgcmVtZWRpYXRpb25MaW5rOiBcImh0dHBzOi8vZG9jcy5hd3MuYW1hem9uLmNvbS9vcmdhbml6YXRpb25zL2xhdGVzdC91c2VyZ3VpZGUvc2VydmljZXMtdGhhdC1jYW4taW50ZWdyYXRlLXJhbS5odG1sI2ludGVncmF0ZS1lbmFibGUtdGEtcmFtXCJcbiAgICAgICAgfTtcbiAgICAgICAgdGFza3MucHVzaChvcmdTZXJ2aWNlUmFtVGFzayk7XG4gICAgfVxuICAgIC8vIElQQU1cbiAgICBpZiAoIWFzc2Vzc21lbnQub3JnU2VydmljZXMgfHwgIWFzc2Vzc21lbnQub3JnU2VydmljZXMuZmluZChwYXJhbSA9PiBwYXJhbS5zZXJ2aWNlID09PSAnaXBhbS5hbWF6b25hd3MuY29tJykpIHtcbiAgICAgICAgY29uc3Qgb3JnU2VydmljZUlwYW1UYXNrID0ge1xuICAgICAgICAgICAgdGl0bGU6ICdFbmFibGUgQVdTIElQQU0nLFxuICAgICAgICAgICAgZGV0YWlsOiBgRW5hYmxlIEFXUyBJUEFNIGluIEFXUyBPcmdhbml6YXRpb25gLFxuICAgICAgICAgICAgcmVtZWRpYXRpb25MaW5rOiBcImh0dHBzOi8vZG9jcy5hd3MuYW1hem9uLmNvbS9vcmdhbml6YXRpb25zL2xhdGVzdC91c2VyZ3VpZGUvc2VydmljZXMtdGhhdC1jYW4taW50ZWdyYXRlLWlwYW0uaHRtbFwiXG4gICAgICAgIH07XG4gICAgICAgIHRhc2tzLnB1c2gob3JnU2VydmljZUlwYW1UYXNrKTtcbiAgICB9XG4gICAgaWYgKCFpcGFtRGVsZWdhdGVkKSB7XG4gICAgICAgIGNvbnN0IHRhc2tJcGFtRGVsZWdhdGVkID0ge1xuICAgICAgICAgICAgdGl0bGU6ICdEZWxlZ2F0ZSBhZG1pbmlzdHJhdGlvbiBvZiBBV1MgSVBBTScsXG4gICAgICAgICAgICBkZXRhaWw6IGBEZWxlZ2F0ZSBhZG1pbmlzdHJhdGlvbiB0byBBV1MgSVBBTWAsXG4gICAgICAgICAgICByZW1lZGlhdGlvbkxpbms6IFwiaHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL3ZwYy9sYXRlc3QvaXBhbS9lbmFibGUtaW50ZWctaXBhbS5odG1sXCJcbiAgICAgICAgfTtcbiAgICAgICAgdGFza3MucHVzaCh0YXNrSXBhbURlbGVnYXRlZCk7XG4gICAgfVxuICAgIC8vIEFjY291bnQgTWFuYWdlclxuICAgIGlmICghYXNzZXNzbWVudC5vcmdTZXJ2aWNlcyB8fCAhYXNzZXNzbWVudC5vcmdTZXJ2aWNlcy5maW5kKHBhcmFtID0+IHBhcmFtLnNlcnZpY2UgPT09ICdhY2NvdW50LmFtYXpvbmF3cy5jb20nKSkge1xuICAgICAgICBjb25zdCBvcmdTZXJ2aWNlQWNjb3VudFRhc2sgPSB7XG4gICAgICAgICAgICB0aXRsZTogJ0VuYWJsZSBBV1MgQWNjb3VudCcsXG4gICAgICAgICAgICBkZXRhaWw6IGBFbmFibGUgQVdTIEFjY291bnQgaW4gQVdTIE9yZ2FuaXphdGlvbmAsXG4gICAgICAgICAgICByZW1lZGlhdGlvbkxpbms6IFwiaHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL2FjY291bnRzL2xhdGVzdC9yZWZlcmVuY2UvdXNpbmctb3Jncy1kZWxlZ2F0ZWQtYWRtaW4uaHRtbFwiXG4gICAgICAgIH07XG4gICAgICAgIHRhc2tzLnB1c2gob3JnU2VydmljZUFjY291bnRUYXNrKTtcbiAgICB9XG4gICAgaWYgKCFhY2NvdW50RGVsZWdhdGVkKSB7XG4gICAgICAgIGNvbnN0IHRhc2tBY2NvdW50RGVsZWdhdGVkID0ge1xuICAgICAgICAgICAgdGl0bGU6ICdEZWxlZ2F0ZSBhZG1pbmlzdHJhdGlvbiBvZiBBV1MgQWNjb3VudCBtYW5hZ2VtZW50JyxcbiAgICAgICAgICAgIGRldGFpbDogYERlbGVnYXRlIGFkbWluaXN0cmF0aW9uIHRvIEFXUyBBY2NvdW50IGNvbnRhY3QgbWFuYWdlbWVudGAsXG4gICAgICAgICAgICByZW1lZGlhdGlvbkxpbms6IFwiaHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL29yZ2FuaXphdGlvbnMvbGF0ZXN0L3VzZXJndWlkZS9zZXJ2aWNlcy10aGF0LWNhbi1pbnRlZ3JhdGUtYWNjb3VudC5odG1sI2ludGVncmF0ZS1lbmFibGUtZGEtYWNjb3VudFwiXG4gICAgICAgIH07XG4gICAgICAgIHRhc2tzLnB1c2godGFza0FjY291bnREZWxlZ2F0ZWQpO1xuICAgIH1cbiAgICAvLyBCYWNrdXBcbiAgICBpZiAoIWFzc2Vzc21lbnQub3JnU2VydmljZXMgfHwgIWFzc2Vzc21lbnQub3JnU2VydmljZXMuZmluZChwYXJhbSA9PiBwYXJhbS5zZXJ2aWNlID09PSAnYmFja3VwLmFtYXpvbmF3cy5jb20nKSkge1xuICAgICAgICBjb25zdCBvcmdTZXJ2aWNlQmFja3VwVGFzayA9IHtcbiAgICAgICAgICAgIHRpdGxlOiAnRW5hYmxlIEFXUyBCYWNrdXAnLFxuICAgICAgICAgICAgZGV0YWlsOiBgRW5hYmxlIEFXUyBCYWNrdXAgaW4gQVdTIE9yZ2FuaXphdGlvbmAsXG4gICAgICAgICAgICByZW1lZGlhdGlvbkxpbms6IFwiaHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL29yZ2FuaXphdGlvbnMvbGF0ZXN0L3VzZXJndWlkZS9zZXJ2aWNlcy10aGF0LWNhbi1pbnRlZ3JhdGUtYmFja3VwLmh0bWwjaW50ZWdyYXRlLWVuYWJsZS10YS1iYWNrdXBcIlxuICAgICAgICB9O1xuICAgICAgICB0YXNrcy5wdXNoKG9yZ1NlcnZpY2VCYWNrdXBUYXNrKTtcbiAgICB9XG4gICAgaWYgKCFiYWNrdXBEZWxlZ2F0ZWQpIHtcbiAgICAgICAgY29uc3QgdGFza0JhY2t1cERlbGVnYXRlZCA9IHtcbiAgICAgICAgICAgIHRpdGxlOiAnRGVsZWdhdGUgYWRtaW5pc3RyYXRpb24gb2YgQVdTIEJhY2t1cCcsXG4gICAgICAgICAgICBkZXRhaWw6IGBEZWxlZ2F0ZSBhZG1pbmlzdHJhdGlvbiB0byBBV1MgQmFja3VwYCxcbiAgICAgICAgICAgIHJlbWVkaWF0aW9uTGluazogXCJodHRwczovL2RvY3MuYXdzLmFtYXpvbi5jb20vYXdzLWJhY2t1cC9sYXRlc3QvZGV2Z3VpZGUvbWFuYWdlLWNyb3NzLWFjY291bnQuaHRtbCNiYWNrdXAtZGVsZWdhdGVkYWRtaW5cIlxuICAgICAgICB9O1xuICAgICAgICB0YXNrcy5wdXNoKHRhc2tCYWNrdXBEZWxlZ2F0ZWQpO1xuICAgIH1cbiAgICByZXR1cm4gdGFza3M7XG59XG5leHBvcnQgZGVmYXVsdCBjcmVhdGVCYWNrbG9nO1xuIiwiaW1wb3J0ICogYXMgZnMgZnJvbSAnZnMnO1xuYXN5bmMgZnVuY3Rpb24gY3JlYXRlSmlyYUltcG9ydCh0YXNrcykge1xuICAgIGxldCBjc3YgPSAnXCJTdW1tYXJ5XCIsIFwiRGVzY3JpcHRpb25cIiwgXCJTdGF0dXNcIiBcXHJcXG4nO1xuICAgIGZvciAoY29uc3QgdGFzayBvZiB0YXNrcykge1xuICAgICAgICBjc3YgKz0gYFwiY2ZhdCAtICR7dGFzay5jYXRlZ29yeX0gLSAke3Rhc2sudGl0bGV9XCIsIFwiJHt0YXNrLmRldGFpbH1cIiwgXCJPcGVuXCIgXFxyXFxuYDtcbiAgICB9XG4gICAgZnMud3JpdGVGaWxlU3luYygnLi9qaXJhLWltcG9ydC5jc3YnLCBjc3YpO1xuICAgIHJldHVybjtcbn1cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUppcmFJbXBvcnQ7XG4iLCJpbXBvcnQgKiBhcyBmcyBmcm9tICdmcyc7XG5hc3luYyBmdW5jdGlvbiBjcmVhdGVBc2FuYUltcG9ydCh0YXNrcykge1xuICAgIGxldCBjc3YgPSAnXCJUYXNrXCIsIFwiRGVzY3JpcHRpb25cIiwgXCJTdGF0dXNcIiAgXFxyXFxuJztcbiAgICBmb3IgKGNvbnN0IHRhc2sgb2YgdGFza3MpIHtcbiAgICAgICAgY3N2ICs9IGBcImNmYXQgLSAke3Rhc2sudGl0bGV9XCIsIFwiJHt0YXNrLmRldGFpbH0gLSBSZW1lZGlhdGlvbiBMaW5rOiAke3Rhc2sucmVtZWRpYXRpb25MaW5rfVwiLCBcIk5vdCBTdGFydGVkXCIgXFxyXFxuYDtcbiAgICB9XG4gICAgZnMud3JpdGVGaWxlU3luYygnLi9hc2FuYS1pbXBvcnQuY3N2JywgY3N2KTtcbiAgICByZXR1cm47XG59XG5leHBvcnQgZGVmYXVsdCBjcmVhdGVBc2FuYUltcG9ydDtcbiIsImltcG9ydCBmcyBmcm9tICdmcyc7XG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcbmltcG9ydCBhcmNoaXZlciBmcm9tICdhcmNoaXZlcic7XG5hc3luYyBmdW5jdGlvbiB6aXBBc3Nlc3NtZW50RmlsZXMoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgb3V0cHV0ID0gZnMuY3JlYXRlV3JpdGVTdHJlYW0ocGF0aC5qb2luKHByb2Nlc3MuY3dkKCksICdhc3Nlc3NtZW50LnppcCcpKTtcbiAgICAgICAgY29uc3QgYXJjaGl2ZSA9IGFyY2hpdmVyKCd6aXAnLCB7XG4gICAgICAgICAgICB6bGliOiB7IGxldmVsOiA5IH0sIC8vIFNldHMgdGhlIGNvbXByZXNzaW9uIGxldmVsLlxuICAgICAgICB9KTtcbiAgICAgICAgYXJjaGl2ZS5waXBlKG91dHB1dCk7XG4gICAgICAgIC8vIEFkZCB0aGUgZmlsZXMgdG8gdGhlIGFyY2hpdmVcbiAgICAgICAgYXJjaGl2ZS5maWxlKHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAnY2ZhdC50eHQnKSwgeyBuYW1lOiAnY2ZhdC50eHQnIH0pO1xuICAgICAgICBhcmNoaXZlLmZpbGUocGF0aC5qb2luKHByb2Nlc3MuY3dkKCksICdjZmF0LWNoZWNrcy5jc3YnKSwgeyBuYW1lOiAnY2ZhdC1jaGVja3MuY3N2JyB9KTtcbiAgICAgICAgYXJjaGl2ZS5maWxlKHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAnYXNhbmEtaW1wb3J0LmNzdicpLCB7IG5hbWU6ICdhc2FuYS1pbXBvcnQuY3N2JyB9KTtcbiAgICAgICAgYXJjaGl2ZS5maWxlKHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAnamlyYS1pbXBvcnQuY3N2JyksIHsgbmFtZTogJ2ppcmEtaW1wb3J0LmNzdicgfSk7XG4gICAgICAgIGFyY2hpdmUuZmluYWxpemUoKTtcbiAgICAgICAgY29uc29sZS5sb2coJ1ppcCBmaWxlIGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5IScpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIHppcCBmaWxlOicsIGVycik7XG4gICAgfVxufVxuZXhwb3J0IGRlZmF1bHQgemlwQXNzZXNzbWVudEZpbGVzO1xuIl0sIm5hbWVzIjpbInJlcXVpcmUiLCJ0cyIsIlRyYW5zZm9ybSIsInRyYW5zZm9ybSIsImNodW5rIiwiZW5jIiwiY2IiLCJsb2dnZXIiLCJDb25zb2xlIiwic3Rkb3V0IiwiYXN5bmMiLCJyZXBvcnQiLCJjZmF0Q2hlY2tzIiwicGFydGl0aW9uSW5mbyIsInJlZ2lvbiIsInByb2Nlc3MiLCJlbnYiLCJBV1NfUkVHSU9OIiwiQVdTX0RFRkFVTFRfUkVHSU9OIiwic3RzQ2xpZW50IiwiU1RTQ2xpZW50IiwiY29tbWFuZCIsIkdldENhbGxlcklkZW50aXR5Q29tbWFuZCIsInJlc3BvbnNlIiwic2VuZCIsIkFybiIsInBhcnRpdGlvbiIsInNwbGl0IiwiZGVmYXVsdFJlZ2lvbiIsImVycm9yIiwiY29uc29sZSIsImRlc3Ryb3kiLCJhbGxSZWdpb25zIiwiZWMyQ2xpZW50IiwiRUMyQ2xpZW50IiwiZGVzY3JpYmVSZWdpb25zQ29tbWFuZCIsIkRlc2NyaWJlUmVnaW9uc0NvbW1hbmQiLCJyZWdpb25zIiwiUmVnaW9ucyIsInB1c2giLCJSZWdpb25OYW1lIiwibG9nIiwiYWNjb3VudFR5cGUiLCJvcmdhbml6YXRpb25zQ2xpZW50IiwiT3JnYW5pemF0aW9uc0NsaWVudCIsImlzSW5Pcmdhbml6YXRpb24iLCJpc01hbmFnZW1lbnRBY2NvdW50IiwiY3VycmVudEFjY291bnRJZCIsImdldENhbGxlcklkZW50aXR5Q29tbWFuZCIsIkFjY291bnQiLCJnZXRBY2NvdW50SWQiLCJkZXNjcmliZU9yZ2FuaXphdGlvbkNvbW1hbmQiLCJEZXNjcmliZU9yZ2FuaXphdGlvbkNvbW1hbmQiLCJkZXNjcmliZU9yZ2FuaXphdGlvblJlc3BvbnNlIiwiT3JnYW5pemF0aW9uIiwiTWFzdGVyQWNjb3VudElkIiwibWFuYWdlbWVudEFjY291bnRJZCIsImRlZmluZUFjY291bnRUeXBlIiwidHJhbnNpdGlvbmFsRm91bmQiLCJzdXNwZW5kZWRGb3VuZCIsImluZnJhc3RydWN0dXJlRm91bmQiLCJ3b3JrbG9hZHNGb3VuZCIsInNlY3VyaXR5Rm91bmQiLCJjZmF0SWFtVXNlclBhc3MiLCJjZmF0SWFtSWRQT3JnU2VydmljZVBhc3MiLCJjZmF0SWFtSWRjQ29uZmlndXJlZFBhc3MiLCJjZmF0Q2xvdWRUcmFpbFBhc3MiLCJjZmF0Q2xvdWRUcmFpbE9yZ1RyYWlsUGFzcyIsImNmYXRWcGNQYXNzIiwiY2ZhdEVjMlBhc3MiLCJjZmF0Q29uZmlnTWFuYWdlbWVudEFjY291bnRQYXNzIiwiY2ZhdENvbmZpZ1JlY29yZGVyTWFuYWdlbWVudEFjY291bnRQYXNzIiwiY2ZhdENsb3VkVHJhaWxPcmdTZXJ2aWNlRW5hYmxlZFBhc3MiLCJjZmF0VGFnUG9saWNpZXNFbmFibGVkUGFzcyIsImNmYXRTY3BFbmFibGVkUGFzcyIsImNmYXRCYWNrdXBQb2xpY2llc0VuYWJsZWRQYXNzIiwiY2ZhdE9yZ0Nsb3VkRm9ybWF0aW9uRW5hYmxlZFBhc3MiLCJjZmF0T3JnQ2xvdWRGb3JtYXRpb25TdGF0dXNQYXNzIiwiY2ZhdE9yZ1NlcnZpY2VHdWFyZER1dHlFbmFibGVkUGFzcyIsImNmYXRPcmdTZXJ2aWNlU2VjdXJpdHlIdWJFbmFibGVkUGFzcyIsImNmYXRPcmdTZXJ2aWNlSWFtQWNjZXNzQW5hbHl6ZXJFbmFibGVkUGFzcyIsImNmYXRPcmdTZXJ2aWNlQXdzQ29uZmlnRW5hYmxlZFBhc3MiLCJjZmF0T3JnU2VydmljZVJhbUVuYWJsZWRQYXNzIiwiY2ZhdENvbnRyb2xUb3dlckRlcGxveWVkUGFzcyIsImNmYXRDb250cm9sVG93ZXJOb3REcmlmdGVkUGFzcyIsImNmYXRDb250cm9sVG93ZXJMYXRlc3RWZXJzaW9uUGFzcyIsImNmYXRMb2dBcmNoaXZlQWNjb3VudFBhc3MiLCJjZmF0QXVkaXRBY2NvdW50UGFzcyIsImNmYXRNYW5hZ2VtZW50QWNjb3VudFBhc3MiLCJjZmF0T3JnU2VydmljZUJhY2t1cEVuYWJsZWRQYXNzIiwib3JnYW5pemF0aW9uRGVwbG95IiwibWFuYWdlbWVudEFjY291bnQiLCJ1bmRlZmluZWQiLCJpYW1Vc2VyUmVzdWx0IiwiaWFtQ2xpZW50IiwiSUFNQ2xpZW50IiwiaWFtVXNlckluZm8iLCJsaXN0VXNlcnNDb21tYW5kIiwiTGlzdFVzZXJzQ29tbWFuZCIsImxpc3RVc2Vyc1Jlc3BvbnNlIiwidXNlciIsIlVzZXJzIiwidXNlck5hbWUiLCJVc2VyTmFtZSIsImxpc3RBY2Nlc3NLZXlzQ29tbWFuZCIsIkxpc3RBY2Nlc3NLZXlzQ29tbWFuZCIsImFjY2Vzc0tleXMiLCJBY2Nlc3NLZXlNZXRhZGF0YSIsImxlbmd0aCIsImFjY2Vzc0tleSIsImFjY2Vzc0tleUlkIiwiQWNjZXNzS2V5SWQiLCJnZXRMYXN0VXNlZENvbW1hbmQiLCJHZXRBY2Nlc3NLZXlMYXN0VXNlZENvbW1hbmQiLCJsYXN0VXNlZFJlc3BvbnNlIiwiZm91bmRVc2VySW5mbyIsImxhc3RVc2VkIiwiQWNjZXNzS2V5TGFzdFVzZWQiLCJMYXN0VXNlZERhdGUiLCJpYW1Vc2VyQ2hlY2tzIiwiZWMyQ2hlY2siLCJlYzJWYWxpZGF0aW9uIiwiRGVzY3JpYmVJbnN0YW5jZXNDb21tYW5kIiwiUmVzZXJ2YXRpb25zIiwiZWMyRm91bmQiLCJmaW5kIiwicGFyYW0iLCJlYzJDaGVja3MiLCJpbmZvIiwiZWMyIiwidnBjQ2hlY2siLCJ2cGNWYWxpZGF0aW9uIiwiRGVzY3JpYmVWcGNzQ29tbWFuZCIsIlZwY3MiLCJ2cGNGb3VuZCIsInZwY0NoZWNrcyIsImNsb3VkVHJhaWxEZXRhaWxzIiwiY2xvdWRUcmFpbFZhbGlkYXRpb24iLCJjbG91ZFRyYWlsQ2xpZW50IiwiQ2xvdWRUcmFpbENsaWVudCIsImNsb3VkVHJhaWxEZXNjcmliZUNvbW1hbmQiLCJEZXNjcmliZVRyYWlsc0NvbW1hbmQiLCJjbG91ZFRyYWlsUmVzcG9uc2UiLCJ0cmFpbExpc3QiLCJ0cmFpbCIsInRyYWlsSW5mbyIsIkhvbWVSZWdpb24iLCJ0cmFpbEZvdW5kIiwiaXNPcmdUcmFpbCIsIklzTXVsdGlSZWdpb25UcmFpbCIsImlzTXVsdGlSZWdpb24iLCJjb25maWdEZXRhaWxzIiwiY29uZmlnU2VydmljZUNsaWVudCIsIkNvbmZpZ1NlcnZpY2VDbGllbnQiLCJjb25maWdEZXRhaWwiLCJjb25maWdSZWNvcmRlckZvdW5kIiwiY29uZmlnRGVsaXZlcnlDaGFubmVsRm91bmQiLCJyZWNvcmRlclJlc3BvbnNlIiwiRGVzY3JpYmVDb25maWd1cmF0aW9uUmVjb3JkZXJTdGF0dXNDb21tYW5kIiwiQ29uZmlndXJhdGlvblJlY29yZGVyc1N0YXR1cyIsImNoYW5uZWxSZXNwb25zZSIsIkRlc2NyaWJlRGVsaXZlcnlDaGFubmVsc0NvbW1hbmQiLCJEZWxpdmVyeUNoYW5uZWxzIiwiY29uZmlnRmluZCIsIm9yZ0RldGFpbHMiLCJvcmdDbGllbnQiLCJvcmdEZXNjcmliZUNvbW1hbmQiLCJvcmdEYXRhIiwiaWQiLCJJZCIsImFybiIsIkxpc3RSb290c0NvbW1hbmQiLCJyb290cyIsIlJvb3RzIiwicm9vdE91SWQiLCJsZWdhY3lDdXJDaGVjayIsImN1ckNsaWVudCIsIkNvc3RBbmRVc2FnZVJlcG9ydFNlcnZpY2VDbGllbnQiLCJpc0xlZ2FjeUN1clNldHVwIiwiaW5wdXQiLCJEZXNjcmliZVJlcG9ydERlZmluaXRpb25zQ29tbWFuZCIsIlJlcG9ydERlZmluaXRpb25zIiwiZW5hYmxlT3JnUG9saWNpZXNDaGVjayIsInBvbGljeVR5cGVzRW5hYmxlZCIsInNjcEVuYWJsZWQiLCJ0YWdQb2xpY3lFbmFibGVkIiwiYmFja3VwUG9saWN5RW5hYmxlZCIsIlBvbGljeVR5cGVzIiwiZW5hYmxlZFBvbGljeSIsIlR5cGUiLCJTdGF0dXMiLCJvcmdTZXJ2aWNlcyIsImRpc2NvdmVyZWRPcmdTZXJ2aWNlcyIsIm9yZ1NlcnZpY2VBY2Nlc3NDb21tYW5kIiwiTGlzdEFXU1NlcnZpY2VBY2Nlc3NGb3JPcmdhbml6YXRpb25Db21tYW5kIiwib3JnU2VydmljZUFjY2Vzc1Jlc3BvbnNlIiwiRW5hYmxlZFNlcnZpY2VQcmluY2lwYWxzIiwib3JnU2VydmljZSIsImZvdW5kT3JnU2VydmljZSIsInNlcnZpY2UiLCJTZXJ2aWNlUHJpbmNpcGFsIiwiY2ZuT3JnU3RhdHVzIiwib3JnQ2ZuU3RhdHVzIiwic3RhdHVzIiwiY2xvdWRGb3JtYXRpb25DbGllbnQiLCJDbG91ZEZvcm1hdGlvbkNsaWVudCIsImRlc2NyaWJlT3JnQWNjZXNzSW5wdXQiLCJEZXNjcmliZU9yZ2FuaXphdGlvbnNBY2Nlc3NDb21tYW5kIiwiY2xvdWRGb3JtYXRpb25PcmdBY2Nlc3MiLCJjb250cm9sVG93ZXJEZXRhaWxzIiwiY29udHJvbFRvd2VySW5mbyIsImNvbnRyb2xUb3dlckNsaWVudCIsIkNvbnRyb2xUb3dlckNsaWVudCIsIkxpc3RMYW5kaW5nWm9uZXNDb21tYW5kIiwibGFuZGluZ1pvbmVzIiwibGFuZGluZ1pvbmVJZGVudGlmaWVyIiwibHpSZWdpb24iLCJ0b1N0cmluZyIsImNvbnRyb2xUb3dlclJlZ2lvbiIsImNvbnRyb2xUb3dlckNsaWVudFJlZ2lvbiIsIkdldExhbmRpbmdab25lQ29tbWFuZCIsImx6UmVzcG9uc2UiLCJsYW5kaW5nWm9uZSIsImxhdGVzdEF2YWlsYWJsZVZlcnNpb24iLCJkZXBsb3llZFZlcnNpb24iLCJ2ZXJzaW9uIiwiZHJpZnRTdGF0dXMiLCJpZGNJbmZvIiwicmVnaW9uTGlzdCIsImlkY0RldGFpbHMiLCJmb3VuZCIsInNzb0FkbWluQ2xpZW50IiwiU1NPQWRtaW5DbGllbnQiLCJzc29JbnB1dCIsIk1heFJlc3VsdHMiLCJOdW1iZXIiLCJMaXN0SW5zdGFuY2VzQ29tbWFuZCIsInNzb0luc3RhbmNlUmVzcG9uc2UiLCJJbnN0YW5jZXMiLCJzc29JbnN0YW5jZSIsIkluc3RhbmNlQXJuIiwiSWRlbnRpdHlTdG9yZUlkIiwib3JnRGVsZWdhdGVkQWRtaW5BY2NvdW50cyIsIm9yZ0RhRGV0YWlscyIsIm9yZ0RhRGV0YWlsIiwiTGlzdERlbGVnYXRlZEFkbWluaXN0cmF0b3JzQ29tbWFuZCIsIkRlbGVnYXRlZEFkbWluaXN0cmF0b3JzIiwiZGEiLCJBY2NvdW50SWQiLCJMaXN0RGVsZWdhdGVkU2VydmljZXNGb3JBY2NvdW50Q29tbWFuZCIsImFjY291bnRSZXNwb25zZSIsIkRlbGVnYXRlZFNlcnZpY2VzIiwic2VydmljZXMiLCJhY2NvdW50TmFtZSIsIk5hbWUiLCJvcmdNZW1iZXJBY2NvdW50cyIsIm9yZ01lbWJlckFjY291bnRJbmZvIiwib3Jnc0NsaWVudCIsIkxpc3RBY2NvdW50c0NvbW1hbmQiLCJBY2NvdW50cyIsImFjY291bnQiLCJvcmdNZW1iZXJBY2NvdW50IiwiYWNjb3VudEVtYWlsIiwiRW1haWwiLCJOZXh0VG9rZW4iLCJvcmdBcm4iLCJvcmdJZCIsIm9yZ1Jvb3RPdUlkIiwib3JnQ2xvdWRGb3JtYXRpb25TdGF0dXMiLCJjb250cm9sVG93ZXJEZXBsb3llZFZlcnNpb24iLCJjb250cm9sVG93ZXJEcmlmdFN0YXR1cyIsImNvbnRyb2xUb3dlckxhdGVzdEF2YWlsYWJsZVZlcnNpb24iLCJjb250cm9sVG93ZXJTdGF0dXMiLCJjdEZpbmQiLCJvcmdPdUluZm8iLCJ0b3BMZXZlbE91cyIsImxpc3RPVXNDb21tYW5kIiwiTGlzdE9yZ2FuaXphdGlvbmFsVW5pdHNGb3JQYXJlbnRDb21tYW5kIiwiUGFyZW50SWQiLCJsaXN0T1VzUmVzcG9uc2UiLCJPcmdhbml6YXRpb25hbFVuaXRzIiwib3UiLCJ0b3BMZXZlbE91IiwibmFtZSIsIkxpc3RBY2NvdW50c0ZvclBhcmVudENvbW1hbmQiLCJhY2NvdW50cyIsInRvTG93ZXJDYXNlIiwibWVtYmVyQWNjb3VudCIsImlkZW50aXR5RGVsZWdhdGVkIiwic2VjdXJpdHlIdWJEZWxlZ2F0ZWQiLCJndWFyZER1dHlEZWxlZ2F0ZWQiLCJjb25maWdEZWxlZ2F0ZWQiLCJpYW1BY2Nlc3NBbmFseXplckRlbGVnYXRlZCIsInMzU3RvcmFnZUxlbnNEZWxlZ2F0ZWQiLCJpcGFtRGVsZWdhdGVkIiwiYWNjb3VudERlbGVnYXRlZCIsImJhY2t1cERlbGVnYXRlZCIsInNydiIsIm1lc3NhZ2UiLCJ3YXJuIiwiT3JnQ2hlY2siLCJjaGVjayIsImRlc2NyaXB0aW9uIiwicmVxdWlyZWQiLCJ3ZWlnaHQiLCJsb2UiLCJyZW1lZGlhdGlvbkxpbmsiLCJNQUNoZWNrIiwiY2ZhdElhbVVzZXJDaGVjayIsImNmYXRFYzJDaGVjayIsImNmYXRWcGNDaGVjayIsImNmYXRDbG91ZFRyYWlsQ2hlY2siLCJjZmF0Q2xvdWRUcmFpbE9yZ1NlcnZpY2VFbmFibGVkQ2hlY2siLCJjZmF0Q2xvdWRUcmFpbE9yZ1RyYWlsQ2hlY2siLCJjZmF0Q29uZmlnTWFuYWdlbWVudEFjY291bnRDaGVjayIsImNmYXRDb25maWdSZWNvcmRlck1hbmFnZW1lbnRBY2NvdW50Q2hlY2siLCJjZmF0Q2xvdWRGb3JtYXRpb25FbmFibGVDaGVjayIsImNmYXRPcmdTZXJ2aWNlR3VhcmREdXR5Q2hlY2siLCJjZmF0T3JnU2VydmljZVJhbUNoZWNrIiwiY2ZhdE9yZ1NlcnZpY2VTZWN1cml0eUh1YkNoZWNrIiwiY2ZhdE9yZ1NlcnZpY2VJYW1BY2Nlc3NBbmFseXplckNoZWNrIiwiY2ZhdE9yZ1NlcnZpY2VDb25maWdDaGVjayIsImNmYXRPcmdTZXJ2aWNlQ2xvdWRGb3JtYXRpb25DaGVjayIsImNmYXRJbmZyYU91Q2hlY2siLCJjZmF0U2VjdXJpdHlPdUNoZWNrIiwiY2ZhdFdvcmtsb2FkT3VDaGVjayIsImNmYXRJYW1JZENPcmdTZXJ2aWNlQ2hlY2siLCJjZmF0SWFtSWRjQ29uZmlndXJlZENoZWNrIiwiY2ZhdE9yZ1BvbGljeVNjcEVuYWJsZWQiLCJjZmF0T3JnUG9saWN5VGFnUG9saWN5Q2hlY2siLCJjZmF0QmFja3VwUG9saWNpZXNFbmFibGVkQ2hlY2siLCJjZmF0Q29udHJvbFRvd2VyRGVwbG95ZWRDaGVjayIsImNmYXRDb250cm9sVG93ZXJMYXRlc3RWZXJzaW9uQ2hlY2siLCJjZmF0Q29udHJvbFRvd2VyTm90RHJpZnRlZENoZWNrIiwiY2ZhdExvZ0FyY2hpdmVBY2NvdW50Q2hlY2siLCJjZmF0QXVkaXRBY2NvdW50Q2hlY2siLCJ0YWJsZSIsIm9iamVjdEFycmF5Q1NWIiwiZGF0YSIsImRhdGFBcnJheSIsIkFycmF5IiwiaXNBcnJheSIsImtleXMiLCJPYmplY3QiLCJyb3dzIiwiam9pbiIsIm9iaiIsInZhbHVlcyIsIm1hcCIsImtleSIsInZhbHVlIiwicmVwbGFjZSIsIm9iamVjdFRvQ1NWIiwiYXNzZXNzbWVudCIsInRhc2tzIiwiRGF0ZSIsInRvVVRDU3RyaW5nIiwic2NvcmUiLCJ0b3RhbFJlcXVpcmVkTG9lIiwidG90YWxTY29yZSIsImNmYXRTdGF0dXMiLCJyZWFkIiwiaWFtVXNlciIsInZwY0ZpbmQiLCJtYUNhdGVnb3J5IiwiaWFtVGFzayIsInRpdGxlIiwiY2F0ZWdvcnkiLCJkZXRhaWwiLCJpYW1BcGlUYXNrIiwiZWMyVGFzayIsInZwY1Rhc2siLCJnb3ZDYXRlZ29yeSIsImN0T3JnU2VydmljZVRhc2siLCJjb25maWdPcmdTZXJ2aWNlVGFzayIsInNjcEVuYWJsZWRUYXNrIiwidGFnUG9saWN5RW5hYmxlZFRhc2siLCJiYWNrdXBQb2xpY3lFbmFibGVkVGFzayIsImxlZ2FjeUN1clNldHVwVGFzayIsIm1hc0NhdGVnb3J5IiwidHJhbnNpdGlvbmFsVGFzayIsInN1c3BlbmRlZFRhc2siLCJ3b3JrbG9hZHNUYXNrIiwic2VjdXJpdHlUYXNrIiwiaW5mcmFzdHJ1Y3R1cmVUYXNrIiwibHpXYXlwb2ludCIsImRlcGxveUNvbnRyb2xUb3dlclRhc2siLCJmaXhMekRyaWZ0VGFzayIsInVwZGF0ZUNvbnRyb2xUb3dlclRhc2siLCJvcmdTZXJ2aWNlQ2ZuRW5hYmxlVGFzayIsInNzb0NhdGVnb3J5Iiwic3NvVGFzayIsImlkZW50aXR5RGVsZWdhdGVkVGFzayIsInNlY0NhdGVnb3J5IiwidGFza0d1YXJkRHV0eURlbGVnYXRlZCIsInRhc2tTZWN1cml0eUh1YkRlbGVnYXRlZCIsInRhc2tJYW1BY2Nlc3NBbmFseXplckRlbGVnYXRlZCIsInRhc2tDbG91ZFRyYWlsRGVsZWdhdGVkIiwidGFza0NvbmZpZ0RlbGVnYXRlZCIsInRhc2tTM1N0b3JhZ2VMZW5zRGVsZWdhdGVkIiwibmV0d29ya0NhdGVnb3J5Iiwib3JnU2VydmljZUlwYW1UYXNrIiwib3JnU2VydmljZVJhbVRhc2siLCJ0YXNrSXBhbURlbGVnYXRlZCIsInRhc2tTY3BEZWxlZ2F0ZWQiLCJvYkNhdGVnb3J5Iiwib3JnU2VydmljZUFjY291bnRUYXNrIiwidGFza0FjY291bnREZWxlZ2F0ZWQiLCJiYWNrdXBXYXlwb2ludCIsIm9yZ1NlcnZpY2VCYWNrdXBUYXNrIiwidGFza0JhY2t1cERlbGVnYXRlZCIsImVuYWJsZVBvbGljeVR5cGVUYXNrIiwiYmFja2xvZyIsImNzdiIsInRhc2siLCJvdXRwdXQiLCJjd2QiLCJhcmNoaXZlIiwiemxpYiIsImxldmVsIiwicGlwZSIsImZpbGUiLCJmaW5hbGl6ZSIsImVyciIsIm1haW4iXSwic291cmNlUm9vdCI6IiJ9