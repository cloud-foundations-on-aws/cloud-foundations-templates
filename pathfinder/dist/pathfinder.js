(()=>{"use strict";const n=require("@aws-sdk/client-sts"),e=require("@aws-sdk/client-organizations"),i=require("@aws-sdk/client-iam"),o=require("@aws-sdk/client-cloudformation"),a=require("@aws-sdk/client-sso-admin"),t=require("@aws-sdk/client-ec2"),s=require("@aws-sdk/client-cloudtrail"),c=require("@aws-sdk/client-config-service"),r=require("@aws-sdk/client-controltower"),l=require("@aws-sdk/client-cost-and-usage-report-service");async function d(n,e,i){return`${e} - Task ${n} - Deploy top-level OU ${i}.`}async function p(n,e,i){return`${e} - Task ${n} - Remove IAM user ${i}`}async function u(n,e,i,o){return`${e} - Task ${n} - Remove IAM user ${i} API key: ${o}`}async function S(n,e,i){return`${e} - Task ${n} - Delete VPC in the ${i} region.`}async function y(n,e,i){return`${e} - Task ${n} - Delete VPC in the ${i} region.`}async function g(n,e,i){return`${e} - Task ${n} - Enable the AWS service ${i} within your AWS Organization`}async function f(n,e,i){return`${e} - Task ${n} - Delegate the AWS service ${i} within your AWS Organization to a member account`}async function A(n,e,i){return`${e} - Task ${n} - Enable the policy type ${i} within your AWS Organization.`}const w=require("fs");(async()=>{let m=[];const C="./Pathfinder.txt";let F=new Date;const h=process.env.AWS_REGION||"us-east-1",E=await async function(){const n=new t.EC2Client({region:"us-east-1"});try{const e=new t.DescribeRegionsCommand({}),i=await n.send(e),o=[];for(const n of i.Regions||[])o.push(n.RegionName||"");return o}catch(n){return console.error("Error retrieving regions:",n),[]}finally{n.destroy()}}();console.log("Discovering your AWS environment....");const I=await(async i=>{const o=new e.OrganizationsClient({region:i});let a=!1,t=!1;try{const s=await async function(e){const i=new n.STSClient({region:e});try{const e=new n.GetCallerIdentityCommand({});return(await i.send(e)).Account}catch(n){throw console.error("Error getting account ID:",n),n}}(i);if(s){const n=new e.DescribeOrganizationCommand({}),i=await o.send(n);if(i.Organization?.MasterAccountId){const n=i.Organization?.MasterAccountId;n==s?(t=!0,a=!0):a=!0}else a=!1}}catch(n){console.error("Error:",n)}finally{o.destroy()}return{isInOrganization:a,isManagementAccount:t}})(h);let O,T,v=!1,N=!1,$=!1,R=!1,b=!0,z=!1,D=!1,M=!1,W=!0,P=!1,L=!1,k=!1,U=!1,q=!1,G=!1,V=!1,K=!1,Z=!1,B=!1,Y=!1,x=!1,H=!1,_=!1,J=!1,j=!1,Q=!1,X=!1;w.writeFileSync(C,"Cloud Foundations - Assessment Tool"),w.appendFileSync(C,`\nGenerated on: ${F.toUTCString()} \n\n`),w.appendFileSync(C,"\n*********************************************************"),w.appendFileSync(C,"\n                   MANAGEMENT ACCOUNT"),w.appendFileSync(C,"\n*********************************************************"),w.appendFileSync(C,"\n\nAWS ACCOUNT TYPE\n");let nn=!0;I&&(console.dir(I,{depth:null,colors:!0}),w.appendFileSync(C,`\n  Is in AWS Organization: ${I.isInOrganization}`),w.appendFileSync(C,`\n  Assessing AWS Management Account: ${I.isManagementAccount}`),void 0===I.isManagementAccount&&(I.isManagementAccount=!1),nn=I.isManagementAccount),console.log("Discovering IAM Users....");const en=await(async()=>{const n=new i.IAMClient({region:"us-east-1"}),e=[];try{const o=new i.ListUsersCommand({}),a=await n.send(o);for(const o of a.Users||[]){const a=o.UserName||"",t=new i.ListAccessKeysCommand({UserName:a}),s=(await n.send(t)).AccessKeyMetadata||[];if(s.length>0)for(const o of s){const t=o.AccessKeyId||"",s=new i.GetAccessKeyLastUsedCommand({AccessKeyId:t}),c=await n.send(s),r={userName:a,accessKeyId:t,lastUsed:c&&c.AccessKeyLastUsed&&`${c.AccessKeyLastUsed.LastUsedDate}`||"Not available"};e.push(r)}else{const n={userName:a};e.push(n)}}}catch(n){console.error("Error:",n)}finally{n.destroy()}return e})();if(w.appendFileSync(C,"\n\nIAM USERS CHECK\n"),en&&en.length>0){console.dir(en,{depth:null,colors:!0});for(const n of en)w.appendFileSync(C,`\n  IAM User: ${n.userName}`),n.accessKeyId&&w.appendFileSync(C,`\n    User API Key ID: ${n.accessKeyId}`),w.appendFileSync(C,"\n")}else w.appendFileSync(C,"\n  No IAM Users found."),R=!0;console.log("Discovering EC2 instances across all AWS Regions....");const on=await async function(n){let e=[];for(const i of n){const n=new t.EC2Client({region:i}),o=new t.DescribeInstancesCommand({});try{const a=await n.send(o);if(a.Reservations)if(a.Reservations.length>0){const n={region:i,ec2Found:!0};e.push(n)}else{const n={region:i,ec2Found:!1};e.push(n)}else{const n={region:i,ec2Found:!1};e.push(n)}}catch(n){console.log(`Error checking instance: ${n}`)}finally{n.destroy()}}return e}(E);if(w.appendFileSync(C,"\n\nEC2 INSTANCE CHECK\n"),on&&on.find((n=>!0===n.ec2Found))){console.dir(on,{depth:null,colors:!0});for(const n of on)P=!1,n.ec2Found&&w.appendFileSync(C,`\n  ${n.region} - found EC2 Instance(s).`)}else w.appendFileSync(C,"\n  No EC2 instances found.");console.log("Discovering VPCs across all AWS Regions....");const an=await async function(n){let e=[];for(const i of n){const n=new t.EC2Client({region:i}),o=new t.DescribeVpcsCommand({});try{const a=await n.send(o);if(a.Vpcs)if(a.Vpcs.length>0){const n={region:i,vpcFound:!0};e.push(n)}else{const n={region:i,vpcFound:!1};e.push(n)}else{const n={region:i,vpcFound:!1};e.push(n)}}catch(n){console.log(`Error checking instance: ${n}`)}finally{n.destroy()}}return e}(E);if(w.appendFileSync(C,"\n\nVPC CHECK\n"),an&&an.length>0){W=!1,console.dir(an,{depth:null,colors:!0});for(const n of an)n.vpcFound&&w.appendFileSync(C,`\n  ${n.region} - found VPC(s).`)}else w.appendFileSync(C,"\n  No VPCs found.");console.log("Discovering AWS Config configurations across all AWS Regions....");const tn=await async function(n){let e=[];for(const i of n){const n=new s.CloudTrailClient({region:i}),o=new s.DescribeTrailsCommand({});try{const a=await n.send(o);if(a.trailList)for(const n of a.trailList){let o={};o=n.HomeRegion==i?{region:i,trailFound:!0,isOrgTrail:n.IsMultiRegionTrail,isMultiRegion:n.IsMultiRegionTrail}:{region:i,trailFound:!1},e.push(o)}}catch(n){console.log(`Error checking instance: ${n}`)}finally{n.destroy()}}return e}(E),sn=await async function(n){let e=[];for(const i of n){const n=new c.ConfigServiceClient({region:i});let o={region:i,configRecorderFound:!1,configDeliveryChannelFound:!1};try{const i=await n.send(new c.DescribeConfigurationRecorderStatusCommand({}));0!==i.ConfigurationRecordersStatus?.length&&(o.configRecorderFound=!0);const a=await n.send(new c.DescribeDeliveryChannelsCommand({}));0!==a.DeliveryChannels?.length&&(o.configDeliveryChannelFound=!0),e.push(o)}catch(n){console.error(`Error checking AWS Config in ${i}:`,n)}finally{n.destroy()}}return e}(E);if(w.appendFileSync(C,"\n\nAWS CONFIG CHECK\n"),sn&&sn.find((n=>!0===n.configRecorderFound))){console.dir(sn,{depth:null,colors:!0});for(const n of sn)n.configRecorderFound&&(L=!0,w.appendFileSync(C,`\n  ${n.region} - Config Recorder found`)),n.configDeliveryChannelFound&&(k=!0,w.appendFileSync(C,`\n  ${n.region} - Config Delivery Channel found`))}else w.appendFileSync(C,"\n  No AWS Config resource discovered");if(I.isInOrganization&&I.isManagementAccount){const n=await async function(n){const i=new e.OrganizationsClient({region:n});let o={};try{const n=new e.DescribeOrganizationCommand({}),a=await i.send(n);a.Organization&&(o.id=a.Organization.Id??"",o.arn=a.Organization.Arn??"");const t=new e.ListRootsCommand({}),s=await i.send(t);s.Roots?o.rootOuId=s.Roots[0].Id:console.log("No info found for your AWS Organization.")}catch(n){console.error(`An error occurred: ${n}`)}finally{return i.destroy(),o}}("us-east-1");console.dir(n,{depth:null,colors:!0});const i=await(async n=>{const e=new l.CostAndUsageReportServiceClient({region:n});let i=!1;try{const n={},o=new l.DescribeReportDefinitionsCommand(n),a=await e.send(o);return a.ReportDefinitions&&a.ReportDefinitions.length>0&&(i=!0),{isLegacyCurSetup:i}}catch(n){return console.error(`Error: ${n}`),i=!1,{isLegacyCurSetup:i}}finally{e.destroy()}})("us-east-1"),t=await async function(n){const i=new e.OrganizationsClient({region:n});let o={scpEnabled:!1,tagPolicyEnabled:!1,backupPolicyEnabled:!1};try{const n={},a=new e.ListRootsCommand(n),t=await i.send(a);if(t.Roots&&t.Roots[0].PolicyTypes)for(const n of t.Roots[0].PolicyTypes)"SERVICE_CONTROL_POLICY"==n.Type&&"ENABLED"==n.Status&&(o.scpEnabled=!0),"TAG_POLICY"==n.Type&&"ENABLED"==n.Status&&(o.tagPolicyEnabled=!0),"BACKUP_POLICY"==n.Type&&"ENABLED"==n.Status&&(o.backupPolicyEnabled=!0)}catch(n){console.error(`An error occurred: ${n}`)}finally{return i.destroy(),o}}("us-east-1");console.dir(t,{depth:null,colors:!0});const s=await async function(n){const i=[],o=new e.OrganizationsClient({region:n});try{const n=new e.ListAWSServiceAccessForOrganizationCommand({}),a=await o.send(n);if(a.EnabledServicePrincipals&&a.EnabledServicePrincipals.length>0){a.EnabledServicePrincipals;for(const n of a.EnabledServicePrincipals){const e={service:n.ServicePrincipal??""};i.push(e)}}}catch(n){console.error("Error checking service access:",n)}finally{return o.destroy(),i}}("us-east-1");console.dir(s,{depth:null,colors:!0});const c=await async function(n){let e={status:"disabled"};const i=new o.CloudFormationClient({region:n});try{const n={},a=new o.DescribeOrganizationsAccessCommand(n),t=await i.send(a);e.status=t.Status??"disabled"}catch(n){console.log(`Error: ${n}`)}finally{return i.destroy(),e}}(h);console.dir(c,{depth:null,colors:!0});const m=await async function(n){let e={};const i=new r.ControlTowerClient({region:n});try{const n=new r.ListLandingZonesCommand({}),o=await i.send(n);if(console.log(JSON.stringify(o.landingZones,null,2)),o.landingZones&&o.landingZones.length>0){const n={landingZoneIdentifier:o.landingZones[0].arn},i=o.landingZones[0].arn?.toString().split(":")[3]??"";if(i){e.controlTowerRegion=i;const o=new r.ControlTowerClient({region:i}),a=new r.GetLandingZoneCommand(n),t=await o.send(a);t.landingZone&&(console.log(JSON.stringify(t.landingZone,null,2)),e.status=t.landingZone.status,e.latestAvailableVersion=t.landingZone.latestAvailableVersion,e.deployedVersion=t.landingZone.version,e.driftStatus=t.landingZone.driftStatus?.status)}}}catch(e){console.error(`Error checking Control Tower in ${n}:`,e)}finally{i.destroy()}return e}(h),F=await async function(n){let e={found:!1};for(const i of n){const n=new a.SSOAdminClient({region:i});try{const o={MaxResults:Number("100")},t=new a.ListInstancesCommand(o),s=await n.send(t);if(s.Instances&&s.Instances.length>0){const n=s.Instances[0];e.found=!0,e.region=i,e.arn=n.InstanceArn,e.id=n.IdentityStoreId;break}}catch(n){console.log(`Error looking for AWS Identity Center details in region ${i}`)}finally{n.destroy()}}return e}(E);console.dir(F,{depth:null,colors:!0});const I=await async function(){let n=[];const i=new e.OrganizationsClient({region:"us-east-1"});let o={};try{const a=new e.ListDelegatedAdministratorsCommand({}),t=await i.send(a);if(t.DelegatedAdministrators)for(const a of t.DelegatedAdministrators){const t={AccountId:a.Id},s=new e.ListDelegatedServicesForAccountCommand(t),c=await i.send(s);c.DelegatedServices&&(o={services:c.DelegatedServices,accountName:a.Name},n.push(o))}}catch(n){console.log("Error looking for delegated services.")}finally{i.destroy()}return n}();console.dir(I,{depth:null,colors:!0});const R=await async function(){let n=[];const i=new e.OrganizationsClient({region:"us-east-1"});Number("200");try{let o=await i.send(new e.ListAccountsCommand({}));if(o.Accounts&&o.Accounts.length>0){for(const e of o.Accounts){let i={accountName:e.Name,accountEmail:e.Email};n.push(i)}do{if(o.NextToken&&(o=await i.send(new e.ListAccountsCommand({NextToken:o.NextToken})),o.Accounts&&o.Accounts.length>0))for(const e of o.Accounts){let i={accountName:e.Name,accountEmail:e.Email};n.push(i)}}while(o.NextToken)}}catch(n){console.error("Error listing AWS accounts:",n)}finally{i.destroy()}return n}();console.dir(R,{depth:null,colors:!0}),F.arn&&(z=!0),w.appendFileSync(C,"\n\nMANAGEMENT ACCOUNT RECOMMENDED TASKS:");let W=1;const P="Management Account";if(en&&en.length>0)for(const n of en){const e=await p(W,P,n.userName);if(w.appendFileSync(C,`\n  ${e}`),W++,n.accessKeyId){const e=await u(W,P,n.userName,n.accessKeyId);w.appendFileSync(C,`\n  ${e}`),W++}}if(on&&on.find((n=>!0===n.ec2Found)))for(const n of on)if(n.ec2Found&&n.region){const e=await y(W,P,n.region);w.appendFileSync(C,`\n  ${e}`),W++}if(an&&an.length>0)for(const n of an)if(n.vpcFound&&n.region){const e=await S(W,P,n.region);w.appendFileSync(C,`\n  ${e}`),W++}if(w.appendFileSync(C,"\n\n*********************************************************"),w.appendFileSync(C,"\n                    GOVERNANCE"),w.appendFileSync(C,"\n*********************************************************"),w.appendFileSync(C,"\n\nAWS ORGANIZATION POLICY TYPES\n"),w.appendFileSync(C,`\n  Service Control Policies (SCP) enabled: ${t.scpEnabled}`),w.appendFileSync(C,`\n  Tag Policies enabled: ${t.tagPolicyEnabled}`),w.appendFileSync(C,`\n  Backup Policies enabled: ${t.backupPolicyEnabled}`),w.appendFileSync(C,"\n\nAWS ORGANIZATION CLOUDFORMATION\n"),w.appendFileSync(C,`\n  AWS CloudFormation Organization stack sets status : ${c.status}`),c&&(K=!0),w.appendFileSync(C,"\n\nCLOUDTRAIL CHECK\n"),tn&&tn.length>0){D=!0,console.dir(tn,{depth:null,colors:!0});for(const n of tn)n.trailFound&&(w.appendFileSync(C,`\n  CloudTrail found in ${n.region}`),w.appendFileSync(C,`\n    Is Organization Trail: ${n.isOrgTrail}`),w.appendFileSync(C,`\n    Is MultiRegion: ${n.isMultiRegion}`),w.appendFileSync(C,"\n"),n.isOrgTrail&&(M=!0))}else w.appendFileSync(C,"\n  No AWS CloudTrail resource discovered");w.appendFileSync(C,"\n\nGOVERNANCE SERVICES ENABLED IN AWS ORGANIZATION:\n"),s.find((n=>"cloudtrail.amazonaws.com"===n.service))&&(w.appendFileSync(C,"\n  AWS CloudTrail"),U=!0);let L=!1;s.find((n=>"config.amazonaws.com"===n.service))&&(w.appendFileSync(C,"\n  AWS Config"),L=!0),w.appendFileSync(C,"\n\nGOVERNANCE RECOMMENDED TASKS:");const k="Governance";let nn=1;if(s.find((n=>"cloudtrail.amazonaws.com"===n.service)))U=!0;else{const n=await g(nn,k,"AWS CloudTrail");w.appendFileSync(C,`\n  ${n}`),nn++}if(s.find((n=>"config.amazonaws.com"===n.service)))L=!0;else{const n=await g(nn,k,"AWS Config");w.appendFileSync(C,`\n  ${n}`),nn++}if(t.scpEnabled)G=!0;else{const n=await A(nn,k,"Service Control Policy");w.appendFileSync(C,`\n  ${n}`),nn++}if(t.tagPolicyEnabled)q=!0;else{const n=await A(nn,k,"Tag Policy");w.appendFileSync(C,`\n  ${n}`),nn++}if(t.backupPolicyEnabled)V=!0;else{const n=await A(nn,k,"Backup Policy");w.appendFileSync(C,`\n  ${n}`),nn++}w.appendFileSync(C,"\n\n*********************************************************"),w.appendFileSync(C,"\n                FINANCIAL MANAGEMENT"),w.appendFileSync(C,"\n*********************************************************"),w.appendFileSync(C,"\n\nLegacy CUR"),w.appendFileSync(C,`\n  Is legacy CUR setup: ${i.isLegacyCurSetup}`),w.appendFileSync(C,"\n\nCLOUD FINANCIAL MANAGEMENT RECOMMENDED TASKS:");let sn=1;const cn="Cloud Financial Management";if(!i.isLegacyCurSetup){const n=await async function(n,e){return`${e} - Task ${n} - Enable and create a Cost and Utilization Report (CUR) in the billing console.`}(sn,cn);w.appendFileSync(C,`\n  ${n}`)}if(w.appendFileSync(C,"\n\n*********************************************************"),w.appendFileSync(C,"\n                MULTI-ACCOUNT STRATEGY"),w.appendFileSync(C,"\n*********************************************************"),w.appendFileSync(C,"\n\nAWS ORGANIZATION DETAILS\n"),w.appendFileSync(C,`\n  AWS Organization Id: ${n.id}`),w.appendFileSync(C,`\n  AWS Organization ARN: ${n.arn}`),w.appendFileSync(C,`\n  AWS Organization Root OU Id: ${n.rootOuId}`),w.appendFileSync(C,"\n\nAWS ORGANIZATION CLOUDFORMATION\n"),w.appendFileSync(C,`\n  AWS CloudFormation Organization stack sets status : ${c.status}`),n.rootOuId){const i=await async function(n,i){const o=new e.OrganizationsClient({region:n});let a=[];try{const n=new e.ListOrganizationalUnitsForParentCommand({ParentId:i}),t=await o.send(n);if(t.OrganizationalUnits)for(const n of t.OrganizationalUnits){let i={id:n.Id,name:n.Name};const t=await o.send(new e.ListAccountsForParentCommand({ParentId:n.Id}));t.Accounts&&t.Accounts.length>0&&(i.accounts=t.Accounts),a.push(i)}}catch(n){return console.error("Error checking service access:",n),[]}finally{o.destroy()}return a}("us-east-1",n.rootOuId);if(console.dir(i,{depth:null,colors:!0}),w.appendFileSync(C,"\n\nAWS ORGANIZATION TOP-LEVEL ORGANIZATION UNITS\n"),w.appendFileSync(C,"\n  List of Organization's top-level OUs and AWS accounts:"),i&&i.length>0)for(const n of i)if("suspended"===n.name?.toLowerCase()&&(T=!0),"transitional"===n.name?.toLowerCase()&&(O=!0),"workloads"===n.name?.toLowerCase()&&(N=!0),"security"===n.name?.toLowerCase()&&($=!0),"infrastructure"===n.name?.toLowerCase()&&(v=!0),w.appendFileSync(C,`\n    Organizational Unit: ${n.name}`),w.appendFileSync(C,`\n      Organizational Unit Id: ${n.id}`),n.accounts&&n.accounts.length>0){w.appendFileSync(C,"\n      AWS Accounts:");for(const e of n.accounts)w.appendFileSync(C,`\n        ${e.Name}`);w.appendFileSync(C,"\n")}else w.appendFileSync(C,"\n      AWS Accounts: None"),w.appendFileSync(C,"\n");else w.appendFileSync(C,"\n  No top level OUs found.")}if(w.appendFileSync(C,"\n\nAWS ORGANIZATION MEMBER ACCOUNTS\n"),R&&R.length>0)for(const n of R)n.accountName&&("log archive"===n.accountName.toLowerCase()&&(Q=!0),"audit"===n.accountName.toLowerCase()&&(X=!0),"security tooling"===n.accountName.toLowerCase()&&(X=!0)),w.appendFileSync(C,`\n  Account: ${n.accountName}`),w.appendFileSync(C,`\n  Account Email: ${n.accountEmail}\n`);else w.appendFileSync(C,"No member accounts found which is amazing as this is running from one.");w.appendFileSync(C,"\n\nAWS ORGANIZATION ENABLED SERVICES\n"),w.appendFileSync(C,"\n  The following AWS Services are enabled within your AWS Organization:");for(const n of s)w.appendFileSync(C,`\n    ${n.service}`);let rn=!1,ln=!1,dn=!1,pn=!1,un=!1,Sn=!1,yn=!1,gn=!1,fn=!1;if(w.appendFileSync(C,"\n\nAWS ORGANIZATION INTEGRATED SERVICE REGISTERED DELEGATED ADMINS\n"),I&&I.length>0)for(const n of I){if(w.appendFileSync(C,`\n  Account: ${n.accountName}`),n.services&&n.services.length>0){w.appendFileSync(C,"\n  Delegated Services:");for(const e of n.services)w.appendFileSync(C,`\n    ${e.ServicePrincipal}`),"securityhub.amazonaws.com"===e.ServicePrincipal&&(ln=!0),"guardduty.amazonaws.com"===e.ServicePrincipal&&(dn=!0),"sso.amazonaws.com"===e.ServicePrincipal&&(rn=!0),"config.amazonaws.com"===e.ServicePrincipal&&(pn=!0),"access-analyzer.amazonaws.com"===e.ServicePrincipal&&(un=!0),"storage-lens.s3.amazonaws.com"===e.ServicePrincipal&&(Sn=!0),"ipam.amazonaws.com"===e.ServicePrincipal&&(yn=!0),"account.amazonaws.com"===e.ServicePrincipal&&(gn=!0),"backup.amazonaws.com"===e.ServicePrincipal&&(fn=!0)}w.appendFileSync(C,"\n ")}else w.appendFileSync(C,"\n  No delegated admin accounts in AWS Organization");w.appendFileSync(C,"\n\nMULTI-ACCOUNT STRATEGY RECOMMENDED TASKS:");let An=1,wn="Multi-Account Strategy";const mn=await async function(n,e){return`${e} - Task ${n} - Review and validate your email addresses and their domains for the root user administrator for management and all member accounts.`}(An,wn);if(w.appendFileSync(C,`\n  ${mn}`),An++,!t.scpEnabled){const n=await A(An,wn,"Service Control Policy");w.appendFileSync(C,`\n  ${n}`),An++}if(!O){const n=await d(An,wn,"Transitional");w.appendFileSync(C,`\n  ${n}`),An++}if(!T){const n=await d(An,wn,"Suspended");w.appendFileSync(C,`\n  ${n}`),An++}if(!N){const n=await d(An,wn,"Workloads");w.appendFileSync(C,`\n  ${n}`),An++}if(!$){const n=await d(An,wn,"Security");w.appendFileSync(C,`\n  ${n}`),An++}if(!v){const n=await d(An,wn,"Infrastructure");w.appendFileSync(C,`\n  ${n}`),An++}w.appendFileSync(C,"\n\n*********************************************************"),w.appendFileSync(C,"\n                  LANDING ZONE"),w.appendFileSync(C,"\n*********************************************************"),w.appendFileSync(C,"\n\nAWS CONTROL TOWER\n"),m.controlTowerRegion?(_=!0,console.dir(m,{depth:null,colors:!0}),w.appendFileSync(C,`\n  Control Tower home region: ${m.controlTowerRegion}`),w.appendFileSync(C,`\n  Control Tower status: ${m.status}`),w.appendFileSync(C,`\n  Control Tower Landing Zone version: ${m.deployedVersion}`),w.appendFileSync(C,`\n  Latest available version: ${m.latestAvailableVersion}`),w.appendFileSync(C,`\n  Drift Status: ${m.driftStatus}`)):w.appendFileSync(C,"\n  AWS Control Tower is not deployed in the AWS Organization"),w.appendFileSync(C,"\n\nLANDING ZONE RECOMMENDED TASKS:");let Cn=1;const Fn="Landing Zone";if(void 0===m.controlTowerRegion){const n=await async function(n,e){return`${e} - Task ${n} - Deploy AWS Control Tower in your home AWS Region.`}(Cn,Fn);w.appendFileSync(C,`\n  ${n}`),Cn++}if("DRIFTED"===m.driftStatus){const n=await async function(n,e){return`${e} - Task ${n} - Fix drift in deployed landing zone.`}(Cn,Fn);w.appendFileSync(C,`\n  ${n}`),Cn++}else J=!0;if(m.deployedVersion!==m.latestAvailableVersion){const n=m.deployedVersion??"",e=m.latestAvailableVersion??"",i=await async function(n,e,i,o){return`${e} - Task ${n} - Update your AWS Control Tower Landing Zone from ${i} to ${o}.`}(Cn,Fn,n,e);w.appendFileSync(C,`\n  ${i}`),Cn++}else j=!0;if(!s.find((n=>"member.org.stacksets.cloudformation.amazonaws.com"===n.service))){Z=!0;const n=await g(Cn,Fn,"AWS CloudFormation");w.appendFileSync(C,`\n  ${n}`),Cn++}w.appendFileSync(C,"\n\n*********************************************************"),w.appendFileSync(C,"\n                    IDENTITY"),w.appendFileSync(C,"\n*********************************************************"),w.appendFileSync(C,"\n\nAWS IAM IDENTITY CENTER\n"),w.appendFileSync(C,`\n  IdC Region: ${F.region}`),w.appendFileSync(C,`\n  IdC ARN: ${F.arn}`),w.appendFileSync(C,`\n  IdC Instance Id: ${F.id}`),w.appendFileSync(C,"\n\nIDENTITY RECOMMENDED TASKS:");let hn=1;const En="Identity";if(!s.find((n=>"sso.amazonaws.com"===n.service))){const n=await g(hn,En,"AWS IAM Identity Center");b=!1,w.appendFileSync(C,`\n  ${n}`),hn++}if(!rn){const n=await f(hn,En,"AWS IAM Identity Center");w.appendFileSync(C,`\n  ${n}`),hn++}if(!t.scpEnabled){const n=await A(hn,En,"Service Control Policy");w.appendFileSync(C,`\n  ${n}`),hn++}w.appendFileSync(C,"\n\n*********************************************************"),w.appendFileSync(C,"\n                    SECURITY"),w.appendFileSync(C,"\n*********************************************************"),w.appendFileSync(C,"\n\nAWS SECURITY SERVICES ENABLED IN AWS ORGANIZATION:\n"),s.find((n=>"guardduty.amazonaws.com"===n.service))&&(B=!0,w.appendFileSync(C,"\n  AWS GuardDuty")),s.find((n=>"securityhub.amazonaws.com"===n.service))&&(Y=!0,w.appendFileSync(C,"\n  AWS Security Hub")),s.find((n=>"access-analyzer.amazonaws.com"===n.service))&&(w.appendFileSync(C,"\n  IAM Access Analyzer"),x=!0),s.find((n=>"macie.amazonaws.com"===n.service))&&w.appendFileSync(C,"\n  Macie"),s.find((n=>"storage-lens.s3.amazonaws.com"===n.service))&&w.appendFileSync(C,"\n  Amazon S3 Storage Lens"),s.find((n=>"inspector2.amazonaws.com"===n.service))&&w.appendFileSync(C,"\n  Amazon Inspector"),s.find((n=>"cloudtrail.amazonaws.com"===n.service))&&w.appendFileSync(C,"\n  AWS CloudTrail"),s.find((n=>"config.amazonaws.com"===n.service))&&w.appendFileSync(C,"\n  AWS Config"),w.appendFileSync(C,"\n\nSECURITY RECOMMENDED TASKS:");let In=1;const On="Security";if(!t.scpEnabled){const n=await A(In,On,"Service Control Policy");w.appendFileSync(C,`\n  ${n}`),In++}if(!s.find((n=>"guardduty.amazonaws.com"===n.service))){const n=await g(In,On,"AWS GuardDuty");w.appendFileSync(C,`\n  ${n}`),In++}if(!s.find((n=>"securityhub.amazonaws.com"===n.service))){const n=await g(In,On,"AWS SecurityHub");w.appendFileSync(C,`\n  ${n}`),In++}if(!s.find((n=>"access-analyzer.amazonaws.com"===n.service))){const n=await g(In,On,"AWS IAM Access Analyzer");w.appendFileSync(C,`\n  ${n}`),In++}if(!s.find((n=>"cloudtrail.amazonaws.com"===n.service))){const n=await g(In,On,"AWS CloudTrail");w.appendFileSync(C,`\n  ${n}`),In++}if(!s.find((n=>"config.amazonaws.com"===n.service))){const n=await g(In,On,"AWS Config");w.appendFileSync(C,`\n  ${n}`),In++}if(!ln){const n=await f(In,On,"Security Hub");w.appendFileSync(C,`\n  ${n}`),In++}if(!dn){const n=await f(In,On,"GuardDuty");w.appendFileSync(C,`\n  ${n}`),In++}if(!pn){const n=await f(In,On,"AWS Config");w.appendFileSync(C,`\n  ${n}`),In++}if(!un){const n=await f(In,On,"AWS IAM Access Analyzer");w.appendFileSync(C,`\n  ${n}`),In++}if(!Sn){const n=await f(In,On,"S3 Storage Lens");w.appendFileSync(C,`\n  ${n}`),In++}w.appendFileSync(C,"\n\n*********************************************************"),w.appendFileSync(C,"\n                    NETWORK"),w.appendFileSync(C,"\n*********************************************************"),w.appendFileSync(C,"\n\nNETWORK RECOMMENDED TASKS:");let Tn=1;const vn="Network";if(!s.find((n=>"guardduty.amazonaws.com"===n.service))){const n=await g(Tn,vn,"AWS GuardDuty");w.appendFileSync(C,`\n  ${n}`),Tn++}if(!s.find((n=>"ipam.amazonaws.com"===n.service))){const n=await g(Tn,vn,"AWS IPAM");w.appendFileSync(C,`\n  ${n}`),Tn++}if(!s.find((n=>"ram.amazonaws.com"===n.service))){H=!0;const n=await g(Tn,vn,"AWS Resource Access Manager");w.appendFileSync(C,`\n  ${n}`),Tn++}if(!yn){const n=await f(Tn,vn,"AWS IPAM");w.appendFileSync(C,`\n  ${n}`),Tn++}if(!t.scpEnabled){const n=await A(Tn,vn,"Service Control Policy");w.appendFileSync(C,`\n  ${n}`),Tn++}w.appendFileSync(C,"\n\n*********************************************************"),w.appendFileSync(C,"\n                  OBSERVABILITY"),w.appendFileSync(C,"\n*********************************************************"),w.appendFileSync(C,"\n\nOBSERVABILITY RECOMMENDED TASKS:");let Nn=1;const $n="Observability";if(!s.find((n=>"account.amazonaws.com"===n.service))){const n=await g(Nn,$n,"Account Manager");w.appendFileSync(C,`\n  ${n}`),Nn++}if(!gn){const n=await f(Nn,$n,"Account Manager");w.appendFileSync(C,`\n  ${n}`),Nn++}w.appendFileSync(C,"\n\n*********************************************************"),w.appendFileSync(C,"\n               BACKUP AND RECOVERY"),w.appendFileSync(C,"\n*********************************************************"),w.appendFileSync(C,"\n\nBACKUP AND RECOVERY RECOMMENDED TASKS:");let Rn=1;const bn="Backup and Recovery";if(!s.find((n=>"backup.amazonaws.com"===n.service))){const n=await g(Rn,bn,"AWS Backup");w.appendFileSync(C,`\n  ${n}`),Rn++}if(!fn){const n=await f(Rn,bn,"AWS Backup");w.appendFileSync(C,`\n  ${n}`),Rn++}if(!t.backupPolicyEnabled){const n=await A(Rn,bn,"Backup Policy");w.appendFileSync(C,`\n  ${n}`),Rn++}if(!t.scpEnabled){const n=await A(Rn,bn,"Service Control Policy");w.appendFileSync(C,`\n  ${n}`),Rn++}}else if(I.isInOrganization&&!I.isManagementAccount){const n="\nWARNING: You are running Pathfinder from an account that is a member of your AWS Organization. Please run the solution from your AWS Management account.";console.warn(n),w.appendFileSync(C,n)}else{const n="\nWARNING: You are running Pathfinder from an account that not part of an AWS Organization. This account will be treated as a standalone account.";console.warn(n),w.appendFileSync(C,n)}w.appendFileSync(C,"\n\n\n  END REVIEW");let cn={title:"AWS Organization Exists",description:"AWS Organization is enabled.",pass:I.isInOrganization,required:!0,weight:6};m.push(cn);let rn={title:"Management account",description:"AWS Management account exists.",pass:nn,required:!0,weight:6};m.push(rn);const ln={title:"IAM Users",description:"IAM Users should not exist in Management Account.",pass:R,required:!1,weight:4};m.push(ln);const dn={title:"EC2 Instances",description:"EC2 Instances should not exist in Management Account.",pass:P,required:!1,weight:4};m.push(dn);const pn={title:"Management Account VPCs",description:"Management Account should not have any VPCs.",pass:W,required:!1,weight:4};m.push(pn);const un={title:"CloudTrail Trail",description:"CloudTrail should be enabled.",pass:D,required:!0,weight:6};m.push(un);const Sn={title:"CloudTrail Organization Service",description:"CloudTrail Organization Services should be enabled.",pass:U,required:!0,weight:6};m.push(Sn);const yn={title:"CloudTrail Organization Trail",description:"At least one CloudTrail Organization Trail should be enabled.",pass:M,required:!0,weight:6};m.push(yn);const gn={title:"Config Management Account",description:"Config Management Account should be enabled.",pass:L,required:!0,weight:6};m.push(gn);const fn={title:"Config Recorder Management Account",description:"Config Recorder Management Account should be enabled.",pass:k,required:!0,weight:6};m.push(fn);const An={title:"CloudFormation StackSets active",description:"CloudFormation StackSets should be activated in the CloudFormation console.",pass:K,required:!1,weight:5};m.push(An);const wn={title:"GuardDuty Organization Service",description:"GuardDuty Organization Services should be enabled.",pass:B,required:!1,weight:4};m.push(wn);const mn={title:"Resource Access Manager Organization Service",description:"Resource Access Manager Organization Services should be enabled.",pass:H,required:!1,weight:4};m.push(mn);const Cn={title:"Security Hub Organization Service",description:"SecurityHub Organization Services should be enabled.",pass:Y,required:!1,weight:4};m.push(Cn);const Fn={title:"IAM Access Analyzer Organization Service",description:"IAM Access Analyzer Organization Services should be enabled.",pass:x,required:!1,weight:4};m.push(Fn);m.push({title:"Config Organization Service",description:"Config Organization Services should be enabled.",pass:!1,required:!1,weight:4});const hn={title:"Top-level Infrastructure OU",description:"Top-level Infrastructure OU should exist.",pass:v,required:!1,weight:5};m.push(hn);const En={title:"Top-level Security OU",description:"Top-level Security OU should exist.",pass:$,required:!0,weight:6};m.push(En);const In={title:"Top-level Workloads OU",description:"Top-level Workloads OU should exist.",pass:N,required:!1,weight:5};m.push(In);const On={title:"IAM IdC Organization Service",description:"IAM Identity Center Organization Services should be enabled.",pass:b,required:!0,weight:6};m.push(On);const Tn={title:"IAM IdC Configured",description:"IAM Identity Center should be configured.",pass:z,required:!0,weight:6};m.push(Tn);const vn={title:"Service Control Policies Enabled",description:"Service Control Policy should be enabled.",pass:G,required:!0,weight:6};m.push(vn);const Nn={title:"Organization Tag Policy Enabled",description:"Tag Policy should be enabled.",pass:q,required:!0,weight:6};m.push(Nn);const $n={title:" Organization Backup Policy Enabled",description:"Backup Policy should be enabled.",pass:V,required:!1,weight:5};m.push($n);const Rn={title:"Control Tower Deployed",description:"Control Tower should be deployed.",pass:_,required:!0,weight:6};m.push(Rn);const bn={title:"Control Tower Latest Version",description:"Control Tower should be the latest version.",pass:j,required:!1,weight:5};m.push(bn);const zn={title:"Control Tower Not Drifted",description:"Control Tower should not be drifted.",pass:J,required:!0,weight:6};m.push(zn);const Dn={title:"Log Archive Account",description:"Log Archive Account should exist.",pass:Q,required:!0,weight:6};m.push(Dn);let Mn=0,Wn=0,Pn="PASS";console.log("-----------------------------"),console.log("cloud foundation assessment complete."),console.log("-----------------------------"),console.log("Failed Requirements:");for(const n of m)Wn+=n.weight,!0===n.required&&!1===n.pass&&(console.log(`FAILED: ${n.title}`),Pn="FAILED"),!0===n.pass&&(Mn+=n.weight);console.log(`Result: ${Pn}`),console.log(`Score: ${Mn} out of ${Wn}`),console.log("-----------------------------"),console.table(m)})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQVdnQixLQUFLNlQsSUFDaEIsTUFBTUMsR0FBNkIsQ0FDL0I5QixNQUFPLHNCQUNQQyxZQUFhLG9DQUNiQyxLQUFNOU8sRUFDTitPLFVBQVUsRUFDVkMsT0FBUSxHQUVacFQsRUFBV2dCLEtBQUs4VCxJQVFoQixJQUFJQyxHQUFRLEVBQ1JDLEdBQWEsRUFDYkMsR0FBYSxPQUNqQjlULFFBQVFFLElBQUksaUNBQ1pGLFFBQVFFLElBQUkseUNBQ1pGLFFBQVFFLElBQUksaUNBQ1pGLFFBQVFFLElBQUksd0JBQ1osSUFBSyxNQUFNNlQsS0FBU2xWLEVBQ2hCZ1YsSUFBY0UsRUFBTTlCLFFBQ0csSUFBbkI4QixFQUFNL0IsV0FBb0MsSUFBZitCLEVBQU1oQyxPQUNqQy9SLFFBQVFFLElBQUksV0FBVzZULEVBQU1sQyxTQUM3QmlDLEdBQWEsV0FFRSxJQUFmQyxFQUFNaEMsT0FDTjZCLElBQVNHLEVBQU05QixRQUd2QmpTLFFBQVFFLElBQUksV0FBVzRULE1BQ3ZCOVQsUUFBUUUsSUFBSSxVQUFVMFQsYUFBZ0JDLE1BQ3RDN1QsUUFBUUUsSUFBSSxpQ0FDWkYsUUFBUWdVLE1BQU1uVixFQUFXLEVBRTdCb1YsRSIsInNvdXJjZXMiOlsid2VicGFjazovLy9leHRlcm5hbCBjb21tb25qcyBcIkBhd3Mtc2RrL2NsaWVudC1zdHNcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgY29tbW9uanMgXCJAYXdzLXNkay9jbGllbnQtb3JnYW5pemF0aW9uc1wiIiwid2VicGFjazovLy9leHRlcm5hbCBjb21tb25qcyBcIkBhd3Mtc2RrL2NsaWVudC1pYW1cIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgY29tbW9uanMgXCJAYXdzLXNkay9jbGllbnQtY2xvdWRmb3JtYXRpb25cIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgY29tbW9uanMgXCJAYXdzLXNkay9jbGllbnQtc3NvLWFkbWluXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIGNvbW1vbmpzIFwiQGF3cy1zZGsvY2xpZW50LWVjMlwiIiwid2VicGFjazovLy9leHRlcm5hbCBjb21tb25qcyBcIkBhd3Mtc2RrL2NsaWVudC1jbG91ZHRyYWlsXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIGNvbW1vbmpzIFwiQGF3cy1zZGsvY2xpZW50LWNvbmZpZy1zZXJ2aWNlXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIGNvbW1vbmpzIFwiQGF3cy1zZGsvY2xpZW50LWNvbnRyb2x0b3dlclwiIiwid2VicGFjazovLy9leHRlcm5hbCBjb21tb25qcyBcIkBhd3Mtc2RrL2NsaWVudC1jb3N0LWFuZC11c2FnZS1yZXBvcnQtc2VydmljZVwiIiwid2VicGFjazovLy8uL2J1aWxkL3NyYy9hY3Rpb25zL3Rhc2tzLmpzIiwid2VicGFjazovLy9leHRlcm5hbCBub2RlLWNvbW1vbmpzIFwiZnNcIiIsIndlYnBhY2s6Ly8vLi9idWlsZC9hcHAuanMiLCJ3ZWJwYWNrOi8vLy4vYnVpbGQvc3JjL2FjdGlvbnMvZ2V0LXJlZ2lvbnMuanMiLCJ3ZWJwYWNrOi8vLy4vYnVpbGQvc3JjL2FjdGlvbnMvZGVmaW5lLWFjY291bnQtdHlwZS5qcyIsIndlYnBhY2s6Ly8vLi9idWlsZC9zcmMvYWN0aW9ucy9jaGVjay1pYW0tdXNlcnMuanMiLCJ3ZWJwYWNrOi8vLy4vYnVpbGQvc3JjL2FjdGlvbnMvY2hlY2stZWMyLWV4aXN0ZW5jZS5qcyIsIndlYnBhY2s6Ly8vLi9idWlsZC9zcmMvYWN0aW9ucy9jaGVjay12cGMtZXhpc3RlbmNlLmpzIiwid2VicGFjazovLy8uL2J1aWxkL3NyYy9hY3Rpb25zL2NoZWNrLWNsb3VkdHJhaWwtZXhpc3RlbmNlLmpzIiwid2VicGFjazovLy8uL2J1aWxkL3NyYy9hY3Rpb25zL2NoZWNrLWNvbmZpZy1leGlzdGVuY2UuanMiLCJ3ZWJwYWNrOi8vLy4vYnVpbGQvc3JjL2FjdGlvbnMvZ2V0LW9yZy1kZXRhaWxzLmpzIiwid2VicGFjazovLy8uL2J1aWxkL3NyYy9hY3Rpb25zL2NoZWNrLWxlZ2FjeS1jdXIuanMiLCJ3ZWJwYWNrOi8vLy4vYnVpbGQvc3JjL2FjdGlvbnMvZ2V0LWVuYWJsZWQtb3JnLXBvbGljeS10eXBlcy5qcyIsIndlYnBhY2s6Ly8vLi9idWlsZC9zcmMvYWN0aW9ucy9nZXQtZW5hYmxlZC1vcmctc2VydmljZXMuanMiLCJ3ZWJwYWNrOi8vLy4vYnVpbGQvc3JjL2FjdGlvbnMvY2hlY2stb3JnLWNsb3VkZm9ybWF0aW9uLmpzIiwid2VicGFjazovLy8uL2J1aWxkL3NyYy9hY3Rpb25zL2NoZWNrLWNvbnRyb2wtdG93ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vYnVpbGQvc3JjL2FjdGlvbnMvZ2V0LWlkYy1pbmZvLmpzIiwid2VicGFjazovLy8uL2J1aWxkL3NyYy9hY3Rpb25zL2dldC1vcmctZGEtYWNjb3VudHMuanMiLCJ3ZWJwYWNrOi8vLy4vYnVpbGQvc3JjL2FjdGlvbnMvZ2V0LW9yZy1tZW1iZXItYWNjb3VudHMuanMiLCJ3ZWJwYWNrOi8vLy4vYnVpbGQvc3JjL2FjdGlvbnMvZ2V0LW9yZy1vdXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IHJlcXVpcmUoXCJAYXdzLXNkay9jbGllbnQtc3RzXCIpOyIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSByZXF1aXJlKFwiQGF3cy1zZGsvY2xpZW50LW9yZ2FuaXphdGlvbnNcIik7IiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IHJlcXVpcmUoXCJAYXdzLXNkay9jbGllbnQtaWFtXCIpOyIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSByZXF1aXJlKFwiQGF3cy1zZGsvY2xpZW50LWNsb3VkZm9ybWF0aW9uXCIpOyIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSByZXF1aXJlKFwiQGF3cy1zZGsvY2xpZW50LXNzby1hZG1pblwiKTsiLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gcmVxdWlyZShcIkBhd3Mtc2RrL2NsaWVudC1lYzJcIik7IiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IHJlcXVpcmUoXCJAYXdzLXNkay9jbGllbnQtY2xvdWR0cmFpbFwiKTsiLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gcmVxdWlyZShcIkBhd3Mtc2RrL2NsaWVudC1jb25maWctc2VydmljZVwiKTsiLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gcmVxdWlyZShcIkBhd3Mtc2RrL2NsaWVudC1jb250cm9sdG93ZXJcIik7IiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IHJlcXVpcmUoXCJAYXdzLXNkay9jbGllbnQtY29zdC1hbmQtdXNhZ2UtcmVwb3J0LXNlcnZpY2VcIik7IiwiZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlcGxveUNvbmZpZ1JlY29yZGVyVGFzayh0YXNrTnVtYmVyLCB3YXlwb2ludCwgcmVnaW9uKSB7XG4gICAgY29uc3QgdGFzayA9IGAke3dheXBvaW50fSAtIFRhc2sgJHt0YXNrTnVtYmVyfSAtIERlcGxveSBBV1MgQ29uZmlnIFJlY29yZGVyIHRvIHRoZSAke3JlZ2lvbn0gcmVnaW9uLmA7XG4gICAgcmV0dXJuIHRhc2s7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVwbG95Q29uZmlnRGVsaXZlcnlDaGFubmVsVGFzayh0YXNrTnVtYmVyLCB3YXlwb2ludCwgcmVnaW9uKSB7XG4gICAgY29uc3QgdGFzayA9IGAke3dheXBvaW50fSAtIFRhc2sgJHt0YXNrTnVtYmVyfSAtIEFkZCBBV1MgQ29uZmlnIERlbGl2ZXJ5IENoYW5uZWwgdG8gdGhlICR7cmVnaW9ufSByZWdpb24uYDtcbiAgICByZXR1cm4gdGFzaztcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZXBsb3lDbG91ZFRyYWlsT3JnVHJhaWxUYXNrKHRhc2tOdW1iZXIsIHdheXBvaW50KSB7XG4gICAgY29uc3QgdGFzayA9IGAke3dheXBvaW50fSAtIFRhc2sgJHt0YXNrTnVtYmVyfSAtIENyZWF0ZSBhIG11bHRpLXJlZ2lvbiBDbG91ZFRyYWlsIE9yZ2FuaXphdGlvbiBUcmFpbCBpbiB5b3VyIGhvbWUgQVdTIFJlZ2lvbi5gO1xuICAgIHJldHVybiB0YXNrO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlcGxveUNvbnRyb2xUb3dlclRhc2sodGFza051bWJlciwgd2F5cG9pbnQpIHtcbiAgICBjb25zdCB0YXNrID0gYCR7d2F5cG9pbnR9IC0gVGFzayAke3Rhc2tOdW1iZXJ9IC0gRGVwbG95IEFXUyBDb250cm9sIFRvd2VyIGluIHlvdXIgaG9tZSBBV1MgUmVnaW9uLmA7XG4gICAgcmV0dXJuIHRhc2s7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlTHpDb250cm9sVG93ZXJUYXNrKHRhc2tOdW1iZXIsIHdheXBvaW50LCBjdXJyZW50VmVyc2lvbiwgbGF0ZXN0VmVyc2lvbikge1xuICAgIGNvbnN0IHRhc2sgPSBgJHt3YXlwb2ludH0gLSBUYXNrICR7dGFza051bWJlcn0gLSBVcGRhdGUgeW91ciBBV1MgQ29udHJvbCBUb3dlciBMYW5kaW5nIFpvbmUgZnJvbSAke2N1cnJlbnRWZXJzaW9ufSB0byAke2xhdGVzdFZlcnNpb259LmA7XG4gICAgcmV0dXJuIHRhc2s7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZml4THpEcmlmdCh0YXNrTnVtYmVyLCB3YXlwb2ludCkge1xuICAgIGNvbnN0IHRhc2sgPSBgJHt3YXlwb2ludH0gLSBUYXNrICR7dGFza051bWJlcn0gLSBGaXggZHJpZnQgaW4gZGVwbG95ZWQgbGFuZGluZyB6b25lLmA7XG4gICAgcmV0dXJuIHRhc2s7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVwbG95T3VUYXNrKHRhc2tOdW1iZXIsIHdheXBvaW50LCBPdU5hbWUpIHtcbiAgICBjb25zdCB0YXNrID0gYCR7d2F5cG9pbnR9IC0gVGFzayAke3Rhc2tOdW1iZXJ9IC0gRGVwbG95IHRvcC1sZXZlbCBPVSAke091TmFtZX0uYDtcbiAgICByZXR1cm4gdGFzaztcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZW1vdmVJYW1Vc2VyVGFzayh0YXNrTnVtYmVyLCB3YXlwb2ludCwgSWFtVXNlck5hbWUpIHtcbiAgICBjb25zdCB0YXNrID0gYCR7d2F5cG9pbnR9IC0gVGFzayAke3Rhc2tOdW1iZXJ9IC0gUmVtb3ZlIElBTSB1c2VyICR7SWFtVXNlck5hbWV9YDtcbiAgICByZXR1cm4gdGFzaztcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZW1vdmVJYW1Vc2VyQXBpS2V5VGFzayh0YXNrTnVtYmVyLCB3YXlwb2ludCwgSWFtVXNlck5hbWUsIElhbVVzZXJBcGlLZXlJZCkge1xuICAgIGNvbnN0IHRhc2sgPSBgJHt3YXlwb2ludH0gLSBUYXNrICR7dGFza051bWJlcn0gLSBSZW1vdmUgSUFNIHVzZXIgJHtJYW1Vc2VyTmFtZX0gQVBJIGtleTogJHtJYW1Vc2VyQXBpS2V5SWR9YDtcbiAgICByZXR1cm4gdGFzaztcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVWcGModGFza051bWJlciwgd2F5cG9pbnQsIHJlZ2lvbikge1xuICAgIGNvbnN0IHRhc2sgPSBgJHt3YXlwb2ludH0gLSBUYXNrICR7dGFza051bWJlcn0gLSBEZWxldGUgVlBDIGluIHRoZSAke3JlZ2lvbn0gcmVnaW9uLmA7XG4gICAgcmV0dXJuIHRhc2s7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlRWMyKHRhc2tOdW1iZXIsIHdheXBvaW50LCByZWdpb24pIHtcbiAgICBjb25zdCB0YXNrID0gYCR7d2F5cG9pbnR9IC0gVGFzayAke3Rhc2tOdW1iZXJ9IC0gRGVsZXRlIFZQQyBpbiB0aGUgJHtyZWdpb259IHJlZ2lvbi5gO1xuICAgIHJldHVybiB0YXNrO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGVuYWJsZUF3c09yZ2FuaXphdGlvblNlcnZpY2UodGFza051bWJlciwgd2F5cG9pbnQsIHNlcnZpY2VOYW1lKSB7XG4gICAgY29uc3QgdGFzayA9IGAke3dheXBvaW50fSAtIFRhc2sgJHt0YXNrTnVtYmVyfSAtIEVuYWJsZSB0aGUgQVdTIHNlcnZpY2UgJHtzZXJ2aWNlTmFtZX0gd2l0aGluIHlvdXIgQVdTIE9yZ2FuaXphdGlvbmA7XG4gICAgcmV0dXJuIHRhc2s7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZWdhdGVBZG1pbmlzdHJhdGlvbkF3c1NlcnZpY2UodGFza051bWJlciwgd2F5cG9pbnQsIHNlcnZpY2VOYW1lKSB7XG4gICAgY29uc3QgdGFzayA9IGAke3dheXBvaW50fSAtIFRhc2sgJHt0YXNrTnVtYmVyfSAtIERlbGVnYXRlIHRoZSBBV1Mgc2VydmljZSAke3NlcnZpY2VOYW1lfSB3aXRoaW4geW91ciBBV1MgT3JnYW5pemF0aW9uIHRvIGEgbWVtYmVyIGFjY291bnRgO1xuICAgIHJldHVybiB0YXNrO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGVuYWJsZUF3c0N1cih0YXNrTnVtYmVyLCB3YXlwb2ludCkge1xuICAgIGNvbnN0IHRhc2sgPSBgJHt3YXlwb2ludH0gLSBUYXNrICR7dGFza051bWJlcn0gLSBFbmFibGUgYW5kIGNyZWF0ZSBhIENvc3QgYW5kIFV0aWxpemF0aW9uIFJlcG9ydCAoQ1VSKSBpbiB0aGUgYmlsbGluZyBjb25zb2xlLmA7XG4gICAgcmV0dXJuIHRhc2s7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmV2aWV3QWNjb3VudEVtYWlsQWRkcmVzc2VzKHRhc2tOdW1iZXIsIHdheXBvaW50KSB7XG4gICAgY29uc3QgdGFzayA9IGAke3dheXBvaW50fSAtIFRhc2sgJHt0YXNrTnVtYmVyfSAtIFJldmlldyBhbmQgdmFsaWRhdGUgeW91ciBlbWFpbCBhZGRyZXNzZXMgYW5kIHRoZWlyIGRvbWFpbnMgZm9yIHRoZSByb290IHVzZXIgYWRtaW5pc3RyYXRvciBmb3IgbWFuYWdlbWVudCBhbmQgYWxsIG1lbWJlciBhY2NvdW50cy5gO1xuICAgIHJldHVybiB0YXNrO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGVuYWJsZVBvbGljeVR5cGVUYXNrKHRhc2tOdW1iZXIsIHdheXBvaW50LCBwb2xpY3lUeXBlKSB7XG4gICAgY29uc3QgdGFzayA9IGAke3dheXBvaW50fSAtIFRhc2sgJHt0YXNrTnVtYmVyfSAtIEVuYWJsZSB0aGUgcG9saWN5IHR5cGUgJHtwb2xpY3lUeXBlfSB3aXRoaW4geW91ciBBV1MgT3JnYW5pemF0aW9uLmA7XG4gICAgcmV0dXJuIHRhc2s7XG59XG4iLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gcmVxdWlyZShcImZzXCIpOyIsImltcG9ydCB7IGRlZmluZUFjY291bnRUeXBlIH0gZnJvbSAnLi9zcmMvYWN0aW9ucy9kZWZpbmUtYWNjb3VudC10eXBlLmpzJztcbmltcG9ydCBjaGVja0lhbVVzZXJzIGZyb20gJy4vc3JjL2FjdGlvbnMvY2hlY2staWFtLXVzZXJzLmpzJztcbmltcG9ydCBnZXRFbmFibGVkT3JnUG9saWN5VHlwZXMgZnJvbSAnLi9zcmMvYWN0aW9ucy9nZXQtZW5hYmxlZC1vcmctcG9saWN5LXR5cGVzLmpzJztcbmltcG9ydCBnZXRFbmFibGVkT3JnU2VydmljZXMgZnJvbSAnLi9zcmMvYWN0aW9ucy9nZXQtZW5hYmxlZC1vcmctc2VydmljZXMuanMnO1xuaW1wb3J0IGdldE9yZ0Nsb3VkRm9ybWF0aW9uIGZyb20gJy4vc3JjL2FjdGlvbnMvY2hlY2stb3JnLWNsb3VkZm9ybWF0aW9uLmpzJztcbmltcG9ydCBnZXRJZGNJbmZvIGZyb20gJy4vc3JjL2FjdGlvbnMvZ2V0LWlkYy1pbmZvLmpzJztcbmltcG9ydCBnZXRPcmdEZXRhaWxzIGZyb20gJy4vc3JjL2FjdGlvbnMvZ2V0LW9yZy1kZXRhaWxzLmpzJztcbmltcG9ydCBnZXRPcmdUb3BMZXZlbE91cyBmcm9tICcuL3NyYy9hY3Rpb25zL2dldC1vcmctb3VzLmpzJztcbmltcG9ydCBnZXRBbGxSZWdpb25zIGZyb20gJy4vc3JjL2FjdGlvbnMvZ2V0LXJlZ2lvbnMuanMnO1xuaW1wb3J0IGNoZWNrRWMyRXhpc3RzIGZyb20gJy4vc3JjL2FjdGlvbnMvY2hlY2stZWMyLWV4aXN0ZW5jZS5qcyc7XG5pbXBvcnQgY2hlY2tWcGNFeGlzdHMgZnJvbSAnLi9zcmMvYWN0aW9ucy9jaGVjay12cGMtZXhpc3RlbmNlLmpzJztcbmltcG9ydCBjaGVja0Nsb3VkVHJhaWxFeGlzdHMgZnJvbSAnLi9zcmMvYWN0aW9ucy9jaGVjay1jbG91ZHRyYWlsLWV4aXN0ZW5jZS5qcyc7XG5pbXBvcnQgZ2V0T3JnRGFBY2NvdW50cyBmcm9tICcuL3NyYy9hY3Rpb25zL2dldC1vcmctZGEtYWNjb3VudHMuanMnO1xuaW1wb3J0IGNoZWNrQ29uZmlnRXhpc3RzIGZyb20gJy4vc3JjL2FjdGlvbnMvY2hlY2stY29uZmlnLWV4aXN0ZW5jZS5qcyc7XG5pbXBvcnQgZ2V0T3JnTWVtYmVyQWNjb3VudHMgZnJvbSAnLi9zcmMvYWN0aW9ucy9nZXQtb3JnLW1lbWJlci1hY2NvdW50cy5qcyc7XG5pbXBvcnQgZ2V0Q29udHJvbFRvd2VyIGZyb20gJy4vc3JjL2FjdGlvbnMvY2hlY2stY29udHJvbC10b3dlci5qcyc7XG5pbXBvcnQgY2hlY2tMZWdhY3lDdXIgZnJvbSAnLi9zcmMvYWN0aW9ucy9jaGVjay1sZWdhY3ktY3VyLmpzJztcbmltcG9ydCAqIGFzIHRhc2tzIGZyb20gJy4vc3JjL2FjdGlvbnMvdGFza3MuanMnO1xuaW1wb3J0ICogYXMgZnMgZnJvbSAnZnMnO1xuY29uc3QgbWFpbiA9IGFzeW5jICgpID0+IHtcbiAgICBsZXQgQ2ZhdENoZWNrcyA9IFtdO1xuICAgIGNvbnN0IHJlcG9ydEZpbGUgPSBcIi4vUGF0aGZpbmRlci50eHRcIjtcbiAgICBsZXQgZGF0ZVRpbWUgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnN0IHJlZ2lvbiA9IHByb2Nlc3MuZW52LkFXU19SRUdJT04gfHwgJ3VzLWVhc3QtMSc7XG4gICAgY29uc3QgYWxsUmVnaW9ucyA9IGF3YWl0IGdldEFsbFJlZ2lvbnMoKTtcbiAgICBjb25zb2xlLmxvZyhcIkRpc2NvdmVyaW5nIHlvdXIgQVdTIGVudmlyb25tZW50Li4uLlwiKTtcbiAgICBjb25zdCBhY2NvdW50VHlwZSA9IGF3YWl0IGRlZmluZUFjY291bnRUeXBlKHJlZ2lvbik7XG4gICAgbGV0IHRyYW5zaXRpb25hbEZvdW5kLCBzdXNwZW5kZWRGb3VuZCwgaW5mcmFzdHJ1Y3R1cmVGb3VuZCA9IGZhbHNlO1xuICAgIGxldCB3b3JrbG9hZHNGb3VuZCA9IGZhbHNlO1xuICAgIGxldCBzZWN1cml0eUZvdW5kID0gZmFsc2U7XG4gICAgbGV0IGNmYXRJYW1Vc2VyUGFzcyA9IGZhbHNlO1xuICAgIGxldCBjZmF0SWFtSWRQT3JnU2VydmljZVBhc3MgPSB0cnVlO1xuICAgIGxldCBjZmF0SWFtSWRjQ29uZmlndXJlZFBhc3MgPSBmYWxzZTtcbiAgICBsZXQgY2ZhdENsb3VkVHJhaWxQYXNzID0gZmFsc2U7XG4gICAgbGV0IGNmYXRDbG91ZFRyYWlsT3JnVHJhaWxQYXNzID0gZmFsc2U7XG4gICAgbGV0IGNmYXRWcGNQYXNzID0gdHJ1ZTtcbiAgICBsZXQgY2ZhdEVjMlBhc3MgPSBmYWxzZTtcbiAgICBsZXQgY2ZhdENvbmZpZ01hbmFnZW1lbnRBY2NvdW50UGFzcyA9IGZhbHNlO1xuICAgIGxldCBjZmF0Q29uZmlnUmVjb3JkZXJNYW5hZ2VtZW50QWNjb3VudFBhc3MgPSBmYWxzZTtcbiAgICBsZXQgY2ZhdENsb3VkVHJhaWxPcmdTZXJ2aWNlRW5hYmxlZFBhc3MgPSBmYWxzZTtcbiAgICBsZXQgY2ZhdFRhZ1BvbGljaWVzRW5hYmxlZFBhc3MgPSBmYWxzZTtcbiAgICBsZXQgY2ZhdFNjcEVuYWJsZWRQYXNzID0gZmFsc2U7XG4gICAgbGV0IGNmYXRCYWNrdXBQb2xpY2llc0VuYWJsZWRQYXNzID0gZmFsc2U7XG4gICAgbGV0IGNmYXRPcmdDbG91ZEZvcm1hdGlvbkVuYWJsZWRQYXNzID0gZmFsc2U7XG4gICAgbGV0IGNmYXRPcmdDbG91ZEZvcm1hdGlvblN0YXR1c1Bhc3MgPSBmYWxzZTtcbiAgICBsZXQgY2ZhdE9yZ1NlcnZpY2VHdWFyZER1dHlFbmFibGVkUGFzcyA9IGZhbHNlO1xuICAgIGxldCBjZmF0T3JnU2VydmljZVNlY3VyaXR5SHViRW5hYmxlZFBhc3MgPSBmYWxzZTtcbiAgICBsZXQgY2ZhdE9yZ1NlcnZpY2VJYW1BY2Nlc3NBbmFseXplckVuYWJsZWRQYXNzID0gZmFsc2U7XG4gICAgbGV0IGNmYXRPcmdTZXJ2aWNlQXdzQ29uZmlnRW5hYmxlZFBhc3MgPSBmYWxzZTtcbiAgICBsZXQgY2ZhdE9yZ1NlcnZpY2VSYW1FbmFibGVkUGFzcyA9IGZhbHNlO1xuICAgIGxldCBjZmF0Q29udHJvbFRvd2VyRGVwbG95ZWRQYXNzID0gZmFsc2U7XG4gICAgbGV0IGNmYXRDb250cm9sVG93ZXJOb3REcmlmdGVkUGFzcyA9IGZhbHNlO1xuICAgIGxldCBjZmF0Q29udHJvbFRvd2VyTGF0ZXN0VmVyc2lvblBhc3MgPSBmYWxzZTtcbiAgICBsZXQgY2ZhdExvZ0FyY2hpdmVBY2NvdW50UGFzcyA9IGZhbHNlO1xuICAgIGxldCBjZmF0QXVkaXRBY2NvdW50UGFzcyA9IGZhbHNlO1xuICAgIGZzLndyaXRlRmlsZVN5bmMocmVwb3J0RmlsZSwgXCJDbG91ZCBGb3VuZGF0aW9ucyAtIEFzc2Vzc21lbnQgVG9vbFwiKTtcbiAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuR2VuZXJhdGVkIG9uOiAke2RhdGVUaW1lLnRvVVRDU3RyaW5nKCl9IFxcblxcbmApO1xuICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipgKTtcbiAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICAgICAgICAgICAgICAgICAgIE1BTkFHRU1FTlQgQUNDT1VOVGApO1xuICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipgKTtcbiAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuXFxuQVdTIEFDQ09VTlQgVFlQRVxcbmApO1xuICAgIGxldCBjZmF0TWFuYWdlbWVudEFjY291bnRQYXNzID0gdHJ1ZTtcbiAgICBpZiAoYWNjb3VudFR5cGUpIHtcbiAgICAgICAgY29uc29sZS5kaXIoYWNjb3VudFR5cGUsIHsgZGVwdGg6IG51bGwsIGNvbG9yczogdHJ1ZSB9KTtcbiAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgSXMgaW4gQVdTIE9yZ2FuaXphdGlvbjogJHthY2NvdW50VHlwZS5pc0luT3JnYW5pemF0aW9ufWApO1xuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICBBc3Nlc3NpbmcgQVdTIE1hbmFnZW1lbnQgQWNjb3VudDogJHthY2NvdW50VHlwZS5pc01hbmFnZW1lbnRBY2NvdW50fWApO1xuICAgICAgICBpZiAoYWNjb3VudFR5cGUuaXNNYW5hZ2VtZW50QWNjb3VudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBhY2NvdW50VHlwZS5pc01hbmFnZW1lbnRBY2NvdW50ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY2ZhdE1hbmFnZW1lbnRBY2NvdW50UGFzcyA9IGFjY291bnRUeXBlLmlzTWFuYWdlbWVudEFjY291bnQ7XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKFwiRGlzY292ZXJpbmcgSUFNIFVzZXJzLi4uLlwiKTtcbiAgICBjb25zdCBpYW1Vc2VyUmVzdWx0ID0gYXdhaXQgY2hlY2tJYW1Vc2VycygpO1xuICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG5cXG5JQU0gVVNFUlMgQ0hFQ0tcXG5gKTtcbiAgICBpZiAoaWFtVXNlclJlc3VsdCAmJiBpYW1Vc2VyUmVzdWx0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc29sZS5kaXIoaWFtVXNlclJlc3VsdCwgeyBkZXB0aDogbnVsbCwgY29sb3JzOiB0cnVlIH0pO1xuICAgICAgICBmb3IgKGNvbnN0IGlhbVVzZXIgb2YgaWFtVXNlclJlc3VsdCkge1xuICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgSUFNIFVzZXI6ICR7aWFtVXNlci51c2VyTmFtZX1gKTtcbiAgICAgICAgICAgIGlmIChpYW1Vc2VyLmFjY2Vzc0tleUlkKSB7XG4gICAgICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgICBVc2VyIEFQSSBLZXkgSUQ6ICR7aWFtVXNlci5hY2Nlc3NLZXlJZH1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG5gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgTm8gSUFNIFVzZXJzIGZvdW5kLmApO1xuICAgICAgICBjZmF0SWFtVXNlclBhc3MgPSB0cnVlO1xuICAgIH1cbiAgICBjb25zb2xlLmxvZyhcIkRpc2NvdmVyaW5nIEVDMiBpbnN0YW5jZXMgYWNyb3NzIGFsbCBBV1MgUmVnaW9ucy4uLi5cIik7XG4gICAgY29uc3QgZWMyQ2hlY2sgPSBhd2FpdCBjaGVja0VjMkV4aXN0cyhhbGxSZWdpb25zKTtcbiAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuXFxuRUMyIElOU1RBTkNFIENIRUNLXFxuYCk7XG4gICAgaWYgKGVjMkNoZWNrICYmIGVjMkNoZWNrLmZpbmQocGFyYW0gPT4gcGFyYW0uZWMyRm91bmQgPT09IHRydWUpKSB7XG4gICAgICAgIGNvbnNvbGUuZGlyKGVjMkNoZWNrLCB7IGRlcHRoOiBudWxsLCBjb2xvcnM6IHRydWUgfSk7XG4gICAgICAgIGZvciAoY29uc3QgZWMyIG9mIGVjMkNoZWNrKSB7XG4gICAgICAgICAgICBjZmF0RWMyUGFzcyA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKGVjMi5lYzJGb3VuZCkge1xuICAgICAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gICR7ZWMyLnJlZ2lvbn0gLSBmb3VuZCBFQzIgSW5zdGFuY2UocykuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gIE5vIEVDMiBpbnN0YW5jZXMgZm91bmQuYCk7XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKFwiRGlzY292ZXJpbmcgVlBDcyBhY3Jvc3MgYWxsIEFXUyBSZWdpb25zLi4uLlwiKTtcbiAgICBjb25zdCB2cGNDaGVjayA9IGF3YWl0IGNoZWNrVnBjRXhpc3RzKGFsbFJlZ2lvbnMpO1xuICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG5cXG5WUEMgQ0hFQ0tcXG5gKTtcbiAgICBpZiAodnBjQ2hlY2sgJiYgdnBjQ2hlY2subGVuZ3RoID4gMCkge1xuICAgICAgICBjZmF0VnBjUGFzcyA9IGZhbHNlO1xuICAgICAgICBjb25zb2xlLmRpcih2cGNDaGVjaywgeyBkZXB0aDogbnVsbCwgY29sb3JzOiB0cnVlIH0pO1xuICAgICAgICBmb3IgKGNvbnN0IHZwY0ZpbmQgb2YgdnBjQ2hlY2spIHtcbiAgICAgICAgICAgIGlmICh2cGNGaW5kLnZwY0ZvdW5kKSB7XG4gICAgICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgJHt2cGNGaW5kLnJlZ2lvbn0gLSBmb3VuZCBWUEMocykuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gIE5vIFZQQ3MgZm91bmQuYCk7XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKFwiRGlzY292ZXJpbmcgQVdTIENvbmZpZyBjb25maWd1cmF0aW9ucyBhY3Jvc3MgYWxsIEFXUyBSZWdpb25zLi4uLlwiKTtcbiAgICBjb25zdCBjbG91ZFRyYWlsQ2hlY2sgPSBhd2FpdCBjaGVja0Nsb3VkVHJhaWxFeGlzdHMoYWxsUmVnaW9ucyk7XG4gICAgY29uc3QgY29uZmlnQ2hlY2sgPSBhd2FpdCBjaGVja0NvbmZpZ0V4aXN0cyhhbGxSZWdpb25zKTtcbiAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuXFxuQVdTIENPTkZJRyBDSEVDS1xcbmApO1xuICAgIGlmIChjb25maWdDaGVjayAmJiBjb25maWdDaGVjay5maW5kKHBhcmFtID0+IHBhcmFtLmNvbmZpZ1JlY29yZGVyRm91bmQgPT09IHRydWUpKSB7XG4gICAgICAgIGNvbnNvbGUuZGlyKGNvbmZpZ0NoZWNrLCB7IGRlcHRoOiBudWxsLCBjb2xvcnM6IHRydWUgfSk7XG4gICAgICAgIGZvciAoY29uc3QgY29uZmlnRmluZCBvZiBjb25maWdDaGVjaykge1xuICAgICAgICAgICAgaWYgKGNvbmZpZ0ZpbmQuY29uZmlnUmVjb3JkZXJGb3VuZCkge1xuICAgICAgICAgICAgICAgIGNmYXRDb25maWdNYW5hZ2VtZW50QWNjb3VudFBhc3MgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gICR7Y29uZmlnRmluZC5yZWdpb259IC0gQ29uZmlnIFJlY29yZGVyIGZvdW5kYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29uZmlnRmluZC5jb25maWdEZWxpdmVyeUNoYW5uZWxGb3VuZCkge1xuICAgICAgICAgICAgICAgIGNmYXRDb25maWdSZWNvcmRlck1hbmFnZW1lbnRBY2NvdW50UGFzcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgJHtjb25maWdGaW5kLnJlZ2lvbn0gLSBDb25maWcgRGVsaXZlcnkgQ2hhbm5lbCBmb3VuZGApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICBObyBBV1MgQ29uZmlnIHJlc291cmNlIGRpc2NvdmVyZWRgKTtcbiAgICB9XG4gICAgLy8gYWxsIGNhbGxzIHJlcXVpcmUgYW4gQVdTIE9yZ2FuaXphdGlvbiBleGlzdCBhbmQgdGhlIGFjY291bnQgYmUgYSBtYW5hZ2VtZW50IGFjY291bnRcbiAgICBpZiAoYWNjb3VudFR5cGUuaXNJbk9yZ2FuaXphdGlvbiAmJiBhY2NvdW50VHlwZS5pc01hbmFnZW1lbnRBY2NvdW50KSB7XG4gICAgICAgIGNvbnN0IG9yZ0RldGFpbHMgPSBhd2FpdCBnZXRPcmdEZXRhaWxzKCd1cy1lYXN0LTEnKTtcbiAgICAgICAgY29uc29sZS5kaXIob3JnRGV0YWlscywgeyBkZXB0aDogbnVsbCwgY29sb3JzOiB0cnVlIH0pO1xuICAgICAgICBjb25zdCBsZWdhY3lDdXJDaGVjayA9IGF3YWl0IGNoZWNrTGVnYWN5Q3VyKCd1cy1lYXN0LTEnKTtcbiAgICAgICAgY29uc3QgZW5hYmxlT3JnUG9saWNpZXNDaGVjayA9IGF3YWl0IGdldEVuYWJsZWRPcmdQb2xpY3lUeXBlcygndXMtZWFzdC0xJyk7XG4gICAgICAgIGNvbnNvbGUuZGlyKGVuYWJsZU9yZ1BvbGljaWVzQ2hlY2ssIHsgZGVwdGg6IG51bGwsIGNvbG9yczogdHJ1ZSB9KTtcbiAgICAgICAgY29uc3Qgb3JnRW5hYmxlZFNlcnZpY2VzID0gYXdhaXQgZ2V0RW5hYmxlZE9yZ1NlcnZpY2VzKCd1cy1lYXN0LTEnKTtcbiAgICAgICAgY29uc29sZS5kaXIob3JnRW5hYmxlZFNlcnZpY2VzLCB7IGRlcHRoOiBudWxsLCBjb2xvcnM6IHRydWUgfSk7XG4gICAgICAgIGNvbnN0IGNmbk9yZ1N0YXR1cyA9IGF3YWl0IGdldE9yZ0Nsb3VkRm9ybWF0aW9uKHJlZ2lvbik7XG4gICAgICAgIGNvbnNvbGUuZGlyKGNmbk9yZ1N0YXR1cywgeyBkZXB0aDogbnVsbCwgY29sb3JzOiB0cnVlIH0pO1xuICAgICAgICBjb25zdCBjb250cm9sVG93ZXJEZXRhaWxzID0gYXdhaXQgZ2V0Q29udHJvbFRvd2VyKHJlZ2lvbik7XG4gICAgICAgIGNvbnN0IGlkY0luZm9ybWF0aW9uID0gYXdhaXQgZ2V0SWRjSW5mbyhhbGxSZWdpb25zKTtcbiAgICAgICAgY29uc29sZS5kaXIoaWRjSW5mb3JtYXRpb24sIHsgZGVwdGg6IG51bGwsIGNvbG9yczogdHJ1ZSB9KTtcbiAgICAgICAgY29uc3Qgb3JnRGVsQWRtaW5EZXRhaWxzID0gYXdhaXQgZ2V0T3JnRGFBY2NvdW50cygpO1xuICAgICAgICBjb25zb2xlLmRpcihvcmdEZWxBZG1pbkRldGFpbHMsIHsgZGVwdGg6IG51bGwsIGNvbG9yczogdHJ1ZSB9KTtcbiAgICAgICAgY29uc3Qgb3JnTWVtYmVyQWNjb3VudERldGFpbHMgPSBhd2FpdCBnZXRPcmdNZW1iZXJBY2NvdW50cygpO1xuICAgICAgICBjb25zb2xlLmRpcihvcmdNZW1iZXJBY2NvdW50RGV0YWlscywgeyBkZXB0aDogbnVsbCwgY29sb3JzOiB0cnVlIH0pO1xuICAgICAgICBpZiAoaWRjSW5mb3JtYXRpb24uYXJuKSB7XG4gICAgICAgICAgICBjZmF0SWFtSWRjQ29uZmlndXJlZFBhc3MgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vLy8vIFNFVCBUSEUgQkFDS0xPRyBUQVNLIEZPUiBNQU5BR0VNRU5UIEFDQ09VTlQgLy8vL1xuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuXFxuTUFOQUdFTUVOVCBBQ0NPVU5UIFJFQ09NTUVOREVEIFRBU0tTOmApO1xuICAgICAgICBsZXQgbWd0VGFza051bWJlciA9IDE7XG4gICAgICAgIGNvbnN0IG1hbmFnZW1lbnRBY2NvdW50V2F5cG9pbnQgPSBcIk1hbmFnZW1lbnQgQWNjb3VudFwiO1xuICAgICAgICBpZiAoaWFtVXNlclJlc3VsdCAmJiBpYW1Vc2VyUmVzdWx0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaWFtVXNlciBvZiBpYW1Vc2VyUmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGF3YWl0IHRhc2tzLnJlbW92ZUlhbVVzZXJUYXNrKG1ndFRhc2tOdW1iZXIsIG1hbmFnZW1lbnRBY2NvdW50V2F5cG9pbnQsIGlhbVVzZXIudXNlck5hbWUpO1xuICAgICAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gICR7bWVzc2FnZX1gKTtcbiAgICAgICAgICAgICAgICBtZ3RUYXNrTnVtYmVyKys7XG4gICAgICAgICAgICAgICAgaWYgKGlhbVVzZXIuYWNjZXNzS2V5SWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGF3YWl0IHRhc2tzLnJlbW92ZUlhbVVzZXJBcGlLZXlUYXNrKG1ndFRhc2tOdW1iZXIsIG1hbmFnZW1lbnRBY2NvdW50V2F5cG9pbnQsIGlhbVVzZXIudXNlck5hbWUsIGlhbVVzZXIuYWNjZXNzS2V5SWQpO1xuICAgICAgICAgICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICAke21lc3NhZ2V9YCk7XG4gICAgICAgICAgICAgICAgICAgIG1ndFRhc2tOdW1iZXIrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVjMkNoZWNrICYmIGVjMkNoZWNrLmZpbmQocGFyYW0gPT4gcGFyYW0uZWMyRm91bmQgPT09IHRydWUpKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGVjMiBvZiBlYzJDaGVjaykge1xuICAgICAgICAgICAgICAgIGlmIChlYzIuZWMyRm91bmQgJiYgZWMyLnJlZ2lvbikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gYXdhaXQgdGFza3MuZGVsZXRlRWMyKG1ndFRhc2tOdW1iZXIsIG1hbmFnZW1lbnRBY2NvdW50V2F5cG9pbnQsIGVjMi5yZWdpb24pO1xuICAgICAgICAgICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICAke21lc3NhZ2V9YCk7XG4gICAgICAgICAgICAgICAgICAgIG1ndFRhc2tOdW1iZXIrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZwY0NoZWNrICYmIHZwY0NoZWNrLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgdnBjRmluZCBvZiB2cGNDaGVjaykge1xuICAgICAgICAgICAgICAgIGlmICh2cGNGaW5kLnZwY0ZvdW5kICYmIHZwY0ZpbmQucmVnaW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBhd2FpdCB0YXNrcy5kZWxldGVWcGMobWd0VGFza051bWJlciwgbWFuYWdlbWVudEFjY291bnRXYXlwb2ludCwgdnBjRmluZC5yZWdpb24pO1xuICAgICAgICAgICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICAke21lc3NhZ2V9YCk7XG4gICAgICAgICAgICAgICAgICAgIG1ndFRhc2tOdW1iZXIrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcblxcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKmApO1xuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICAgICAgICAgICAgICAgICAgICBHT1ZFUk5BTkNFYCk7XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipgKTtcbiAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcblxcbkFXUyBPUkdBTklaQVRJT04gUE9MSUNZIFRZUEVTXFxuYCk7XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gIFNlcnZpY2UgQ29udHJvbCBQb2xpY2llcyAoU0NQKSBlbmFibGVkOiAke2VuYWJsZU9yZ1BvbGljaWVzQ2hlY2suc2NwRW5hYmxlZH1gKTtcbiAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgVGFnIFBvbGljaWVzIGVuYWJsZWQ6ICR7ZW5hYmxlT3JnUG9saWNpZXNDaGVjay50YWdQb2xpY3lFbmFibGVkfWApO1xuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICBCYWNrdXAgUG9saWNpZXMgZW5hYmxlZDogJHtlbmFibGVPcmdQb2xpY2llc0NoZWNrLmJhY2t1cFBvbGljeUVuYWJsZWR9YCk7XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG5cXG5BV1MgT1JHQU5JWkFUSU9OIENMT1VERk9STUFUSU9OXFxuYCk7XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gIEFXUyBDbG91ZEZvcm1hdGlvbiBPcmdhbml6YXRpb24gc3RhY2sgc2V0cyBzdGF0dXMgOiAke2Nmbk9yZ1N0YXR1cy5zdGF0dXN9YCk7XG4gICAgICAgIGlmIChjZm5PcmdTdGF0dXMpIHtcbiAgICAgICAgICAgIGNmYXRPcmdDbG91ZEZvcm1hdGlvbkVuYWJsZWRQYXNzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuXFxuQ0xPVURUUkFJTCBDSEVDS1xcbmApO1xuICAgICAgICBpZiAoY2xvdWRUcmFpbENoZWNrICYmIGNsb3VkVHJhaWxDaGVjay5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjZmF0Q2xvdWRUcmFpbFBhc3MgPSB0cnVlO1xuICAgICAgICAgICAgY29uc29sZS5kaXIoY2xvdWRUcmFpbENoZWNrLCB7IGRlcHRoOiBudWxsLCBjb2xvcnM6IHRydWUgfSk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGN0RmluZCBvZiBjbG91ZFRyYWlsQ2hlY2spIHtcbiAgICAgICAgICAgICAgICBpZiAoY3RGaW5kLnRyYWlsRm91bmQpIHtcbiAgICAgICAgICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgQ2xvdWRUcmFpbCBmb3VuZCBpbiAke2N0RmluZC5yZWdpb259YCk7XG4gICAgICAgICAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gICAgSXMgT3JnYW5pemF0aW9uIFRyYWlsOiAke2N0RmluZC5pc09yZ1RyYWlsfWApO1xuICAgICAgICAgICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICAgIElzIE11bHRpUmVnaW9uOiAke2N0RmluZC5pc011bHRpUmVnaW9ufWApO1xuICAgICAgICAgICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuYCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjdEZpbmQuaXNPcmdUcmFpbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2ZhdENsb3VkVHJhaWxPcmdUcmFpbFBhc3MgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgTm8gQVdTIENsb3VkVHJhaWwgcmVzb3VyY2UgZGlzY292ZXJlZGApO1xuICAgICAgICB9XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG5cXG5HT1ZFUk5BTkNFIFNFUlZJQ0VTIEVOQUJMRUQgSU4gQVdTIE9SR0FOSVpBVElPTjpcXG5gKTtcbiAgICAgICAgaWYgKG9yZ0VuYWJsZWRTZXJ2aWNlcy5maW5kKHBhcmFtID0+IHBhcmFtLnNlcnZpY2UgPT09ICdjbG91ZHRyYWlsLmFtYXpvbmF3cy5jb20nKSkge1xuICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgQVdTIENsb3VkVHJhaWxgKTtcbiAgICAgICAgICAgIGNmYXRDbG91ZFRyYWlsT3JnU2VydmljZUVuYWJsZWRQYXNzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY2ZhdENvbmZpZ09yZ1NlcnZpY2VFbmFibGVkUGFzcyA9IGZhbHNlO1xuICAgICAgICBpZiAob3JnRW5hYmxlZFNlcnZpY2VzLmZpbmQocGFyYW0gPT4gcGFyYW0uc2VydmljZSA9PT0gJ2NvbmZpZy5hbWF6b25hd3MuY29tJykpIHtcbiAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gIEFXUyBDb25maWdgKTtcbiAgICAgICAgICAgIGNmYXRDb25maWdPcmdTZXJ2aWNlRW5hYmxlZFBhc3MgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vLy8vIFNFVCBUSEUgQkFDS0xPRyBUQVNLIEZPUiBHT1ZFUk5BTkNFIC8vLy8vXG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG5cXG5HT1ZFUk5BTkNFIFJFQ09NTUVOREVEIFRBU0tTOmApO1xuICAgICAgICBjb25zdCBnb3ZXYXlwb2ludCA9IFwiR292ZXJuYW5jZVwiO1xuICAgICAgICBsZXQgZ292VGFza051bWJlciA9IDE7XG4gICAgICAgIGlmICghb3JnRW5hYmxlZFNlcnZpY2VzLmZpbmQocGFyYW0gPT4gcGFyYW0uc2VydmljZSA9PT0gJ2Nsb3VkdHJhaWwuYW1hem9uYXdzLmNvbScpKSB7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gYXdhaXQgdGFza3MuZW5hYmxlQXdzT3JnYW5pemF0aW9uU2VydmljZShnb3ZUYXNrTnVtYmVyLCBnb3ZXYXlwb2ludCwgXCJBV1MgQ2xvdWRUcmFpbFwiKTtcbiAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gICR7bWVzc2FnZX1gKTtcbiAgICAgICAgICAgIGdvdlRhc2tOdW1iZXIrKztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNmYXRDbG91ZFRyYWlsT3JnU2VydmljZUVuYWJsZWRQYXNzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW9yZ0VuYWJsZWRTZXJ2aWNlcy5maW5kKHBhcmFtID0+IHBhcmFtLnNlcnZpY2UgPT09ICdjb25maWcuYW1hem9uYXdzLmNvbScpKSB7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gYXdhaXQgdGFza3MuZW5hYmxlQXdzT3JnYW5pemF0aW9uU2VydmljZShnb3ZUYXNrTnVtYmVyLCBnb3ZXYXlwb2ludCwgXCJBV1MgQ29uZmlnXCIpO1xuICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgJHttZXNzYWdlfWApO1xuICAgICAgICAgICAgZ292VGFza051bWJlcisrO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY2ZhdENvbmZpZ09yZ1NlcnZpY2VFbmFibGVkUGFzcyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFlbmFibGVPcmdQb2xpY2llc0NoZWNrLnNjcEVuYWJsZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBhd2FpdCB0YXNrcy5lbmFibGVQb2xpY3lUeXBlVGFzayhnb3ZUYXNrTnVtYmVyLCBnb3ZXYXlwb2ludCwgXCJTZXJ2aWNlIENvbnRyb2wgUG9saWN5XCIpO1xuICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgJHttZXNzYWdlfWApO1xuICAgICAgICAgICAgZ292VGFza051bWJlcisrO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY2ZhdFNjcEVuYWJsZWRQYXNzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWVuYWJsZU9yZ1BvbGljaWVzQ2hlY2sudGFnUG9saWN5RW5hYmxlZCkge1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGF3YWl0IHRhc2tzLmVuYWJsZVBvbGljeVR5cGVUYXNrKGdvdlRhc2tOdW1iZXIsIGdvdldheXBvaW50LCBcIlRhZyBQb2xpY3lcIik7XG4gICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICAke21lc3NhZ2V9YCk7XG4gICAgICAgICAgICBnb3ZUYXNrTnVtYmVyKys7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjZmF0VGFnUG9saWNpZXNFbmFibGVkUGFzcyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFlbmFibGVPcmdQb2xpY2llc0NoZWNrLmJhY2t1cFBvbGljeUVuYWJsZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBhd2FpdCB0YXNrcy5lbmFibGVQb2xpY3lUeXBlVGFzayhnb3ZUYXNrTnVtYmVyLCBnb3ZXYXlwb2ludCwgXCJCYWNrdXAgUG9saWN5XCIpO1xuICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgJHttZXNzYWdlfWApO1xuICAgICAgICAgICAgZ292VGFza051bWJlcisrO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY2ZhdEJhY2t1cFBvbGljaWVzRW5hYmxlZFBhc3MgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG5cXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipgKTtcbiAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgICAgICAgICAgICAgICBGSU5BTkNJQUwgTUFOQUdFTUVOVGApO1xuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqYCk7XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG5cXG5MZWdhY3kgQ1VSYCk7XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gIElzIGxlZ2FjeSBDVVIgc2V0dXA6ICR7bGVnYWN5Q3VyQ2hlY2suaXNMZWdhY3lDdXJTZXR1cH1gKTtcbiAgICAgICAgLy8vLy8gU0VUIFRIRSBCQUNLTE9HIFRBU0sgRk9SIEZJTkFOQ0lBTCBNQU5BR0VNRU5UIC8vLy8vXG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG5cXG5DTE9VRCBGSU5BTkNJQUwgTUFOQUdFTUVOVCBSRUNPTU1FTkRFRCBUQVNLUzpgKTtcbiAgICAgICAgbGV0IGZpblRhc2tOdW1iZXIgPSAxO1xuICAgICAgICBjb25zdCBmaW5XYXlwb2ludCA9IFwiQ2xvdWQgRmluYW5jaWFsIE1hbmFnZW1lbnRcIjtcbiAgICAgICAgaWYgKCFsZWdhY3lDdXJDaGVjay5pc0xlZ2FjeUN1clNldHVwKSB7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gYXdhaXQgdGFza3MuZW5hYmxlQXdzQ3VyKGZpblRhc2tOdW1iZXIsIGZpbldheXBvaW50KTtcbiAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gICR7bWVzc2FnZX1gKTtcbiAgICAgICAgfVxuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuXFxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqYCk7XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gICAgICAgICAgICAgICAgTVVMVEktQUNDT1VOVCBTVFJBVEVHWWApO1xuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqYCk7XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG5cXG5BV1MgT1JHQU5JWkFUSU9OIERFVEFJTFNcXG5gKTtcbiAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgQVdTIE9yZ2FuaXphdGlvbiBJZDogJHtvcmdEZXRhaWxzLmlkfWApO1xuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICBBV1MgT3JnYW5pemF0aW9uIEFSTjogJHtvcmdEZXRhaWxzLmFybn1gKTtcbiAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgQVdTIE9yZ2FuaXphdGlvbiBSb290IE9VIElkOiAke29yZ0RldGFpbHMucm9vdE91SWR9YCk7XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG5cXG5BV1MgT1JHQU5JWkFUSU9OIENMT1VERk9STUFUSU9OXFxuYCk7XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gIEFXUyBDbG91ZEZvcm1hdGlvbiBPcmdhbml6YXRpb24gc3RhY2sgc2V0cyBzdGF0dXMgOiAke2Nmbk9yZ1N0YXR1cy5zdGF0dXN9YCk7XG4gICAgICAgIGlmIChvcmdEZXRhaWxzLnJvb3RPdUlkKSB7XG4gICAgICAgICAgICBjb25zdCBvcmdPdXMgPSBhd2FpdCBnZXRPcmdUb3BMZXZlbE91cygndXMtZWFzdC0xJywgb3JnRGV0YWlscy5yb290T3VJZCk7XG4gICAgICAgICAgICBjb25zb2xlLmRpcihvcmdPdXMsIHsgZGVwdGg6IG51bGwsIGNvbG9yczogdHJ1ZSB9KTtcbiAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG5cXG5BV1MgT1JHQU5JWkFUSU9OIFRPUC1MRVZFTCBPUkdBTklaQVRJT04gVU5JVFNcXG5gKTtcbiAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gIExpc3Qgb2YgT3JnYW5pemF0aW9uJ3MgdG9wLWxldmVsIE9VcyBhbmQgQVdTIGFjY291bnRzOmApO1xuICAgICAgICAgICAgaWYgKG9yZ091cyAmJiBvcmdPdXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgb3Ugb2Ygb3JnT3VzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvdS5uYW1lPy50b0xvd2VyQ2FzZSgpID09PSAnc3VzcGVuZGVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3VzcGVuZGVkRm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvdS5uYW1lPy50b0xvd2VyQ2FzZSgpID09PSAndHJhbnNpdGlvbmFsJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbmFsRm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvdS5uYW1lPy50b0xvd2VyQ2FzZSgpID09PSAnd29ya2xvYWRzJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgd29ya2xvYWRzRm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvdS5uYW1lPy50b0xvd2VyQ2FzZSgpID09PSAnc2VjdXJpdHknKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWN1cml0eUZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3UubmFtZT8udG9Mb3dlckNhc2UoKSA9PT0gJ2luZnJhc3RydWN0dXJlJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5mcmFzdHJ1Y3R1cmVGb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgICBPcmdhbml6YXRpb25hbCBVbml0OiAke291Lm5hbWV9YCk7XG4gICAgICAgICAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gICAgICBPcmdhbml6YXRpb25hbCBVbml0IElkOiAke291LmlkfWApO1xuICAgICAgICAgICAgICAgICAgICBpZiAob3UuYWNjb3VudHMgJiYgb3UuYWNjb3VudHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgICAgIEFXUyBBY2NvdW50czpgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYWNjb3VudCBvZiBvdS5hY2NvdW50cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gICAgICAgICR7YWNjb3VudC5OYW1lfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbmApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgICAgIEFXUyBBY2NvdW50czogTm9uZWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbmApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgTm8gdG9wIGxldmVsIE9VcyBmb3VuZC5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuXFxuQVdTIE9SR0FOSVpBVElPTiBNRU1CRVIgQUNDT1VOVFNcXG5gKTtcbiAgICAgICAgaWYgKG9yZ01lbWJlckFjY291bnREZXRhaWxzICYmIG9yZ01lbWJlckFjY291bnREZXRhaWxzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgbWVtYmVyQWNjb3VudCBvZiBvcmdNZW1iZXJBY2NvdW50RGV0YWlscykge1xuICAgICAgICAgICAgICAgIGlmIChtZW1iZXJBY2NvdW50LmFjY291bnROYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZW1iZXJBY2NvdW50LmFjY291bnROYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdsb2cgYXJjaGl2ZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNmYXRMb2dBcmNoaXZlQWNjb3VudFBhc3MgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZW1iZXJBY2NvdW50LmFjY291bnROYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdhdWRpdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNmYXRBdWRpdEFjY291bnRQYXNzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobWVtYmVyQWNjb3VudC5hY2NvdW50TmFtZS50b0xvd2VyQ2FzZSgpID09PSAnc2VjdXJpdHkgdG9vbGluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNmYXRBdWRpdEFjY291bnRQYXNzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICBBY2NvdW50OiAke21lbWJlckFjY291bnQuYWNjb3VudE5hbWV9YCk7XG4gICAgICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgQWNjb3VudCBFbWFpbDogJHttZW1iZXJBY2NvdW50LmFjY291bnRFbWFpbH1cXG5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBObyBtZW1iZXIgYWNjb3VudHMgZm91bmQgd2hpY2ggaXMgYW1hemluZyBhcyB0aGlzIGlzIHJ1bm5pbmcgZnJvbSBvbmUuYCk7XG4gICAgICAgIH1cbiAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcblxcbkFXUyBPUkdBTklaQVRJT04gRU5BQkxFRCBTRVJWSUNFU1xcbmApO1xuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICBUaGUgZm9sbG93aW5nIEFXUyBTZXJ2aWNlcyBhcmUgZW5hYmxlZCB3aXRoaW4geW91ciBBV1MgT3JnYW5pemF0aW9uOmApO1xuICAgICAgICBmb3IgKGNvbnN0IG9yZ1NlcnZpY2Ugb2Ygb3JnRW5hYmxlZFNlcnZpY2VzKSB7XG4gICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICAgICR7b3JnU2VydmljZS5zZXJ2aWNlfWApO1xuICAgICAgICB9XG4gICAgICAgIGxldCBpZGVudGl0eURlbGVnYXRlZCA9IGZhbHNlO1xuICAgICAgICBsZXQgc2VjdXJpdHlIdWJEZWxlZ2F0ZWQgPSBmYWxzZTtcbiAgICAgICAgbGV0IGd1YXJkRHV0eURlbGVnYXRlZCA9IGZhbHNlO1xuICAgICAgICBsZXQgY29uZmlnRGVsZWdhdGVkID0gZmFsc2U7XG4gICAgICAgIGxldCBpYW1BY2Nlc3NBbmFseXplckRlbGVnYXRlZCA9IGZhbHNlO1xuICAgICAgICBsZXQgczNTdG9yYWdlTGVuc0RlbGVnYXRlZCA9IGZhbHNlO1xuICAgICAgICBsZXQgaXBhbURlbGVnYXRlZCA9IGZhbHNlO1xuICAgICAgICBsZXQgYWNjb3VudERlbGVnYXRlZCA9IGZhbHNlO1xuICAgICAgICBsZXQgYmFja3VwRGVsZWdhdGVkID0gZmFsc2U7XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG5cXG5BV1MgT1JHQU5JWkFUSU9OIElOVEVHUkFURUQgU0VSVklDRSBSRUdJU1RFUkVEIERFTEVHQVRFRCBBRE1JTlNcXG5gKTtcbiAgICAgICAgaWYgKG9yZ0RlbEFkbWluRGV0YWlscyAmJiBvcmdEZWxBZG1pbkRldGFpbHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBhY2NvdW50IG9mIG9yZ0RlbEFkbWluRGV0YWlscykge1xuICAgICAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gIEFjY291bnQ6ICR7YWNjb3VudC5hY2NvdW50TmFtZX1gKTtcbiAgICAgICAgICAgICAgICBpZiAoYWNjb3VudC5zZXJ2aWNlcyAmJiBhY2NvdW50LnNlcnZpY2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgRGVsZWdhdGVkIFNlcnZpY2VzOmApO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHNydiBvZiBhY2NvdW50LnNlcnZpY2VzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICAgICR7c3J2LlNlcnZpY2VQcmluY2lwYWx9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3J2LlNlcnZpY2VQcmluY2lwYWwgPT09ICdzZWN1cml0eWh1Yi5hbWF6b25hd3MuY29tJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlY3VyaXR5SHViRGVsZWdhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzcnYuU2VydmljZVByaW5jaXBhbCA9PT0gJ2d1YXJkZHV0eS5hbWF6b25hd3MuY29tJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGd1YXJkRHV0eURlbGVnYXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3J2LlNlcnZpY2VQcmluY2lwYWwgPT09ICdzc28uYW1hem9uYXdzLmNvbScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZGVudGl0eURlbGVnYXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3J2LlNlcnZpY2VQcmluY2lwYWwgPT09ICdjb25maWcuYW1hem9uYXdzLmNvbScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maWdEZWxlZ2F0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNydi5TZXJ2aWNlUHJpbmNpcGFsID09PSAnYWNjZXNzLWFuYWx5emVyLmFtYXpvbmF3cy5jb20nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWFtQWNjZXNzQW5hbHl6ZXJEZWxlZ2F0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNydi5TZXJ2aWNlUHJpbmNpcGFsID09PSAnc3RvcmFnZS1sZW5zLnMzLmFtYXpvbmF3cy5jb20nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgczNTdG9yYWdlTGVuc0RlbGVnYXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3J2LlNlcnZpY2VQcmluY2lwYWwgPT09ICdpcGFtLmFtYXpvbmF3cy5jb20nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXBhbURlbGVnYXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3J2LlNlcnZpY2VQcmluY2lwYWwgPT09ICdhY2NvdW50LmFtYXpvbmF3cy5jb20nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudERlbGVnYXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3J2LlNlcnZpY2VQcmluY2lwYWwgPT09ICdiYWNrdXAuYW1hem9uYXdzLmNvbScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrdXBEZWxlZ2F0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICBObyBkZWxlZ2F0ZWQgYWRtaW4gYWNjb3VudHMgaW4gQVdTIE9yZ2FuaXphdGlvbmApO1xuICAgICAgICB9XG4gICAgICAgIC8vLy8vIFNFVCBUSEUgQkFDS0xPRyBUQVNLIEZPUiBNVUxUSS1BQ0NPVU5UIFNUUkFURUdZIC8vLy8vXG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG5cXG5NVUxUSS1BQ0NPVU5UIFNUUkFURUdZIFJFQ09NTUVOREVEIFRBU0tTOmApO1xuICAgICAgICBsZXQgbWFzVGFza051bWJlciA9IDE7XG4gICAgICAgIGxldCBtYXNXYXlwb2ludCA9ICdNdWx0aS1BY2NvdW50IFN0cmF0ZWd5JztcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGF3YWl0IHRhc2tzLnJldmlld0FjY291bnRFbWFpbEFkZHJlc3NlcyhtYXNUYXNrTnVtYmVyLCBtYXNXYXlwb2ludCk7XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gICR7bWVzc2FnZX1gKTtcbiAgICAgICAgbWFzVGFza051bWJlcisrO1xuICAgICAgICBpZiAoIWVuYWJsZU9yZ1BvbGljaWVzQ2hlY2suc2NwRW5hYmxlZCkge1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGF3YWl0IHRhc2tzLmVuYWJsZVBvbGljeVR5cGVUYXNrKG1hc1Rhc2tOdW1iZXIsIG1hc1dheXBvaW50LCBcIlNlcnZpY2UgQ29udHJvbCBQb2xpY3lcIik7XG4gICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICAke21lc3NhZ2V9YCk7XG4gICAgICAgICAgICBtYXNUYXNrTnVtYmVyKys7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0cmFuc2l0aW9uYWxGb3VuZCkge1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGF3YWl0IHRhc2tzLmRlcGxveU91VGFzayhtYXNUYXNrTnVtYmVyLCBtYXNXYXlwb2ludCwgXCJUcmFuc2l0aW9uYWxcIik7XG4gICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICAke21lc3NhZ2V9YCk7XG4gICAgICAgICAgICBtYXNUYXNrTnVtYmVyKys7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzdXNwZW5kZWRGb3VuZCkge1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGF3YWl0IHRhc2tzLmRlcGxveU91VGFzayhtYXNUYXNrTnVtYmVyLCBtYXNXYXlwb2ludCwgXCJTdXNwZW5kZWRcIik7XG4gICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICAke21lc3NhZ2V9YCk7XG4gICAgICAgICAgICBtYXNUYXNrTnVtYmVyKys7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF3b3JrbG9hZHNGb3VuZCkge1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGF3YWl0IHRhc2tzLmRlcGxveU91VGFzayhtYXNUYXNrTnVtYmVyLCBtYXNXYXlwb2ludCwgXCJXb3JrbG9hZHNcIik7XG4gICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICAke21lc3NhZ2V9YCk7XG4gICAgICAgICAgICBtYXNUYXNrTnVtYmVyKys7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzZWN1cml0eUZvdW5kKSB7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gYXdhaXQgdGFza3MuZGVwbG95T3VUYXNrKG1hc1Rhc2tOdW1iZXIsIG1hc1dheXBvaW50LCBcIlNlY3VyaXR5XCIpO1xuICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgJHttZXNzYWdlfWApO1xuICAgICAgICAgICAgbWFzVGFza051bWJlcisrO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaW5mcmFzdHJ1Y3R1cmVGb3VuZCkge1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGF3YWl0IHRhc2tzLmRlcGxveU91VGFzayhtYXNUYXNrTnVtYmVyLCBtYXNXYXlwb2ludCwgXCJJbmZyYXN0cnVjdHVyZVwiKTtcbiAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gICR7bWVzc2FnZX1gKTtcbiAgICAgICAgICAgIG1hc1Rhc2tOdW1iZXIrKztcbiAgICAgICAgfVxuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuXFxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqYCk7XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gICAgICAgICAgICAgICAgICBMQU5ESU5HIFpPTkVgKTtcbiAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKmApO1xuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuXFxuQVdTIENPTlRST0wgVE9XRVJcXG5gKTtcbiAgICAgICAgaWYgKGNvbnRyb2xUb3dlckRldGFpbHMuY29udHJvbFRvd2VyUmVnaW9uKSB7XG4gICAgICAgICAgICBjZmF0Q29udHJvbFRvd2VyRGVwbG95ZWRQYXNzID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbnNvbGUuZGlyKGNvbnRyb2xUb3dlckRldGFpbHMsIHsgZGVwdGg6IG51bGwsIGNvbG9yczogdHJ1ZSB9KTtcbiAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gIENvbnRyb2wgVG93ZXIgaG9tZSByZWdpb246ICR7Y29udHJvbFRvd2VyRGV0YWlscy5jb250cm9sVG93ZXJSZWdpb259YCk7XG4gICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICBDb250cm9sIFRvd2VyIHN0YXR1czogJHtjb250cm9sVG93ZXJEZXRhaWxzLnN0YXR1c31gKTtcbiAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gIENvbnRyb2wgVG93ZXIgTGFuZGluZyBab25lIHZlcnNpb246ICR7Y29udHJvbFRvd2VyRGV0YWlscy5kZXBsb3llZFZlcnNpb259YCk7XG4gICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICBMYXRlc3QgYXZhaWxhYmxlIHZlcnNpb246ICR7Y29udHJvbFRvd2VyRGV0YWlscy5sYXRlc3RBdmFpbGFibGVWZXJzaW9ufWApO1xuICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgRHJpZnQgU3RhdHVzOiAke2NvbnRyb2xUb3dlckRldGFpbHMuZHJpZnRTdGF0dXN9YCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICBBV1MgQ29udHJvbCBUb3dlciBpcyBub3QgZGVwbG95ZWQgaW4gdGhlIEFXUyBPcmdhbml6YXRpb25gKTtcbiAgICAgICAgfVxuICAgICAgICAvLy8vLyBTRVQgVEhFIEJBQ0tMT0cgVEFTSyBGT1IgTEFORElORyBaT05FIC8vLy8vXG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG5cXG5MQU5ESU5HIFpPTkUgUkVDT01NRU5ERUQgVEFTS1M6YCk7XG4gICAgICAgIGxldCBselRhc2tOdW1iZXIgPSAxO1xuICAgICAgICBjb25zdCBseldheXBvaW50ID0gXCJMYW5kaW5nIFpvbmVcIjtcbiAgICAgICAgaWYgKGNvbnRyb2xUb3dlckRldGFpbHMuY29udHJvbFRvd2VyUmVnaW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBhd2FpdCB0YXNrcy5kZXBsb3lDb250cm9sVG93ZXJUYXNrKGx6VGFza051bWJlciwgbHpXYXlwb2ludCk7XG4gICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICAke21lc3NhZ2V9YCk7XG4gICAgICAgICAgICBselRhc2tOdW1iZXIrKztcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29udHJvbFRvd2VyRGV0YWlscy5kcmlmdFN0YXR1cyA9PT0gJ0RSSUZURUQnKSB7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gYXdhaXQgdGFza3MuZml4THpEcmlmdChselRhc2tOdW1iZXIsIGx6V2F5cG9pbnQpO1xuICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgJHttZXNzYWdlfWApO1xuICAgICAgICAgICAgbHpUYXNrTnVtYmVyKys7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjZmF0Q29udHJvbFRvd2VyTm90RHJpZnRlZFBhc3MgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb250cm9sVG93ZXJEZXRhaWxzLmRlcGxveWVkVmVyc2lvbiAhPT0gY29udHJvbFRvd2VyRGV0YWlscy5sYXRlc3RBdmFpbGFibGVWZXJzaW9uKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50VmVyc2lvbiA9IGNvbnRyb2xUb3dlckRldGFpbHMuZGVwbG95ZWRWZXJzaW9uID8/IFwiXCI7XG4gICAgICAgICAgICBjb25zdCBsYXRlc3RWZXJzaW9uID0gY29udHJvbFRvd2VyRGV0YWlscy5sYXRlc3RBdmFpbGFibGVWZXJzaW9uID8/IFwiXCI7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gYXdhaXQgdGFza3MudXBkYXRlTHpDb250cm9sVG93ZXJUYXNrKGx6VGFza051bWJlciwgbHpXYXlwb2ludCwgY3VycmVudFZlcnNpb24sIGxhdGVzdFZlcnNpb24pO1xuICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgJHttZXNzYWdlfWApO1xuICAgICAgICAgICAgbHpUYXNrTnVtYmVyKys7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjZmF0Q29udHJvbFRvd2VyTGF0ZXN0VmVyc2lvblBhc3MgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghb3JnRW5hYmxlZFNlcnZpY2VzLmZpbmQocGFyYW0gPT4gcGFyYW0uc2VydmljZSA9PT0gJ21lbWJlci5vcmcuc3RhY2tzZXRzLmNsb3VkZm9ybWF0aW9uLmFtYXpvbmF3cy5jb20nKSkge1xuICAgICAgICAgICAgY2ZhdE9yZ0Nsb3VkRm9ybWF0aW9uU3RhdHVzUGFzcyA9IHRydWU7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gYXdhaXQgdGFza3MuZW5hYmxlQXdzT3JnYW5pemF0aW9uU2VydmljZShselRhc2tOdW1iZXIsIGx6V2F5cG9pbnQsIFwiQVdTIENsb3VkRm9ybWF0aW9uXCIpO1xuICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgJHttZXNzYWdlfWApO1xuICAgICAgICAgICAgbHpUYXNrTnVtYmVyKys7XG4gICAgICAgIH1cbiAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcblxcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKmApO1xuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICAgICAgICAgICAgICAgICAgICBJREVOVElUWWApO1xuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqYCk7XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG5cXG5BV1MgSUFNIElERU5USVRZIENFTlRFUlxcbmApO1xuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICBJZEMgUmVnaW9uOiAke2lkY0luZm9ybWF0aW9uLnJlZ2lvbn1gKTtcbiAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgSWRDIEFSTjogJHtpZGNJbmZvcm1hdGlvbi5hcm59YCk7XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gIElkQyBJbnN0YW5jZSBJZDogJHtpZGNJbmZvcm1hdGlvbi5pZH1gKTtcbiAgICAgICAgLy8vLy8gU0VUIFRIRSBCQUNLTE9HIFRBU0sgRk9SIElERU5USVRZIC8vLy8vXG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG5cXG5JREVOVElUWSBSRUNPTU1FTkRFRCBUQVNLUzpgKTtcbiAgICAgICAgbGV0IHNzb1Rhc2tOdW1iZXIgPSAxO1xuICAgICAgICBjb25zdCBzc29XYXlwb2ludCA9ICdJZGVudGl0eSc7XG4gICAgICAgIGlmICghb3JnRW5hYmxlZFNlcnZpY2VzLmZpbmQocGFyYW0gPT4gcGFyYW0uc2VydmljZSA9PT0gJ3Nzby5hbWF6b25hd3MuY29tJykpIHtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBhd2FpdCB0YXNrcy5lbmFibGVBd3NPcmdhbml6YXRpb25TZXJ2aWNlKHNzb1Rhc2tOdW1iZXIsIHNzb1dheXBvaW50LCBcIkFXUyBJQU0gSWRlbnRpdHkgQ2VudGVyXCIpO1xuICAgICAgICAgICAgY2ZhdElhbUlkUE9yZ1NlcnZpY2VQYXNzID0gZmFsc2U7XG4gICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICAke21lc3NhZ2V9YCk7XG4gICAgICAgICAgICBzc29UYXNrTnVtYmVyKys7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpZGVudGl0eURlbGVnYXRlZCkge1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGF3YWl0IHRhc2tzLmRlbGVnYXRlQWRtaW5pc3RyYXRpb25Bd3NTZXJ2aWNlKHNzb1Rhc2tOdW1iZXIsIHNzb1dheXBvaW50LCBcIkFXUyBJQU0gSWRlbnRpdHkgQ2VudGVyXCIpO1xuICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgJHttZXNzYWdlfWApO1xuICAgICAgICAgICAgc3NvVGFza051bWJlcisrO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZW5hYmxlT3JnUG9saWNpZXNDaGVjay5zY3BFbmFibGVkKSB7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gYXdhaXQgdGFza3MuZW5hYmxlUG9saWN5VHlwZVRhc2soc3NvVGFza051bWJlciwgc3NvV2F5cG9pbnQsIFwiU2VydmljZSBDb250cm9sIFBvbGljeVwiKTtcbiAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gICR7bWVzc2FnZX1gKTtcbiAgICAgICAgICAgIHNzb1Rhc2tOdW1iZXIrKztcbiAgICAgICAgfVxuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuXFxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqYCk7XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gICAgICAgICAgICAgICAgICAgIFNFQ1VSSVRZYCk7XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipgKTtcbiAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcblxcbkFXUyBTRUNVUklUWSBTRVJWSUNFUyBFTkFCTEVEIElOIEFXUyBPUkdBTklaQVRJT046XFxuYCk7XG4gICAgICAgIGlmIChvcmdFbmFibGVkU2VydmljZXMuZmluZChwYXJhbSA9PiBwYXJhbS5zZXJ2aWNlID09PSAnZ3VhcmRkdXR5LmFtYXpvbmF3cy5jb20nKSkge1xuICAgICAgICAgICAgY2ZhdE9yZ1NlcnZpY2VHdWFyZER1dHlFbmFibGVkUGFzcyA9IHRydWU7XG4gICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICBBV1MgR3VhcmREdXR5YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9yZ0VuYWJsZWRTZXJ2aWNlcy5maW5kKHBhcmFtID0+IHBhcmFtLnNlcnZpY2UgPT09ICdzZWN1cml0eWh1Yi5hbWF6b25hd3MuY29tJykpIHtcbiAgICAgICAgICAgIGNmYXRPcmdTZXJ2aWNlU2VjdXJpdHlIdWJFbmFibGVkUGFzcyA9IHRydWU7XG4gICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICBBV1MgU2VjdXJpdHkgSHViYCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9yZ0VuYWJsZWRTZXJ2aWNlcy5maW5kKHBhcmFtID0+IHBhcmFtLnNlcnZpY2UgPT09ICdhY2Nlc3MtYW5hbHl6ZXIuYW1hem9uYXdzLmNvbScpKSB7XG4gICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICBJQU0gQWNjZXNzIEFuYWx5emVyYCk7XG4gICAgICAgICAgICBjZmF0T3JnU2VydmljZUlhbUFjY2Vzc0FuYWx5emVyRW5hYmxlZFBhc3MgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcmdFbmFibGVkU2VydmljZXMuZmluZChwYXJhbSA9PiBwYXJhbS5zZXJ2aWNlID09PSAnbWFjaWUuYW1hem9uYXdzLmNvbScpKSB7XG4gICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICBNYWNpZWApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcmdFbmFibGVkU2VydmljZXMuZmluZChwYXJhbSA9PiBwYXJhbS5zZXJ2aWNlID09PSAnc3RvcmFnZS1sZW5zLnMzLmFtYXpvbmF3cy5jb20nKSkge1xuICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgQW1hem9uIFMzIFN0b3JhZ2UgTGVuc2ApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcmdFbmFibGVkU2VydmljZXMuZmluZChwYXJhbSA9PiBwYXJhbS5zZXJ2aWNlID09PSAnaW5zcGVjdG9yMi5hbWF6b25hd3MuY29tJykpIHtcbiAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gIEFtYXpvbiBJbnNwZWN0b3JgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3JnRW5hYmxlZFNlcnZpY2VzLmZpbmQocGFyYW0gPT4gcGFyYW0uc2VydmljZSA9PT0gJ2Nsb3VkdHJhaWwuYW1hem9uYXdzLmNvbScpKSB7XG4gICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICBBV1MgQ2xvdWRUcmFpbGApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcmdFbmFibGVkU2VydmljZXMuZmluZChwYXJhbSA9PiBwYXJhbS5zZXJ2aWNlID09PSAnY29uZmlnLmFtYXpvbmF3cy5jb20nKSkge1xuICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgQVdTIENvbmZpZ2ApO1xuICAgICAgICB9XG4gICAgICAgIC8vLy8vIFNFVCBUSEUgQkFDS0xPRyBUQVNLIEZPUiBTRUNVUklUWSAvLy8vL1xuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuXFxuU0VDVVJJVFkgUkVDT01NRU5ERUQgVEFTS1M6YCk7XG4gICAgICAgIGxldCBzZWNUYXNrTnVtYmVyID0gMTtcbiAgICAgICAgY29uc3Qgc2VjV2F5cG9pbnQgPSBcIlNlY3VyaXR5XCI7XG4gICAgICAgIGlmICghZW5hYmxlT3JnUG9saWNpZXNDaGVjay5zY3BFbmFibGVkKSB7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gYXdhaXQgdGFza3MuZW5hYmxlUG9saWN5VHlwZVRhc2soc2VjVGFza051bWJlciwgc2VjV2F5cG9pbnQsIFwiU2VydmljZSBDb250cm9sIFBvbGljeVwiKTtcbiAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gICR7bWVzc2FnZX1gKTtcbiAgICAgICAgICAgIHNlY1Rhc2tOdW1iZXIrKztcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW9yZ0VuYWJsZWRTZXJ2aWNlcy5maW5kKHBhcmFtID0+IHBhcmFtLnNlcnZpY2UgPT09ICdndWFyZGR1dHkuYW1hem9uYXdzLmNvbScpKSB7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gYXdhaXQgdGFza3MuZW5hYmxlQXdzT3JnYW5pemF0aW9uU2VydmljZShzZWNUYXNrTnVtYmVyLCBzZWNXYXlwb2ludCwgXCJBV1MgR3VhcmREdXR5XCIpO1xuICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgJHttZXNzYWdlfWApO1xuICAgICAgICAgICAgc2VjVGFza051bWJlcisrO1xuICAgICAgICB9XG4gICAgICAgIGlmICghb3JnRW5hYmxlZFNlcnZpY2VzLmZpbmQocGFyYW0gPT4gcGFyYW0uc2VydmljZSA9PT0gJ3NlY3VyaXR5aHViLmFtYXpvbmF3cy5jb20nKSkge1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGF3YWl0IHRhc2tzLmVuYWJsZUF3c09yZ2FuaXphdGlvblNlcnZpY2Uoc2VjVGFza051bWJlciwgc2VjV2F5cG9pbnQsIFwiQVdTIFNlY3VyaXR5SHViXCIpO1xuICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgJHttZXNzYWdlfWApO1xuICAgICAgICAgICAgc2VjVGFza051bWJlcisrO1xuICAgICAgICB9XG4gICAgICAgIGlmICghb3JnRW5hYmxlZFNlcnZpY2VzLmZpbmQocGFyYW0gPT4gcGFyYW0uc2VydmljZSA9PT0gJ2FjY2Vzcy1hbmFseXplci5hbWF6b25hd3MuY29tJykpIHtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBhd2FpdCB0YXNrcy5lbmFibGVBd3NPcmdhbml6YXRpb25TZXJ2aWNlKHNlY1Rhc2tOdW1iZXIsIHNlY1dheXBvaW50LCBcIkFXUyBJQU0gQWNjZXNzIEFuYWx5emVyXCIpO1xuICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgJHttZXNzYWdlfWApO1xuICAgICAgICAgICAgc2VjVGFza051bWJlcisrO1xuICAgICAgICB9XG4gICAgICAgIGlmICghb3JnRW5hYmxlZFNlcnZpY2VzLmZpbmQocGFyYW0gPT4gcGFyYW0uc2VydmljZSA9PT0gJ2Nsb3VkdHJhaWwuYW1hem9uYXdzLmNvbScpKSB7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gYXdhaXQgdGFza3MuZW5hYmxlQXdzT3JnYW5pemF0aW9uU2VydmljZShzZWNUYXNrTnVtYmVyLCBzZWNXYXlwb2ludCwgXCJBV1MgQ2xvdWRUcmFpbFwiKTtcbiAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gICR7bWVzc2FnZX1gKTtcbiAgICAgICAgICAgIHNlY1Rhc2tOdW1iZXIrKztcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW9yZ0VuYWJsZWRTZXJ2aWNlcy5maW5kKHBhcmFtID0+IHBhcmFtLnNlcnZpY2UgPT09ICdjb25maWcuYW1hem9uYXdzLmNvbScpKSB7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gYXdhaXQgdGFza3MuZW5hYmxlQXdzT3JnYW5pemF0aW9uU2VydmljZShzZWNUYXNrTnVtYmVyLCBzZWNXYXlwb2ludCwgXCJBV1MgQ29uZmlnXCIpO1xuICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgJHttZXNzYWdlfWApO1xuICAgICAgICAgICAgc2VjVGFza051bWJlcisrO1xuICAgICAgICB9XG4gICAgICAgIGlmICghc2VjdXJpdHlIdWJEZWxlZ2F0ZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBhd2FpdCB0YXNrcy5kZWxlZ2F0ZUFkbWluaXN0cmF0aW9uQXdzU2VydmljZShzZWNUYXNrTnVtYmVyLCBzZWNXYXlwb2ludCwgXCJTZWN1cml0eSBIdWJcIik7XG4gICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICAke21lc3NhZ2V9YCk7XG4gICAgICAgICAgICBzZWNUYXNrTnVtYmVyKys7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFndWFyZER1dHlEZWxlZ2F0ZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBhd2FpdCB0YXNrcy5kZWxlZ2F0ZUFkbWluaXN0cmF0aW9uQXdzU2VydmljZShzZWNUYXNrTnVtYmVyLCBzZWNXYXlwb2ludCwgXCJHdWFyZER1dHlcIik7XG4gICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICAke21lc3NhZ2V9YCk7XG4gICAgICAgICAgICBzZWNUYXNrTnVtYmVyKys7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjb25maWdEZWxlZ2F0ZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBhd2FpdCB0YXNrcy5kZWxlZ2F0ZUFkbWluaXN0cmF0aW9uQXdzU2VydmljZShzZWNUYXNrTnVtYmVyLCBzZWNXYXlwb2ludCwgXCJBV1MgQ29uZmlnXCIpO1xuICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgJHttZXNzYWdlfWApO1xuICAgICAgICAgICAgc2VjVGFza051bWJlcisrO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaWFtQWNjZXNzQW5hbHl6ZXJEZWxlZ2F0ZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBhd2FpdCB0YXNrcy5kZWxlZ2F0ZUFkbWluaXN0cmF0aW9uQXdzU2VydmljZShzZWNUYXNrTnVtYmVyLCBzZWNXYXlwb2ludCwgXCJBV1MgSUFNIEFjY2VzcyBBbmFseXplclwiKTtcbiAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gICR7bWVzc2FnZX1gKTtcbiAgICAgICAgICAgIHNlY1Rhc2tOdW1iZXIrKztcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXMzU3RvcmFnZUxlbnNEZWxlZ2F0ZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBhd2FpdCB0YXNrcy5kZWxlZ2F0ZUFkbWluaXN0cmF0aW9uQXdzU2VydmljZShzZWNUYXNrTnVtYmVyLCBzZWNXYXlwb2ludCwgXCJTMyBTdG9yYWdlIExlbnNcIik7XG4gICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICAke21lc3NhZ2V9YCk7XG4gICAgICAgICAgICBzZWNUYXNrTnVtYmVyKys7XG4gICAgICAgIH1cbiAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcblxcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKmApO1xuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICAgICAgICAgICAgICAgICAgICBORVRXT1JLYCk7XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipgKTtcbiAgICAgICAgLy8vLy8gU0VUIFRIRSBCQUNLTE9HIFRBU0sgRk9SIE5FVFdPUksgLy8vLy9cbiAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcblxcbk5FVFdPUksgUkVDT01NRU5ERUQgVEFTS1M6YCk7XG4gICAgICAgIGxldCBuZXRUYXNrTnVtYmVyID0gMTtcbiAgICAgICAgY29uc3QgbmV0d29ya1dheXBvaW50ID0gJ05ldHdvcmsnO1xuICAgICAgICBpZiAoIW9yZ0VuYWJsZWRTZXJ2aWNlcy5maW5kKHBhcmFtID0+IHBhcmFtLnNlcnZpY2UgPT09ICdndWFyZGR1dHkuYW1hem9uYXdzLmNvbScpKSB7XG4gICAgICAgICAgICBjb25zdCBuZXRHdWFyZER1dHlFbmFibGVNZXNzYWdlID0gYXdhaXQgdGFza3MuZW5hYmxlQXdzT3JnYW5pemF0aW9uU2VydmljZShuZXRUYXNrTnVtYmVyLCBuZXR3b3JrV2F5cG9pbnQsIFwiQVdTIEd1YXJkRHV0eVwiKTtcbiAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gICR7bmV0R3VhcmREdXR5RW5hYmxlTWVzc2FnZX1gKTtcbiAgICAgICAgICAgIG5ldFRhc2tOdW1iZXIrKztcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW9yZ0VuYWJsZWRTZXJ2aWNlcy5maW5kKHBhcmFtID0+IHBhcmFtLnNlcnZpY2UgPT09ICdpcGFtLmFtYXpvbmF3cy5jb20nKSkge1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGF3YWl0IHRhc2tzLmVuYWJsZUF3c09yZ2FuaXphdGlvblNlcnZpY2UobmV0VGFza051bWJlciwgbmV0d29ya1dheXBvaW50LCBcIkFXUyBJUEFNXCIpO1xuICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgJHttZXNzYWdlfWApO1xuICAgICAgICAgICAgbmV0VGFza051bWJlcisrO1xuICAgICAgICB9XG4gICAgICAgIGlmICghb3JnRW5hYmxlZFNlcnZpY2VzLmZpbmQocGFyYW0gPT4gcGFyYW0uc2VydmljZSA9PT0gJ3JhbS5hbWF6b25hd3MuY29tJykpIHtcbiAgICAgICAgICAgIGNmYXRPcmdTZXJ2aWNlUmFtRW5hYmxlZFBhc3MgPSB0cnVlO1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGF3YWl0IHRhc2tzLmVuYWJsZUF3c09yZ2FuaXphdGlvblNlcnZpY2UobmV0VGFza051bWJlciwgbmV0d29ya1dheXBvaW50LCBcIkFXUyBSZXNvdXJjZSBBY2Nlc3MgTWFuYWdlclwiKTtcbiAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gICR7bWVzc2FnZX1gKTtcbiAgICAgICAgICAgIG5ldFRhc2tOdW1iZXIrKztcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlwYW1EZWxlZ2F0ZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBhd2FpdCB0YXNrcy5kZWxlZ2F0ZUFkbWluaXN0cmF0aW9uQXdzU2VydmljZShuZXRUYXNrTnVtYmVyLCBuZXR3b3JrV2F5cG9pbnQsIFwiQVdTIElQQU1cIik7XG4gICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICAke21lc3NhZ2V9YCk7XG4gICAgICAgICAgICBuZXRUYXNrTnVtYmVyKys7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFlbmFibGVPcmdQb2xpY2llc0NoZWNrLnNjcEVuYWJsZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBhd2FpdCB0YXNrcy5lbmFibGVQb2xpY3lUeXBlVGFzayhuZXRUYXNrTnVtYmVyLCBuZXR3b3JrV2F5cG9pbnQsIFwiU2VydmljZSBDb250cm9sIFBvbGljeVwiKTtcbiAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gICR7bWVzc2FnZX1gKTtcbiAgICAgICAgICAgIG5ldFRhc2tOdW1iZXIrKztcbiAgICAgICAgfVxuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuXFxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqYCk7XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gICAgICAgICAgICAgICAgICBPQlNFUlZBQklMSVRZYCk7XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipgKTtcbiAgICAgICAgLy8vLy8gU0VUIFRIRSBCQUNLTE9HIFRBU0sgRk9SIE9CU0VSVkFCSUxJVFkgLy8vLy9cbiAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcblxcbk9CU0VSVkFCSUxJVFkgUkVDT01NRU5ERUQgVEFTS1M6YCk7XG4gICAgICAgIGxldCBvYlRhc2tOdW1iZXIgPSAxO1xuICAgICAgICBjb25zdCBvYldheXBvaW50ID0gJ09ic2VydmFiaWxpdHknO1xuICAgICAgICBpZiAoIW9yZ0VuYWJsZWRTZXJ2aWNlcy5maW5kKHBhcmFtID0+IHBhcmFtLnNlcnZpY2UgPT09ICdhY2NvdW50LmFtYXpvbmF3cy5jb20nKSkge1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGF3YWl0IHRhc2tzLmVuYWJsZUF3c09yZ2FuaXphdGlvblNlcnZpY2Uob2JUYXNrTnVtYmVyLCBvYldheXBvaW50LCBcIkFjY291bnQgTWFuYWdlclwiKTtcbiAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gICR7bWVzc2FnZX1gKTtcbiAgICAgICAgICAgIG9iVGFza051bWJlcisrO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYWNjb3VudERlbGVnYXRlZCkge1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGF3YWl0IHRhc2tzLmRlbGVnYXRlQWRtaW5pc3RyYXRpb25Bd3NTZXJ2aWNlKG9iVGFza051bWJlciwgb2JXYXlwb2ludCwgXCJBY2NvdW50IE1hbmFnZXJcIik7XG4gICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICAke21lc3NhZ2V9YCk7XG4gICAgICAgICAgICBvYlRhc2tOdW1iZXIrKztcbiAgICAgICAgfVxuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuXFxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqYCk7XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gICAgICAgICAgICAgICBCQUNLVVAgQU5EIFJFQ09WRVJZYCk7XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipgKTtcbiAgICAgICAgLy8vLy8gU0VUIFRIRSBCQUNLTE9HIFRBU0sgRk9SIEJBQ0tVUCBBTkQgUkVDT1ZFUlkgLy8vLy9cbiAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcblxcbkJBQ0tVUCBBTkQgUkVDT1ZFUlkgUkVDT01NRU5ERUQgVEFTS1M6YCk7XG4gICAgICAgIGxldCBiYWNrVGFza051bWJlciA9IDE7XG4gICAgICAgIGNvbnN0IGJhY2t1cFdheXBvaW50ID0gJ0JhY2t1cCBhbmQgUmVjb3ZlcnknO1xuICAgICAgICAvLyBjaGVjayBpZiBBV1MgQmFja3VwIGlzIGVuYWJsZWRcbiAgICAgICAgaWYgKCFvcmdFbmFibGVkU2VydmljZXMuZmluZChwYXJhbSA9PiBwYXJhbS5zZXJ2aWNlID09PSAnYmFja3VwLmFtYXpvbmF3cy5jb20nKSkge1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGF3YWl0IHRhc2tzLmVuYWJsZUF3c09yZ2FuaXphdGlvblNlcnZpY2UoYmFja1Rhc2tOdW1iZXIsIGJhY2t1cFdheXBvaW50LCBcIkFXUyBCYWNrdXBcIik7XG4gICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICAke21lc3NhZ2V9YCk7XG4gICAgICAgICAgICBiYWNrVGFza051bWJlcisrO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYmFja3VwRGVsZWdhdGVkKSB7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gYXdhaXQgdGFza3MuZGVsZWdhdGVBZG1pbmlzdHJhdGlvbkF3c1NlcnZpY2UoYmFja1Rhc2tOdW1iZXIsIGJhY2t1cFdheXBvaW50LCBcIkFXUyBCYWNrdXBcIik7XG4gICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICAke21lc3NhZ2V9YCk7XG4gICAgICAgICAgICBiYWNrVGFza051bWJlcisrO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZW5hYmxlT3JnUG9saWNpZXNDaGVjay5iYWNrdXBQb2xpY3lFbmFibGVkKSB7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gYXdhaXQgdGFza3MuZW5hYmxlUG9saWN5VHlwZVRhc2soYmFja1Rhc2tOdW1iZXIsIGJhY2t1cFdheXBvaW50LCBcIkJhY2t1cCBQb2xpY3lcIik7XG4gICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICAke21lc3NhZ2V9YCk7XG4gICAgICAgICAgICBiYWNrVGFza051bWJlcisrO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZW5hYmxlT3JnUG9saWNpZXNDaGVjay5zY3BFbmFibGVkKSB7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gYXdhaXQgdGFza3MuZW5hYmxlUG9saWN5VHlwZVRhc2soYmFja1Rhc2tOdW1iZXIsIGJhY2t1cFdheXBvaW50LCBcIlNlcnZpY2UgQ29udHJvbCBQb2xpY3lcIik7XG4gICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICAke21lc3NhZ2V9YCk7XG4gICAgICAgICAgICBiYWNrVGFza051bWJlcisrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGFjY291bnRUeXBlLmlzSW5Pcmdhbml6YXRpb24gJiYgIWFjY291bnRUeXBlLmlzTWFuYWdlbWVudEFjY291bnQpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9ICdcXG5XQVJOSU5HOiBZb3UgYXJlIHJ1bm5pbmcgUGF0aGZpbmRlciBmcm9tIGFuIGFjY291bnQgdGhhdCBpcyBhIG1lbWJlciBvZiB5b3VyIEFXUyBPcmdhbml6YXRpb24uIFBsZWFzZSBydW4gdGhlIHNvbHV0aW9uIGZyb20geW91ciBBV1MgTWFuYWdlbWVudCBhY2NvdW50Lic7XG4gICAgICAgIGNvbnNvbGUud2FybihtZXNzYWdlKTtcbiAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgbWVzc2FnZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gJ1xcbldBUk5JTkc6IFlvdSBhcmUgcnVubmluZyBQYXRoZmluZGVyIGZyb20gYW4gYWNjb3VudCB0aGF0IG5vdCBwYXJ0IG9mIGFuIEFXUyBPcmdhbml6YXRpb24uIFRoaXMgYWNjb3VudCB3aWxsIGJlIHRyZWF0ZWQgYXMgYSBzdGFuZGFsb25lIGFjY291bnQuJztcbiAgICAgICAgY29uc29sZS53YXJuKG1lc3NhZ2UpO1xuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBtZXNzYWdlKTtcbiAgICB9XG4gICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcblxcblxcbiAgRU5EIFJFVklFV2ApO1xuICAgIC8vLy9TQ09SSU5HXG4gICAgbGV0IE9yZ0NoZWNrID0ge1xuICAgICAgICB0aXRsZTogXCJBV1MgT3JnYW5pemF0aW9uIEV4aXN0c1wiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJBV1MgT3JnYW5pemF0aW9uIGlzIGVuYWJsZWQuXCIsXG4gICAgICAgIHBhc3M6IGFjY291bnRUeXBlLmlzSW5Pcmdhbml6YXRpb24sXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICB3ZWlnaHQ6IDZcbiAgICB9O1xuICAgIENmYXRDaGVja3MucHVzaChPcmdDaGVjayk7XG4gICAgbGV0IE1BQ2hlY2sgPSB7XG4gICAgICAgIHRpdGxlOiBcIk1hbmFnZW1lbnQgYWNjb3VudFwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJBV1MgTWFuYWdlbWVudCBhY2NvdW50IGV4aXN0cy5cIixcbiAgICAgICAgcGFzczogY2ZhdE1hbmFnZW1lbnRBY2NvdW50UGFzcyxcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgIHdlaWdodDogNlxuICAgIH07XG4gICAgQ2ZhdENoZWNrcy5wdXNoKE1BQ2hlY2spO1xuICAgIGNvbnN0IGNmYXRJYW1Vc2VyQ2hlY2sgPSB7XG4gICAgICAgIHRpdGxlOiBcIklBTSBVc2Vyc1wiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJJQU0gVXNlcnMgc2hvdWxkIG5vdCBleGlzdCBpbiBNYW5hZ2VtZW50IEFjY291bnQuXCIsXG4gICAgICAgIHBhc3M6IGNmYXRJYW1Vc2VyUGFzcyxcbiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgICB3ZWlnaHQ6IDRcbiAgICB9O1xuICAgIENmYXRDaGVja3MucHVzaChjZmF0SWFtVXNlckNoZWNrKTtcbiAgICBjb25zdCBjZmF0RWMyQ2hlY2sgPSB7XG4gICAgICAgIHRpdGxlOiBcIkVDMiBJbnN0YW5jZXNcIixcbiAgICAgICAgZGVzY3JpcHRpb246IFwiRUMyIEluc3RhbmNlcyBzaG91bGQgbm90IGV4aXN0IGluIE1hbmFnZW1lbnQgQWNjb3VudC5cIixcbiAgICAgICAgcGFzczogY2ZhdEVjMlBhc3MsXG4gICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgICAgd2VpZ2h0OiA0XG4gICAgfTtcbiAgICBDZmF0Q2hlY2tzLnB1c2goY2ZhdEVjMkNoZWNrKTtcbiAgICBjb25zdCBjZmF0VnBjQ2hlY2sgPSB7XG4gICAgICAgIHRpdGxlOiBcIk1hbmFnZW1lbnQgQWNjb3VudCBWUENzXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIk1hbmFnZW1lbnQgQWNjb3VudCBzaG91bGQgbm90IGhhdmUgYW55IFZQQ3MuXCIsXG4gICAgICAgIHBhc3M6IGNmYXRWcGNQYXNzLFxuICAgICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICAgIHdlaWdodDogNFxuICAgIH07XG4gICAgQ2ZhdENoZWNrcy5wdXNoKGNmYXRWcGNDaGVjayk7XG4gICAgY29uc3QgY2ZhdENsb3VkVHJhaWxDaGVjayA9IHtcbiAgICAgICAgdGl0bGU6IFwiQ2xvdWRUcmFpbCBUcmFpbFwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJDbG91ZFRyYWlsIHNob3VsZCBiZSBlbmFibGVkLlwiLFxuICAgICAgICBwYXNzOiBjZmF0Q2xvdWRUcmFpbFBhc3MsXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICB3ZWlnaHQ6IDZcbiAgICB9O1xuICAgIENmYXRDaGVja3MucHVzaChjZmF0Q2xvdWRUcmFpbENoZWNrKTtcbiAgICBjb25zdCBjZmF0Q2xvdWRUcmFpbE9yZ1NlcnZpY2VFbmFibGVkQ2hlY2sgPSB7XG4gICAgICAgIHRpdGxlOiBcIkNsb3VkVHJhaWwgT3JnYW5pemF0aW9uIFNlcnZpY2VcIixcbiAgICAgICAgZGVzY3JpcHRpb246IFwiQ2xvdWRUcmFpbCBPcmdhbml6YXRpb24gU2VydmljZXMgc2hvdWxkIGJlIGVuYWJsZWQuXCIsXG4gICAgICAgIHBhc3M6IGNmYXRDbG91ZFRyYWlsT3JnU2VydmljZUVuYWJsZWRQYXNzLFxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgd2VpZ2h0OiA2XG4gICAgfTtcbiAgICBDZmF0Q2hlY2tzLnB1c2goY2ZhdENsb3VkVHJhaWxPcmdTZXJ2aWNlRW5hYmxlZENoZWNrKTtcbiAgICBjb25zdCBjZmF0Q2xvdWRUcmFpbE9yZ1RyYWlsQ2hlY2sgPSB7XG4gICAgICAgIHRpdGxlOiBcIkNsb3VkVHJhaWwgT3JnYW5pemF0aW9uIFRyYWlsXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIkF0IGxlYXN0IG9uZSBDbG91ZFRyYWlsIE9yZ2FuaXphdGlvbiBUcmFpbCBzaG91bGQgYmUgZW5hYmxlZC5cIixcbiAgICAgICAgcGFzczogY2ZhdENsb3VkVHJhaWxPcmdUcmFpbFBhc3MsXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICB3ZWlnaHQ6IDZcbiAgICB9O1xuICAgIENmYXRDaGVja3MucHVzaChjZmF0Q2xvdWRUcmFpbE9yZ1RyYWlsQ2hlY2spO1xuICAgIGNvbnN0IGNmYXRDb25maWdNYW5hZ2VtZW50QWNjb3VudENoZWNrID0ge1xuICAgICAgICB0aXRsZTogXCJDb25maWcgTWFuYWdlbWVudCBBY2NvdW50XCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIkNvbmZpZyBNYW5hZ2VtZW50IEFjY291bnQgc2hvdWxkIGJlIGVuYWJsZWQuXCIsXG4gICAgICAgIHBhc3M6IGNmYXRDb25maWdNYW5hZ2VtZW50QWNjb3VudFBhc3MsXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICB3ZWlnaHQ6IDZcbiAgICB9O1xuICAgIENmYXRDaGVja3MucHVzaChjZmF0Q29uZmlnTWFuYWdlbWVudEFjY291bnRDaGVjayk7XG4gICAgY29uc3QgY2ZhdENvbmZpZ1JlY29yZGVyTWFuYWdlbWVudEFjY291bnRDaGVjayA9IHtcbiAgICAgICAgdGl0bGU6IFwiQ29uZmlnIFJlY29yZGVyIE1hbmFnZW1lbnQgQWNjb3VudFwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJDb25maWcgUmVjb3JkZXIgTWFuYWdlbWVudCBBY2NvdW50IHNob3VsZCBiZSBlbmFibGVkLlwiLFxuICAgICAgICBwYXNzOiBjZmF0Q29uZmlnUmVjb3JkZXJNYW5hZ2VtZW50QWNjb3VudFBhc3MsXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICB3ZWlnaHQ6IDZcbiAgICB9O1xuICAgIENmYXRDaGVja3MucHVzaChjZmF0Q29uZmlnUmVjb3JkZXJNYW5hZ2VtZW50QWNjb3VudENoZWNrKTtcbiAgICBjb25zdCBjZmF0Q2xvdWRGb3JtYXRpb25FbmFibGVDaGVjayA9IHtcbiAgICAgICAgdGl0bGU6IFwiQ2xvdWRGb3JtYXRpb24gU3RhY2tTZXRzIGFjdGl2ZVwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJDbG91ZEZvcm1hdGlvbiBTdGFja1NldHMgc2hvdWxkIGJlIGFjdGl2YXRlZCBpbiB0aGUgQ2xvdWRGb3JtYXRpb24gY29uc29sZS5cIixcbiAgICAgICAgcGFzczogY2ZhdE9yZ0Nsb3VkRm9ybWF0aW9uRW5hYmxlZFBhc3MsXG4gICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgICAgd2VpZ2h0OiA1XG4gICAgfTtcbiAgICBDZmF0Q2hlY2tzLnB1c2goY2ZhdENsb3VkRm9ybWF0aW9uRW5hYmxlQ2hlY2spO1xuICAgIGNvbnN0IGNmYXRPcmdTZXJ2aWNlR3VhcmREdXR5Q2hlY2sgPSB7XG4gICAgICAgIHRpdGxlOiBcIkd1YXJkRHV0eSBPcmdhbml6YXRpb24gU2VydmljZVwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJHdWFyZER1dHkgT3JnYW5pemF0aW9uIFNlcnZpY2VzIHNob3VsZCBiZSBlbmFibGVkLlwiLFxuICAgICAgICBwYXNzOiBjZmF0T3JnU2VydmljZUd1YXJkRHV0eUVuYWJsZWRQYXNzLFxuICAgICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICAgIHdlaWdodDogNFxuICAgIH07XG4gICAgQ2ZhdENoZWNrcy5wdXNoKGNmYXRPcmdTZXJ2aWNlR3VhcmREdXR5Q2hlY2spO1xuICAgIGNvbnN0IGNmYXRPcmdTZXJ2aWNlUmFtQ2hlY2sgPSB7XG4gICAgICAgIHRpdGxlOiBcIlJlc291cmNlIEFjY2VzcyBNYW5hZ2VyIE9yZ2FuaXphdGlvbiBTZXJ2aWNlXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIlJlc291cmNlIEFjY2VzcyBNYW5hZ2VyIE9yZ2FuaXphdGlvbiBTZXJ2aWNlcyBzaG91bGQgYmUgZW5hYmxlZC5cIixcbiAgICAgICAgcGFzczogY2ZhdE9yZ1NlcnZpY2VSYW1FbmFibGVkUGFzcyxcbiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgICB3ZWlnaHQ6IDRcbiAgICB9O1xuICAgIENmYXRDaGVja3MucHVzaChjZmF0T3JnU2VydmljZVJhbUNoZWNrKTtcbiAgICBjb25zdCBjZmF0T3JnU2VydmljZVNlY3VyaXR5SHViQ2hlY2sgPSB7XG4gICAgICAgIHRpdGxlOiBcIlNlY3VyaXR5IEh1YiBPcmdhbml6YXRpb24gU2VydmljZVwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJTZWN1cml0eUh1YiBPcmdhbml6YXRpb24gU2VydmljZXMgc2hvdWxkIGJlIGVuYWJsZWQuXCIsXG4gICAgICAgIHBhc3M6IGNmYXRPcmdTZXJ2aWNlU2VjdXJpdHlIdWJFbmFibGVkUGFzcyxcbiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgICB3ZWlnaHQ6IDRcbiAgICB9O1xuICAgIENmYXRDaGVja3MucHVzaChjZmF0T3JnU2VydmljZVNlY3VyaXR5SHViQ2hlY2spO1xuICAgIGNvbnN0IGNmYXRPcmdTZXJ2aWNlSWFtQWNjZXNzQW5hbHl6ZXJDaGVjayA9IHtcbiAgICAgICAgdGl0bGU6IFwiSUFNIEFjY2VzcyBBbmFseXplciBPcmdhbml6YXRpb24gU2VydmljZVwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJJQU0gQWNjZXNzIEFuYWx5emVyIE9yZ2FuaXphdGlvbiBTZXJ2aWNlcyBzaG91bGQgYmUgZW5hYmxlZC5cIixcbiAgICAgICAgcGFzczogY2ZhdE9yZ1NlcnZpY2VJYW1BY2Nlc3NBbmFseXplckVuYWJsZWRQYXNzLFxuICAgICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICAgIHdlaWdodDogNFxuICAgIH07XG4gICAgQ2ZhdENoZWNrcy5wdXNoKGNmYXRPcmdTZXJ2aWNlSWFtQWNjZXNzQW5hbHl6ZXJDaGVjayk7XG4gICAgY29uc3QgY2ZhdE9yZ1NlcnZpY2VDb25maWdDaGVjayA9IHtcbiAgICAgICAgdGl0bGU6IFwiQ29uZmlnIE9yZ2FuaXphdGlvbiBTZXJ2aWNlXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIkNvbmZpZyBPcmdhbml6YXRpb24gU2VydmljZXMgc2hvdWxkIGJlIGVuYWJsZWQuXCIsXG4gICAgICAgIHBhc3M6IGNmYXRPcmdTZXJ2aWNlQXdzQ29uZmlnRW5hYmxlZFBhc3MsXG4gICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgICAgd2VpZ2h0OiA0XG4gICAgfTtcbiAgICBDZmF0Q2hlY2tzLnB1c2goY2ZhdE9yZ1NlcnZpY2VDb25maWdDaGVjayk7XG4gICAgY29uc3QgY2ZhdE9yZ1NlcnZpY2VDbG91ZEZvcm1hdGlvbkNoZWNrID0ge1xuICAgICAgICB0aXRsZTogXCJDbG91ZEZvcm1hdGlvbiBPcmdhbml6YXRpb24gU2VydmljZVwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJDbG91ZEZvcm1hdGlvbiBPcmdhbml6YXRpb24gU2VydmljZXMgc2hvdWxkIGJlIGVuYWJsZWQuXCIsXG4gICAgICAgIHBhc3M6IGNmYXRCYWNrdXBQb2xpY2llc0VuYWJsZWRQYXNzLFxuICAgICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICAgIHdlaWdodDogNVxuICAgIH07XG4gICAgY29uc3QgY2ZhdEluZnJhT3VDaGVjayA9IHtcbiAgICAgICAgdGl0bGU6IFwiVG9wLWxldmVsIEluZnJhc3RydWN0dXJlIE9VXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIlRvcC1sZXZlbCBJbmZyYXN0cnVjdHVyZSBPVSBzaG91bGQgZXhpc3QuXCIsXG4gICAgICAgIHBhc3M6IGluZnJhc3RydWN0dXJlRm91bmQsXG4gICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgICAgd2VpZ2h0OiA1XG4gICAgfTtcbiAgICBDZmF0Q2hlY2tzLnB1c2goY2ZhdEluZnJhT3VDaGVjayk7XG4gICAgY29uc3QgY2ZhdFNlY3VyaXR5T3VDaGVjayA9IHtcbiAgICAgICAgdGl0bGU6IFwiVG9wLWxldmVsIFNlY3VyaXR5IE9VXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIlRvcC1sZXZlbCBTZWN1cml0eSBPVSBzaG91bGQgZXhpc3QuXCIsXG4gICAgICAgIHBhc3M6IHNlY3VyaXR5Rm91bmQsXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICB3ZWlnaHQ6IDZcbiAgICB9O1xuICAgIENmYXRDaGVja3MucHVzaChjZmF0U2VjdXJpdHlPdUNoZWNrKTtcbiAgICBjb25zdCBjZmF0V29ya2xvYWRPdUNoZWNrID0ge1xuICAgICAgICB0aXRsZTogXCJUb3AtbGV2ZWwgV29ya2xvYWRzIE9VXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIlRvcC1sZXZlbCBXb3JrbG9hZHMgT1Ugc2hvdWxkIGV4aXN0LlwiLFxuICAgICAgICBwYXNzOiB3b3JrbG9hZHNGb3VuZCxcbiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgICB3ZWlnaHQ6IDVcbiAgICB9O1xuICAgIENmYXRDaGVja3MucHVzaChjZmF0V29ya2xvYWRPdUNoZWNrKTtcbiAgICBjb25zdCBjZmF0SWFtSWRDT3JnU2VydmljZUNoZWNrID0ge1xuICAgICAgICB0aXRsZTogXCJJQU0gSWRDIE9yZ2FuaXphdGlvbiBTZXJ2aWNlXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIklBTSBJZGVudGl0eSBDZW50ZXIgT3JnYW5pemF0aW9uIFNlcnZpY2VzIHNob3VsZCBiZSBlbmFibGVkLlwiLFxuICAgICAgICBwYXNzOiBjZmF0SWFtSWRQT3JnU2VydmljZVBhc3MsXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICB3ZWlnaHQ6IDZcbiAgICB9O1xuICAgIENmYXRDaGVja3MucHVzaChjZmF0SWFtSWRDT3JnU2VydmljZUNoZWNrKTtcbiAgICBjb25zdCBjZmF0SWFtSWRjQ29uZmlndXJlZENoZWNrID0ge1xuICAgICAgICB0aXRsZTogXCJJQU0gSWRDIENvbmZpZ3VyZWRcIixcbiAgICAgICAgZGVzY3JpcHRpb246IFwiSUFNIElkZW50aXR5IENlbnRlciBzaG91bGQgYmUgY29uZmlndXJlZC5cIixcbiAgICAgICAgcGFzczogY2ZhdElhbUlkY0NvbmZpZ3VyZWRQYXNzLFxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgd2VpZ2h0OiA2XG4gICAgfTtcbiAgICBDZmF0Q2hlY2tzLnB1c2goY2ZhdElhbUlkY0NvbmZpZ3VyZWRDaGVjayk7XG4gICAgY29uc3QgY2ZhdE9yZ1BvbGljeVNjcEVuYWJsZWQgPSB7XG4gICAgICAgIHRpdGxlOiBcIlNlcnZpY2UgQ29udHJvbCBQb2xpY2llcyBFbmFibGVkXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIlNlcnZpY2UgQ29udHJvbCBQb2xpY3kgc2hvdWxkIGJlIGVuYWJsZWQuXCIsXG4gICAgICAgIHBhc3M6IGNmYXRTY3BFbmFibGVkUGFzcyxcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgIHdlaWdodDogNlxuICAgIH07XG4gICAgQ2ZhdENoZWNrcy5wdXNoKGNmYXRPcmdQb2xpY3lTY3BFbmFibGVkKTtcbiAgICBjb25zdCBjZmF0T3JnUG9saWN5VGFnUG9saWN5Q2hlY2sgPSB7XG4gICAgICAgIHRpdGxlOiBcIk9yZ2FuaXphdGlvbiBUYWcgUG9saWN5IEVuYWJsZWRcIixcbiAgICAgICAgZGVzY3JpcHRpb246IFwiVGFnIFBvbGljeSBzaG91bGQgYmUgZW5hYmxlZC5cIixcbiAgICAgICAgcGFzczogY2ZhdFRhZ1BvbGljaWVzRW5hYmxlZFBhc3MsXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICB3ZWlnaHQ6IDZcbiAgICB9O1xuICAgIENmYXRDaGVja3MucHVzaChjZmF0T3JnUG9saWN5VGFnUG9saWN5Q2hlY2spO1xuICAgIGNvbnN0IGNmYXRCYWNrdXBQb2xpY2llc0VuYWJsZWRDaGVjayA9IHtcbiAgICAgICAgdGl0bGU6IFwiIE9yZ2FuaXphdGlvbiBCYWNrdXAgUG9saWN5IEVuYWJsZWRcIixcbiAgICAgICAgZGVzY3JpcHRpb246IFwiQmFja3VwIFBvbGljeSBzaG91bGQgYmUgZW5hYmxlZC5cIixcbiAgICAgICAgcGFzczogY2ZhdEJhY2t1cFBvbGljaWVzRW5hYmxlZFBhc3MsXG4gICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgICAgd2VpZ2h0OiA1XG4gICAgfTtcbiAgICBDZmF0Q2hlY2tzLnB1c2goY2ZhdEJhY2t1cFBvbGljaWVzRW5hYmxlZENoZWNrKTtcbiAgICBjb25zdCBjZmF0Q29udHJvbFRvd2VyRGVwbG95ZWRDaGVjayA9IHtcbiAgICAgICAgdGl0bGU6IFwiQ29udHJvbCBUb3dlciBEZXBsb3llZFwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJDb250cm9sIFRvd2VyIHNob3VsZCBiZSBkZXBsb3llZC5cIixcbiAgICAgICAgcGFzczogY2ZhdENvbnRyb2xUb3dlckRlcGxveWVkUGFzcyxcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgIHdlaWdodDogNlxuICAgIH07XG4gICAgQ2ZhdENoZWNrcy5wdXNoKGNmYXRDb250cm9sVG93ZXJEZXBsb3llZENoZWNrKTtcbiAgICBjb25zdCBjZmF0Q29udHJvbFRvd2VyTGF0ZXN0VmVyc2lvbkNoZWNrID0ge1xuICAgICAgICB0aXRsZTogXCJDb250cm9sIFRvd2VyIExhdGVzdCBWZXJzaW9uXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIkNvbnRyb2wgVG93ZXIgc2hvdWxkIGJlIHRoZSBsYXRlc3QgdmVyc2lvbi5cIixcbiAgICAgICAgcGFzczogY2ZhdENvbnRyb2xUb3dlckxhdGVzdFZlcnNpb25QYXNzLFxuICAgICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICAgIHdlaWdodDogNVxuICAgIH07XG4gICAgQ2ZhdENoZWNrcy5wdXNoKGNmYXRDb250cm9sVG93ZXJMYXRlc3RWZXJzaW9uQ2hlY2spO1xuICAgIGNvbnN0IGNmYXRDb250cm9sVG93ZXJOb3REcmlmdGVkQ2hlY2sgPSB7XG4gICAgICAgIHRpdGxlOiBcIkNvbnRyb2wgVG93ZXIgTm90IERyaWZ0ZWRcIixcbiAgICAgICAgZGVzY3JpcHRpb246IFwiQ29udHJvbCBUb3dlciBzaG91bGQgbm90IGJlIGRyaWZ0ZWQuXCIsXG4gICAgICAgIHBhc3M6IGNmYXRDb250cm9sVG93ZXJOb3REcmlmdGVkUGFzcyxcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgIHdlaWdodDogNlxuICAgIH07XG4gICAgQ2ZhdENoZWNrcy5wdXNoKGNmYXRDb250cm9sVG93ZXJOb3REcmlmdGVkQ2hlY2spO1xuICAgIGNvbnN0IGNmYXRMb2dBcmNoaXZlQWNjb3VudENoZWNrID0ge1xuICAgICAgICB0aXRsZTogXCJMb2cgQXJjaGl2ZSBBY2NvdW50XCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIkxvZyBBcmNoaXZlIEFjY291bnQgc2hvdWxkIGV4aXN0LlwiLFxuICAgICAgICBwYXNzOiBjZmF0TG9nQXJjaGl2ZUFjY291bnRQYXNzLFxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgd2VpZ2h0OiA2XG4gICAgfTtcbiAgICBDZmF0Q2hlY2tzLnB1c2goY2ZhdExvZ0FyY2hpdmVBY2NvdW50Q2hlY2spO1xuICAgIGNvbnN0IGNmYXRBdWRpdEFjY291bnRDaGVjayA9IHtcbiAgICAgICAgdGl0bGU6IFwiQXVkaXQgQWNjb3VudFwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJBdWRpdCBBY2NvdW50IHNob3VsZCBleGlzdC5cIixcbiAgICAgICAgcGFzczogY2ZhdEF1ZGl0QWNjb3VudFBhc3MsXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICB3ZWlnaHQ6IDZcbiAgICB9O1xuICAgIGxldCBzY29yZSA9IDA7XG4gICAgbGV0IHRvdGFsU2NvcmUgPSAwO1xuICAgIGxldCBjZmF0U3RhdHVzID0gXCJQQVNTXCI7XG4gICAgY29uc29sZS5sb2coXCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVwiKTtcbiAgICBjb25zb2xlLmxvZyhcImNsb3VkIGZvdW5kYXRpb24gYXNzZXNzbWVudCBjb21wbGV0ZS5cIik7XG4gICAgY29uc29sZS5sb2coXCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVwiKTtcbiAgICBjb25zb2xlLmxvZyhcIkZhaWxlZCBSZXF1aXJlbWVudHM6XCIpO1xuICAgIGZvciAoY29uc3QgY2hlY2sgb2YgQ2ZhdENoZWNrcykge1xuICAgICAgICB0b3RhbFNjb3JlICs9IGNoZWNrLndlaWdodDtcbiAgICAgICAgaWYgKGNoZWNrLnJlcXVpcmVkID09PSB0cnVlICYmIGNoZWNrLnBhc3MgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgRkFJTEVEOiAke2NoZWNrLnRpdGxlfWApO1xuICAgICAgICAgICAgY2ZhdFN0YXR1cyA9IFwiRkFJTEVEXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoZWNrLnBhc3MgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHNjb3JlICs9IGNoZWNrLndlaWdodDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zb2xlLmxvZyhgUmVzdWx0OiAke2NmYXRTdGF0dXN9YCk7XG4gICAgY29uc29sZS5sb2coYFNjb3JlOiAke3Njb3JlfSBvdXQgb2YgJHt0b3RhbFNjb3JlfWApO1xuICAgIGNvbnNvbGUubG9nKGAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLWApO1xuICAgIGNvbnNvbGUudGFibGUoQ2ZhdENoZWNrcyk7XG59O1xubWFpbigpO1xuIiwiaW1wb3J0IHsgRUMyQ2xpZW50LCBEZXNjcmliZVJlZ2lvbnNDb21tYW5kIH0gZnJvbSBcIkBhd3Mtc2RrL2NsaWVudC1lYzJcIjtcbmFzeW5jIGZ1bmN0aW9uIGdldEFsbFJlZ2lvbnMoKSB7XG4gICAgLy8gZ3JhYmJpbmcgYWxsIHJlZ2lvbnMgZnJvbSB1cy1lYXN0LTFcbiAgICBjb25zdCBlYzJDbGllbnQgPSBuZXcgRUMyQ2xpZW50KHsgcmVnaW9uOiBcInVzLWVhc3QtMVwiIH0pO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGRlc2NyaWJlUmVnaW9uc0NvbW1hbmQgPSBuZXcgRGVzY3JpYmVSZWdpb25zQ29tbWFuZCh7fSk7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZWMyQ2xpZW50LnNlbmQoZGVzY3JpYmVSZWdpb25zQ29tbWFuZCk7XG4gICAgICAgIGNvbnN0IHJlZ2lvbnMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCByZWdpb24gb2YgcmVzcG9uc2UuUmVnaW9ucyB8fCBbXSkge1xuICAgICAgICAgICAgcmVnaW9ucy5wdXNoKHJlZ2lvbi5SZWdpb25OYW1lIHx8IFwiXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZWdpb25zO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHJldHJpZXZpbmcgcmVnaW9uczpcIiwgZXJyb3IpO1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICBlYzJDbGllbnQuZGVzdHJveSgpO1xuICAgIH1cbn1cbmV4cG9ydCBkZWZhdWx0IGdldEFsbFJlZ2lvbnM7XG4iLCJpbXBvcnQgeyBTVFNDbGllbnQsIEdldENhbGxlcklkZW50aXR5Q29tbWFuZCB9IGZyb20gXCJAYXdzLXNkay9jbGllbnQtc3RzXCI7XG5pbXBvcnQgeyBPcmdhbml6YXRpb25zQ2xpZW50LCBEZXNjcmliZU9yZ2FuaXphdGlvbkNvbW1hbmQsIH0gZnJvbSBcIkBhd3Mtc2RrL2NsaWVudC1vcmdhbml6YXRpb25zXCI7XG5hc3luYyBmdW5jdGlvbiBnZXRBY2NvdW50SWQocmVnaW9uKSB7XG4gICAgY29uc3Qgc3RzQ2xpZW50ID0gbmV3IFNUU0NsaWVudCh7IHJlZ2lvbiB9KTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBnZXRDYWxsZXJJZGVudGl0eUNvbW1hbmQgPSBuZXcgR2V0Q2FsbGVySWRlbnRpdHlDb21tYW5kKHt9KTtcbiAgICAgICAgY29uc3QgQWNjb3VudCA9IGF3YWl0IHN0c0NsaWVudC5zZW5kKGdldENhbGxlcklkZW50aXR5Q29tbWFuZCk7XG4gICAgICAgIHJldHVybiBBY2NvdW50LkFjY291bnQ7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBhY2NvdW50IElEOlwiLCBlcnJvcik7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbn1cbjtcbi8vIGZ1bmN0aW9uIGNoZWNraW5nIGlmIG1hbmFnZW1lbnQgYWNjb3VudCwgbWVtYmVyIGFjY291bnQsIG9yIHN0YW5kYWxvbmUgYWNjb3VudFxuZXhwb3J0IGNvbnN0IGRlZmluZUFjY291bnRUeXBlID0gYXN5bmMgKHJlZ2lvbikgPT4ge1xuICAgIGNvbnN0IG9yZ2FuaXphdGlvbnNDbGllbnQgPSBuZXcgT3JnYW5pemF0aW9uc0NsaWVudCh7IHJlZ2lvbiB9KTtcbiAgICBsZXQgaXNJbk9yZ2FuaXphdGlvbiA9IGZhbHNlO1xuICAgIGxldCBpc01hbmFnZW1lbnRBY2NvdW50ID0gZmFsc2U7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgY3VycmVudEFjY291bnRJZCA9IGF3YWl0IGdldEFjY291bnRJZChyZWdpb24pO1xuICAgICAgICBpZiAoY3VycmVudEFjY291bnRJZCkge1xuICAgICAgICAgICAgY29uc3QgZGVzY3JpYmVPcmdhbml6YXRpb25Db21tYW5kID0gbmV3IERlc2NyaWJlT3JnYW5pemF0aW9uQ29tbWFuZCh7fSk7XG4gICAgICAgICAgICBjb25zdCBkZXNjcmliZU9yZ2FuaXphdGlvblJlc3BvbnNlID0gYXdhaXQgb3JnYW5pemF0aW9uc0NsaWVudC5zZW5kKGRlc2NyaWJlT3JnYW5pemF0aW9uQ29tbWFuZCk7XG4gICAgICAgICAgICAvLyB0aGUgYWNjb3VudCBpcyBub3Qgc3RhbmRhbG9uZSBhbmQgcGFydCBvZiBBV1MgT3JnYW5pemF0aW9uXG4gICAgICAgICAgICBpZiAoZGVzY3JpYmVPcmdhbml6YXRpb25SZXNwb25zZS5Pcmdhbml6YXRpb24/Lk1hc3RlckFjY291bnRJZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1hbmFnZW1lbnRBY2NvdW50SWQgPSBkZXNjcmliZU9yZ2FuaXphdGlvblJlc3BvbnNlLk9yZ2FuaXphdGlvbj8uTWFzdGVyQWNjb3VudElkO1xuICAgICAgICAgICAgICAgIGlmIChtYW5hZ2VtZW50QWNjb3VudElkID09IGN1cnJlbnRBY2NvdW50SWQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBpcyBhbiBvcmdhbml6YXRpb24gYW5kIHRoaXMgaXMgdGhlIG1hbmFnZW1lbnQgYWNjb3VudFxuICAgICAgICAgICAgICAgICAgICBpc01hbmFnZW1lbnRBY2NvdW50ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaXNJbk9yZ2FuaXphdGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGVyZSBpcyBhbiBvcmdhbml6YXRpb24sIGJ1dCB0aGlzIGlzbid0IHRoZSBtYW5hZ2VtZW50IGFjY291bnRcbiAgICAgICAgICAgICAgICAgICAgaXNJbk9yZ2FuaXphdGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gdGhlcmUgaXNuJ3QgYW4gb3JnYW5pemF0aW9uIGFuZCB0aGlzIGFjY291bnQgaXMgc3RhbmRhbG9uZVxuICAgICAgICAgICAgICAgIGlzSW5Pcmdhbml6YXRpb24gPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yOlwiLCBlcnJvcik7XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICBvcmdhbml6YXRpb25zQ2xpZW50LmRlc3Ryb3koKTtcbiAgICB9XG4gICAgcmV0dXJuIHsgaXNJbk9yZ2FuaXphdGlvbiwgaXNNYW5hZ2VtZW50QWNjb3VudCB9O1xufTtcbiIsImltcG9ydCB7IElBTUNsaWVudCwgTGlzdFVzZXJzQ29tbWFuZCwgTGlzdEFjY2Vzc0tleXNDb21tYW5kLCBHZXRBY2Nlc3NLZXlMYXN0VXNlZENvbW1hbmQgfSBmcm9tIFwiQGF3cy1zZGsvY2xpZW50LWlhbVwiO1xuLy8gZnVuY3Rpb24gbGlzdCBhbGwgSUFNIHVzZXJzIGFuZCBpZiB0aGV5IGhhdmUga2V5cyBpbiB0aGUgbWFuYWdlbWVudCBhY2NvdW50XG5jb25zdCBjaGVja0lhbVVzZXJzID0gYXN5bmMgKCkgPT4ge1xuICAgIC8vIFNldCB0byB1cy1lYXN0LTEgYXMgSUFNIGlzIGdsb2JhbCBhbmQgcmVnaW9uIGlzbid0IGEgY29uY2VyblxuICAgIGNvbnN0IGlhbUNsaWVudCA9IG5ldyBJQU1DbGllbnQoeyByZWdpb246ICd1cy1lYXN0LTEnIH0pO1xuICAgIGNvbnN0IGlhbVVzZXJJbmZvID0gW107XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgbGlzdFVzZXJzQ29tbWFuZCA9IG5ldyBMaXN0VXNlcnNDb21tYW5kKHt9KTtcbiAgICAgICAgY29uc3QgbGlzdFVzZXJzUmVzcG9uc2UgPSBhd2FpdCBpYW1DbGllbnQuc2VuZChsaXN0VXNlcnNDb21tYW5kKTtcbiAgICAgICAgZm9yIChjb25zdCB1c2VyIG9mIGxpc3RVc2Vyc1Jlc3BvbnNlLlVzZXJzIHx8IFtdKSB7XG4gICAgICAgICAgICBjb25zdCB1c2VyTmFtZSA9IHVzZXIuVXNlck5hbWUgfHwgXCJcIjtcbiAgICAgICAgICAgIGNvbnN0IGxpc3RBY2Nlc3NLZXlzQ29tbWFuZCA9IG5ldyBMaXN0QWNjZXNzS2V5c0NvbW1hbmQoe1xuICAgICAgICAgICAgICAgIFVzZXJOYW1lOiB1c2VyTmFtZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgbGlzdEFjY2Vzc0tleXNSZXNwb25zZSA9IGF3YWl0IGlhbUNsaWVudC5zZW5kKGxpc3RBY2Nlc3NLZXlzQ29tbWFuZCk7XG4gICAgICAgICAgICBjb25zdCBhY2Nlc3NLZXlzID0gbGlzdEFjY2Vzc0tleXNSZXNwb25zZS5BY2Nlc3NLZXlNZXRhZGF0YSB8fCBbXTtcbiAgICAgICAgICAgIGlmIChhY2Nlc3NLZXlzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGFjY2Vzc0tleSBvZiBhY2Nlc3NLZXlzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFjY2Vzc0tleUlkID0gYWNjZXNzS2V5LkFjY2Vzc0tleUlkIHx8IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGdldExhc3RVc2VkQ29tbWFuZCA9IG5ldyBHZXRBY2Nlc3NLZXlMYXN0VXNlZENvbW1hbmQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgQWNjZXNzS2V5SWQ6IGFjY2Vzc0tleUlkLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFzdFVzZWRSZXNwb25zZSA9IGF3YWl0IGlhbUNsaWVudC5zZW5kKGdldExhc3RVc2VkQ29tbWFuZCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZvdW5kVXNlckluZm8gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjY2Vzc0tleUlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFVzZWQ6IGxhc3RVc2VkUmVzcG9uc2UgJiYgbGFzdFVzZWRSZXNwb25zZS5BY2Nlc3NLZXlMYXN0VXNlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gYCR7bGFzdFVzZWRSZXNwb25zZS5BY2Nlc3NLZXlMYXN0VXNlZC5MYXN0VXNlZERhdGV9YCB8fCBcIk5vdCBhdmFpbGFibGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJOb3QgYXZhaWxhYmxlXCIsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGlhbVVzZXJJbmZvLnB1c2goZm91bmRVc2VySW5mbyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZm91bmRVc2VySW5mbyA9IHtcbiAgICAgICAgICAgICAgICAgICAgdXNlck5hbWVcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGlhbVVzZXJJbmZvLnB1c2goZm91bmRVc2VySW5mbyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvcjpcIiwgZXJyb3IpO1xuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgaWFtQ2xpZW50LmRlc3Ryb3koKTtcbiAgICB9XG4gICAgcmV0dXJuIGlhbVVzZXJJbmZvO1xufTtcbmV4cG9ydCBkZWZhdWx0IGNoZWNrSWFtVXNlcnM7XG4iLCJpbXBvcnQgeyBFQzJDbGllbnQsIERlc2NyaWJlSW5zdGFuY2VzQ29tbWFuZCB9IGZyb20gXCJAYXdzLXNkay9jbGllbnQtZWMyXCI7XG5hc3luYyBmdW5jdGlvbiBjaGVja0VjMkV4aXN0cyhyZWdpb25zKSB7XG4gICAgbGV0IGVjMlZhbGlkYXRpb24gPSBbXTtcbiAgICBmb3IgKGNvbnN0IHJlZ2lvbiBvZiByZWdpb25zKSB7XG4gICAgICAgIGNvbnN0IGVjMkNsaWVudCA9IG5ldyBFQzJDbGllbnQoeyByZWdpb24gfSk7XG4gICAgICAgIGNvbnN0IGNvbW1hbmQgPSBuZXcgRGVzY3JpYmVJbnN0YW5jZXNDb21tYW5kKHt9KTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZWMyQ2xpZW50LnNlbmQoY29tbWFuZCk7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2UuUmVzZXJ2YXRpb25zKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLlJlc2VydmF0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coYFdBUk5JTkc6IEluc3RhbmNlKHMpIGV4aXN0cyBpbiByZWdpb246ICR7cmVnaW9ufWApO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlYzJGb3VuZCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lvbjogcmVnaW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgZWMyRm91bmQ6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgZWMyVmFsaWRhdGlvbi5wdXNoKGVjMkZvdW5kKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVjMkZvdW5kID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVnaW9uOiByZWdpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBlYzJGb3VuZDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgZWMyVmFsaWRhdGlvbi5wdXNoKGVjMkZvdW5kKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlYzJGb3VuZCA9IHtcbiAgICAgICAgICAgICAgICAgICAgcmVnaW9uOiByZWdpb24sXG4gICAgICAgICAgICAgICAgICAgIGVjMkZvdW5kOiBmYWxzZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgZWMyVmFsaWRhdGlvbi5wdXNoKGVjMkZvdW5kKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBFcnJvciBjaGVja2luZyBpbnN0YW5jZTogJHtlcnJvcn1gKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIGVjMkNsaWVudC5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICB9IC8vIGVuZCBmb3JcbiAgICByZXR1cm4gZWMyVmFsaWRhdGlvbjtcbn1cbjtcbmV4cG9ydCBkZWZhdWx0IGNoZWNrRWMyRXhpc3RzO1xuIiwiaW1wb3J0IHsgRUMyQ2xpZW50LCBEZXNjcmliZVZwY3NDb21tYW5kIH0gZnJvbSBcIkBhd3Mtc2RrL2NsaWVudC1lYzJcIjtcbmFzeW5jIGZ1bmN0aW9uIGNoZWNrVnBjRXhpc3RzKHJlZ2lvbnMpIHtcbiAgICBsZXQgdnBjVmFsaWRhdGlvbiA9IFtdO1xuICAgIGZvciAoY29uc3QgcmVnaW9uIG9mIHJlZ2lvbnMpIHtcbiAgICAgICAgY29uc3QgZWMyQ2xpZW50ID0gbmV3IEVDMkNsaWVudCh7IHJlZ2lvbiB9KTtcbiAgICAgICAgY29uc3QgY29tbWFuZCA9IG5ldyBEZXNjcmliZVZwY3NDb21tYW5kKHt9KTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZWMyQ2xpZW50LnNlbmQoY29tbWFuZCk7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2UuVnBjcykge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5WcGNzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhgV0FSTklORzogVlBDKHMpIGV4aXN0cyBpbiByZWdpb246ICR7cmVnaW9ufWApO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2cGNGb3VuZCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lvbjogcmVnaW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgdnBjRm91bmQ6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgdnBjVmFsaWRhdGlvbi5wdXNoKHZwY0ZvdW5kKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZwY0ZvdW5kID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVnaW9uOiByZWdpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICB2cGNGb3VuZDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgdnBjVmFsaWRhdGlvbi5wdXNoKHZwY0ZvdW5kKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2cGNGb3VuZCA9IHtcbiAgICAgICAgICAgICAgICAgICAgcmVnaW9uOiByZWdpb24sXG4gICAgICAgICAgICAgICAgICAgIHZwY0ZvdW5kOiBmYWxzZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdnBjVmFsaWRhdGlvbi5wdXNoKHZwY0ZvdW5kKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBFcnJvciBjaGVja2luZyBpbnN0YW5jZTogJHtlcnJvcn1gKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIGVjMkNsaWVudC5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICB9IC8vIGVuZCBmb3JcbiAgICByZXR1cm4gdnBjVmFsaWRhdGlvbjtcbn1cbjtcbmV4cG9ydCBkZWZhdWx0IGNoZWNrVnBjRXhpc3RzO1xuIiwiaW1wb3J0IHsgQ2xvdWRUcmFpbENsaWVudCwgRGVzY3JpYmVUcmFpbHNDb21tYW5kIH0gZnJvbSAnQGF3cy1zZGsvY2xpZW50LWNsb3VkdHJhaWwnO1xuYXN5bmMgZnVuY3Rpb24gY2hlY2tDbG91ZFRyYWlsRXhpc3RzKHJlZ2lvbnMpIHtcbiAgICBsZXQgY2xvdWRUcmFpbFZhbGlkYXRpb24gPSBbXTtcbiAgICBmb3IgKGNvbnN0IHJlZ2lvbiBvZiByZWdpb25zKSB7XG4gICAgICAgIGNvbnN0IGNsb3VkVHJhaWxDbGllbnQgPSBuZXcgQ2xvdWRUcmFpbENsaWVudCh7IHJlZ2lvbiB9KTtcbiAgICAgICAgY29uc3QgY2xvdWRUcmFpbERlc2NyaWJlQ29tbWFuZCA9IG5ldyBEZXNjcmliZVRyYWlsc0NvbW1hbmQoe30pO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgY2xvdWRUcmFpbFJlc3BvbnNlID0gYXdhaXQgY2xvdWRUcmFpbENsaWVudC5zZW5kKGNsb3VkVHJhaWxEZXNjcmliZUNvbW1hbmQpO1xuICAgICAgICAgICAgaWYgKGNsb3VkVHJhaWxSZXNwb25zZS50cmFpbExpc3QpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRyYWlsIG9mIGNsb3VkVHJhaWxSZXNwb25zZS50cmFpbExpc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRyYWlsSW5mbyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICBpZiAodHJhaWwuSG9tZVJlZ2lvbiA9PSByZWdpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coYHRyYWlsIGZvdW5kIGluICR7cmVnaW9ufWApXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFpbEluZm8gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVnaW9uOiByZWdpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhaWxGb3VuZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc09yZ1RyYWlsOiB0cmFpbC5Jc011bHRpUmVnaW9uVHJhaWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNNdWx0aVJlZ2lvbjogdHJhaWwuSXNNdWx0aVJlZ2lvblRyYWlsXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhaWxJbmZvID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lvbjogcmVnaW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYWlsRm91bmQ6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNsb3VkVHJhaWxWYWxpZGF0aW9uLnB1c2godHJhaWxJbmZvKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgRXJyb3IgY2hlY2tpbmcgaW5zdGFuY2U6ICR7ZXJyb3J9YCk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICBjbG91ZFRyYWlsQ2xpZW50LmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgIH0gLy8gZW5kIGZvciByZWdpb25zXG4gICAgcmV0dXJuIGNsb3VkVHJhaWxWYWxpZGF0aW9uO1xufVxuO1xuZXhwb3J0IGRlZmF1bHQgY2hlY2tDbG91ZFRyYWlsRXhpc3RzO1xuIiwiaW1wb3J0IHsgQ29uZmlnU2VydmljZUNsaWVudCwgRGVzY3JpYmVDb25maWd1cmF0aW9uUmVjb3JkZXJTdGF0dXNDb21tYW5kLCBEZXNjcmliZURlbGl2ZXJ5Q2hhbm5lbHNDb21tYW5kIH0gZnJvbSAnQGF3cy1zZGsvY2xpZW50LWNvbmZpZy1zZXJ2aWNlJztcbmFzeW5jIGZ1bmN0aW9uIGNoZWNrQ29uZmlnRXhpc3RzKHJlZ2lvbnMpIHtcbiAgICBsZXQgY29uZmlnRGV0YWlscyA9IFtdO1xuICAgIGZvciAoY29uc3QgcmVnaW9uIG9mIHJlZ2lvbnMpIHtcbiAgICAgICAgY29uc3QgY29uZmlnU2VydmljZUNsaWVudCA9IG5ldyBDb25maWdTZXJ2aWNlQ2xpZW50KHsgcmVnaW9uIH0pO1xuICAgICAgICBsZXQgY29uZmlnRGV0YWlsID0ge1xuICAgICAgICAgICAgcmVnaW9uOiByZWdpb24sXG4gICAgICAgICAgICBjb25maWdSZWNvcmRlckZvdW5kOiBmYWxzZSxcbiAgICAgICAgICAgIGNvbmZpZ0RlbGl2ZXJ5Q2hhbm5lbEZvdW5kOiBmYWxzZVxuICAgICAgICB9O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgQ29uZmlnIHJlY29yZGVyIGV4aXN0c1xuICAgICAgICAgICAgY29uc3QgcmVjb3JkZXJSZXNwb25zZSA9IGF3YWl0IGNvbmZpZ1NlcnZpY2VDbGllbnQuc2VuZChuZXcgRGVzY3JpYmVDb25maWd1cmF0aW9uUmVjb3JkZXJTdGF0dXNDb21tYW5kKHt9KSk7XG4gICAgICAgICAgICBjb25zdCByZWNvcmRlckV4aXN0cyA9IHJlY29yZGVyUmVzcG9uc2UuQ29uZmlndXJhdGlvblJlY29yZGVyc1N0YXR1cz8ubGVuZ3RoICE9PSAwO1xuICAgICAgICAgICAgaWYgKHJlY29yZGVyRXhpc3RzKSB7XG4gICAgICAgICAgICAgICAgY29uZmlnRGV0YWlsLmNvbmZpZ1JlY29yZGVyRm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgQ29uZmlnIGRlbGl2ZXJ5IGNoYW5uZWwgZXhpc3RzXG4gICAgICAgICAgICBjb25zdCBjaGFubmVsUmVzcG9uc2UgPSBhd2FpdCBjb25maWdTZXJ2aWNlQ2xpZW50LnNlbmQobmV3IERlc2NyaWJlRGVsaXZlcnlDaGFubmVsc0NvbW1hbmQoe30pKTtcbiAgICAgICAgICAgIGNvbnN0IGNoYW5uZWxFeGlzdHMgPSBjaGFubmVsUmVzcG9uc2UuRGVsaXZlcnlDaGFubmVscz8ubGVuZ3RoICE9PSAwO1xuICAgICAgICAgICAgaWYgKGNoYW5uZWxFeGlzdHMpIHtcbiAgICAgICAgICAgICAgICBjb25maWdEZXRhaWwuY29uZmlnRGVsaXZlcnlDaGFubmVsRm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uZmlnRGV0YWlscy5wdXNoKGNvbmZpZ0RldGFpbCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBjaGVja2luZyBBV1MgQ29uZmlnIGluICR7cmVnaW9ufTpgLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICBjb25maWdTZXJ2aWNlQ2xpZW50LmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY29uZmlnRGV0YWlscztcbn1cbmV4cG9ydCBkZWZhdWx0IGNoZWNrQ29uZmlnRXhpc3RzO1xuIiwiaW1wb3J0IHsgT3JnYW5pemF0aW9uc0NsaWVudCwgRGVzY3JpYmVPcmdhbml6YXRpb25Db21tYW5kLCBMaXN0Um9vdHNDb21tYW5kIH0gZnJvbSBcIkBhd3Mtc2RrL2NsaWVudC1vcmdhbml6YXRpb25zXCI7XG5hc3luYyBmdW5jdGlvbiBnZXRPcmdEZXRhaWxzKHJlZ2lvbikge1xuICAgIGNvbnN0IG9yZ0NsaWVudCA9IG5ldyBPcmdhbml6YXRpb25zQ2xpZW50KHsgcmVnaW9uIH0pO1xuICAgIGxldCBvcmdEZXRhaWxzID0ge307XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgb3JnRGVzY3JpYmVDb21tYW5kID0gbmV3IERlc2NyaWJlT3JnYW5pemF0aW9uQ29tbWFuZCh7fSk7XG4gICAgICAgIGNvbnN0IG9yZ0RhdGEgPSBhd2FpdCBvcmdDbGllbnQuc2VuZChvcmdEZXNjcmliZUNvbW1hbmQpO1xuICAgICAgICBpZiAob3JnRGF0YS5Pcmdhbml6YXRpb24pIHtcbiAgICAgICAgICAgIG9yZ0RldGFpbHMuaWQgPSBvcmdEYXRhLk9yZ2FuaXphdGlvbi5JZCA/PyBcIlwiO1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYE9yZ2FuaXphdGlvbiBJRDogJHtvcmdEZXRhaWxzLmlkfWAgKTtcbiAgICAgICAgICAgIG9yZ0RldGFpbHMuYXJuID0gb3JnRGF0YS5Pcmdhbml6YXRpb24uQXJuID8/IFwiXCI7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgT3JnYW5pemF0aW9uIEFSTjogJHtvcmdEZXRhaWxzLmFybn1gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb21tYW5kID0gbmV3IExpc3RSb290c0NvbW1hbmQoe30pO1xuICAgICAgICBjb25zdCByb290cyA9IGF3YWl0IG9yZ0NsaWVudC5zZW5kKGNvbW1hbmQpO1xuICAgICAgICBpZiAocm9vdHMuUm9vdHMpIHtcbiAgICAgICAgICAgIG9yZ0RldGFpbHMucm9vdE91SWQgPSByb290cy5Sb290c1swXS5JZDtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGBBV1MgT3JnIHJvb3Qgb3UgaWQ6ICR7b3JnRGV0YWlscy5yb290T3VJZH1gKVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ05vIGluZm8gZm91bmQgZm9yIHlvdXIgQVdTIE9yZ2FuaXphdGlvbi4nKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgQW4gZXJyb3Igb2NjdXJyZWQ6ICR7ZXJyb3J9YCk7XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICBvcmdDbGllbnQuZGVzdHJveSgpO1xuICAgICAgICByZXR1cm4gb3JnRGV0YWlscztcbiAgICB9XG59XG5leHBvcnQgZGVmYXVsdCBnZXRPcmdEZXRhaWxzO1xuIiwiaW1wb3J0IHsgQ29zdEFuZFVzYWdlUmVwb3J0U2VydmljZUNsaWVudCwgRGVzY3JpYmVSZXBvcnREZWZpbml0aW9uc0NvbW1hbmQgfSBmcm9tIFwiQGF3cy1zZGsvY2xpZW50LWNvc3QtYW5kLXVzYWdlLXJlcG9ydC1zZXJ2aWNlXCI7XG5jb25zdCBjaGVja0xlZ2FjeUN1ciA9IGFzeW5jIChyZWdpb24pID0+IHtcbiAgICAvLyBTZXQgdXAgQVdTIFNESyBjbGllbnQgZm9yIENvc3QgRXhwbG9yZXJcbiAgICBjb25zdCBjdXJDbGllbnQgPSBuZXcgQ29zdEFuZFVzYWdlUmVwb3J0U2VydmljZUNsaWVudCh7IHJlZ2lvbiB9KTtcbiAgICBsZXQgaXNMZWdhY3lDdXJTZXR1cCA9IGZhbHNlO1xuICAgIHRyeSB7XG4gICAgICAgIC8vIENoZWNrIGlmIENvc3QgRXhwbG9yZXIgaXMgc2V0IHVwXG4gICAgICAgIGNvbnN0IGlucHV0ID0ge307XG4gICAgICAgIGNvbnN0IGNvbW1hbmQgPSBuZXcgRGVzY3JpYmVSZXBvcnREZWZpbml0aW9uc0NvbW1hbmQoaW5wdXQpO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGN1ckNsaWVudC5zZW5kKGNvbW1hbmQpO1xuICAgICAgICBpZiAocmVzcG9uc2UuUmVwb3J0RGVmaW5pdGlvbnMgJiYgcmVzcG9uc2UuUmVwb3J0RGVmaW5pdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgaXNMZWdhY3lDdXJTZXR1cCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgaXNMZWdhY3lDdXJTZXR1cCB9O1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGVycm9yIGlzIHJlbGF0ZWQgdG8gQ29zdCBFeHBsb3JlciBzZXR1cFxuICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvcjogJHtlcnJvcn1gKTtcbiAgICAgICAgaXNMZWdhY3lDdXJTZXR1cCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4geyBpc0xlZ2FjeUN1clNldHVwIH07XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICAvLyBDbG9zZSB0aGUgQVdTIFNESyBjbGllbnRcbiAgICAgICAgY3VyQ2xpZW50LmRlc3Ryb3koKTtcbiAgICB9XG59O1xuZXhwb3J0IGRlZmF1bHQgY2hlY2tMZWdhY3lDdXI7XG4iLCJpbXBvcnQgeyBPcmdhbml6YXRpb25zQ2xpZW50LCBMaXN0Um9vdHNDb21tYW5kIH0gZnJvbSBcIkBhd3Mtc2RrL2NsaWVudC1vcmdhbml6YXRpb25zXCI7XG5hc3luYyBmdW5jdGlvbiBnZXRFbmFibGVkT3JnUG9saWN5VHlwZXMocmVnaW9uKSB7XG4gICAgY29uc3Qgb3JnQ2xpZW50ID0gbmV3IE9yZ2FuaXphdGlvbnNDbGllbnQoeyByZWdpb24gfSk7XG4gICAgbGV0IHBvbGljeVR5cGVzRW5hYmxlZCA9IHtcbiAgICAgICAgc2NwRW5hYmxlZDogZmFsc2UsXG4gICAgICAgIHRhZ1BvbGljeUVuYWJsZWQ6IGZhbHNlLFxuICAgICAgICBiYWNrdXBQb2xpY3lFbmFibGVkOiBmYWxzZVxuICAgIH07XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgaW5wdXQgPSB7fTtcbiAgICAgICAgY29uc3QgY29tbWFuZCA9IG5ldyBMaXN0Um9vdHNDb21tYW5kKGlucHV0KTtcbiAgICAgICAgY29uc3Qgcm9vdHMgPSBhd2FpdCBvcmdDbGllbnQuc2VuZChjb21tYW5kKTtcbiAgICAgICAgaWYgKHJvb3RzLlJvb3RzKSB7XG4gICAgICAgICAgICBpZiAocm9vdHMuUm9vdHNbMF0uUG9saWN5VHlwZXMpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGVuYWJsZWRQb2xpY3kgb2Ygcm9vdHMuUm9vdHNbMF0uUG9saWN5VHlwZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVuYWJsZWRQb2xpY3kuVHlwZSA9PSAnU0VSVklDRV9DT05UUk9MX1BPTElDWScgJiYgZW5hYmxlZFBvbGljeS5TdGF0dXMgPT0gJ0VOQUJMRUQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb2xpY3lUeXBlc0VuYWJsZWQuc2NwRW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGVuYWJsZWRQb2xpY3kuVHlwZSA9PSAnVEFHX1BPTElDWScgJiYgZW5hYmxlZFBvbGljeS5TdGF0dXMgPT0gJ0VOQUJMRUQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb2xpY3lUeXBlc0VuYWJsZWQudGFnUG9saWN5RW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGVuYWJsZWRQb2xpY3kuVHlwZSA9PSAnQkFDS1VQX1BPTElDWScgJiYgZW5hYmxlZFBvbGljeS5TdGF0dXMgPT0gJ0VOQUJMRUQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb2xpY3lUeXBlc0VuYWJsZWQuYmFja3VwUG9saWN5RW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IC8vIGVuZCBmb3JcbiAgICAgICAgICAgIH0gLy8gZW5kIGlmXG4gICAgICAgIH0gLy8gZW5kIGlmXG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBBbiBlcnJvciBvY2N1cnJlZDogJHtlcnJvcn1gKTtcbiAgICB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIG9yZ0NsaWVudC5kZXN0cm95KCk7XG4gICAgICAgIHJldHVybiBwb2xpY3lUeXBlc0VuYWJsZWQ7XG4gICAgfVxufVxuZXhwb3J0IGRlZmF1bHQgZ2V0RW5hYmxlZE9yZ1BvbGljeVR5cGVzO1xuIiwiaW1wb3J0IHsgT3JnYW5pemF0aW9uc0NsaWVudCwgTGlzdEFXU1NlcnZpY2VBY2Nlc3NGb3JPcmdhbml6YXRpb25Db21tYW5kIH0gZnJvbSBcIkBhd3Mtc2RrL2NsaWVudC1vcmdhbml6YXRpb25zXCI7XG5hc3luYyBmdW5jdGlvbiBnZXRFbmFibGVkT3JnU2VydmljZXMocmVnaW9uKSB7XG4gICAgY29uc3QgZGlzY292ZXJlZE9yZ1NlcnZpY2VzID0gW107XG4gICAgY29uc3Qgb3JnQ2xpZW50ID0gbmV3IE9yZ2FuaXphdGlvbnNDbGllbnQoeyByZWdpb24gfSk7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgb3JnU2VydmljZUFjY2Vzc0NvbW1hbmQgPSBuZXcgTGlzdEFXU1NlcnZpY2VBY2Nlc3NGb3JPcmdhbml6YXRpb25Db21tYW5kKHt9KTtcbiAgICAgICAgY29uc3Qgb3JnU2VydmljZUFjY2Vzc1Jlc3BvbnNlID0gYXdhaXQgb3JnQ2xpZW50LnNlbmQob3JnU2VydmljZUFjY2Vzc0NvbW1hbmQpO1xuICAgICAgICBpZiAob3JnU2VydmljZUFjY2Vzc1Jlc3BvbnNlLkVuYWJsZWRTZXJ2aWNlUHJpbmNpcGFscyAmJiBvcmdTZXJ2aWNlQWNjZXNzUmVzcG9uc2UuRW5hYmxlZFNlcnZpY2VQcmluY2lwYWxzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIG9yZ1NlcnZpY2VBY2Nlc3NSZXNwb25zZS5FbmFibGVkU2VydmljZVByaW5jaXBhbHM7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG9yZ1NlcnZpY2Ugb2Ygb3JnU2VydmljZUFjY2Vzc1Jlc3BvbnNlLkVuYWJsZWRTZXJ2aWNlUHJpbmNpcGFscykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZvdW5kT3JnU2VydmljZSA9IHsgc2VydmljZTogb3JnU2VydmljZS5TZXJ2aWNlUHJpbmNpcGFsID8/IFwiXCIgfTtcbiAgICAgICAgICAgICAgICBkaXNjb3ZlcmVkT3JnU2VydmljZXMucHVzaChmb3VuZE9yZ1NlcnZpY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjaGVja2luZyBzZXJ2aWNlIGFjY2VzczonLCBlcnJvcik7XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICBvcmdDbGllbnQuZGVzdHJveSgpO1xuICAgICAgICByZXR1cm4gZGlzY292ZXJlZE9yZ1NlcnZpY2VzO1xuICAgIH1cbn1cbjtcbmV4cG9ydCBkZWZhdWx0IGdldEVuYWJsZWRPcmdTZXJ2aWNlcztcbiIsImltcG9ydCB7IENsb3VkRm9ybWF0aW9uQ2xpZW50LCBEZXNjcmliZU9yZ2FuaXphdGlvbnNBY2Nlc3NDb21tYW5kLCB9IGZyb20gXCJAYXdzLXNkay9jbGllbnQtY2xvdWRmb3JtYXRpb25cIjtcbmFzeW5jIGZ1bmN0aW9uIGdldE9yZ0Nsb3VkRm9ybWF0aW9uKHJlZ2lvbikge1xuICAgIGxldCBvcmdDZm5TdGF0dXMgPSB7XG4gICAgICAgIHN0YXR1czogXCJkaXNhYmxlZFwiXG4gICAgfTtcbiAgICBjb25zdCBjbG91ZEZvcm1hdGlvbkNsaWVudCA9IG5ldyBDbG91ZEZvcm1hdGlvbkNsaWVudCh7IHJlZ2lvbiB9KTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBkZXNjcmliZU9yZ0FjY2Vzc0lucHV0ID0ge307XG4gICAgICAgIGNvbnN0IGNvbW1hbmQgPSBuZXcgRGVzY3JpYmVPcmdhbml6YXRpb25zQWNjZXNzQ29tbWFuZChkZXNjcmliZU9yZ0FjY2Vzc0lucHV0KTtcbiAgICAgICAgY29uc3QgY2xvdWRGb3JtYXRpb25PcmdBY2Nlc3MgPSBhd2FpdCBjbG91ZEZvcm1hdGlvbkNsaWVudC5zZW5kKGNvbW1hbmQpO1xuICAgICAgICAvL2NvbnNvbGUubG9nKFwiQ2xvdWRGb3JtYXRpb24gYWN0aXZhdGlvbiBzdGF0dXM6IFwiLCBjbG91ZEZvcm1hdGlvbk9yZ0FjY2Vzcy5TdGF0dXMpXG4gICAgICAgIG9yZ0NmblN0YXR1cy5zdGF0dXMgPSBjbG91ZEZvcm1hdGlvbk9yZ0FjY2Vzcy5TdGF0dXMgPz8gXCJkaXNhYmxlZFwiO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5sb2coYEVycm9yOiAke2Vycm9yfWApO1xuICAgICAgICAvL3Rocm93IG5ldyBFcnJvcihgRXJyb3I6ICR7ZXJyb3J9YCk7XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICBjbG91ZEZvcm1hdGlvbkNsaWVudC5kZXN0cm95KCk7XG4gICAgICAgIHJldHVybiBvcmdDZm5TdGF0dXM7XG4gICAgfVxufVxuO1xuZXhwb3J0IGRlZmF1bHQgZ2V0T3JnQ2xvdWRGb3JtYXRpb247XG4iLCJpbXBvcnQgeyBDb250cm9sVG93ZXJDbGllbnQsIExpc3RMYW5kaW5nWm9uZXNDb21tYW5kLCBHZXRMYW5kaW5nWm9uZUNvbW1hbmQgfSBmcm9tIFwiQGF3cy1zZGsvY2xpZW50LWNvbnRyb2x0b3dlclwiO1xuYXN5bmMgZnVuY3Rpb24gZ2V0Q29udHJvbFRvd2VyKHJlZ2lvbikge1xuICAgIGxldCBjb250cm9sVG93ZXJJbmZvID0ge307XG4gICAgY29uc3QgY29udHJvbFRvd2VyQ2xpZW50ID0gbmV3IENvbnRyb2xUb3dlckNsaWVudCh7IHJlZ2lvbiB9KTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBjb21tYW5kID0gbmV3IExpc3RMYW5kaW5nWm9uZXNDb21tYW5kKHt9KTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBjb250cm9sVG93ZXJDbGllbnQuc2VuZChjb21tYW5kKTtcbiAgICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UubGFuZGluZ1pvbmVzLCBudWxsLCAyKSk7XG4gICAgICAgIGlmIChyZXNwb25zZS5sYW5kaW5nWm9uZXMgJiYgcmVzcG9uc2UubGFuZGluZ1pvbmVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGlucHV0ID0ge1xuICAgICAgICAgICAgICAgIGxhbmRpbmdab25lSWRlbnRpZmllcjogcmVzcG9uc2UubGFuZGluZ1pvbmVzWzBdLmFybixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBselJlZ2lvbiA9IHJlc3BvbnNlLmxhbmRpbmdab25lc1swXS5hcm4/LnRvU3RyaW5nKCkuc3BsaXQoJzonKVszXSA/PyBcIlwiO1xuICAgICAgICAgICAgaWYgKGx6UmVnaW9uKSB7XG4gICAgICAgICAgICAgICAgY29udHJvbFRvd2VySW5mby5jb250cm9sVG93ZXJSZWdpb24gPSBselJlZ2lvbjtcbiAgICAgICAgICAgICAgICBjb25zdCBjb250cm9sVG93ZXJDbGllbnRSZWdpb24gPSBuZXcgQ29udHJvbFRvd2VyQ2xpZW50KHsgcmVnaW9uOiBselJlZ2lvbiB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCBjb21tYW5kID0gbmV3IEdldExhbmRpbmdab25lQ29tbWFuZChpbnB1dCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbHpSZXNwb25zZSA9IGF3YWl0IGNvbnRyb2xUb3dlckNsaWVudFJlZ2lvbi5zZW5kKGNvbW1hbmQpO1xuICAgICAgICAgICAgICAgIGlmIChselJlc3BvbnNlLmxhbmRpbmdab25lKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KGx6UmVzcG9uc2UubGFuZGluZ1pvbmUsIG51bGwsIDIpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbFRvd2VySW5mby5zdGF0dXMgPSBselJlc3BvbnNlLmxhbmRpbmdab25lLnN0YXR1cztcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbFRvd2VySW5mby5sYXRlc3RBdmFpbGFibGVWZXJzaW9uID0gbHpSZXNwb25zZS5sYW5kaW5nWm9uZS5sYXRlc3RBdmFpbGFibGVWZXJzaW9uO1xuICAgICAgICAgICAgICAgICAgICBjb250cm9sVG93ZXJJbmZvLmRlcGxveWVkVmVyc2lvbiA9IGx6UmVzcG9uc2UubGFuZGluZ1pvbmUudmVyc2lvbjtcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbFRvd2VySW5mby5kcmlmdFN0YXR1cyA9IGx6UmVzcG9uc2UubGFuZGluZ1pvbmUuZHJpZnRTdGF0dXM/LnN0YXR1cztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGNoZWNraW5nIENvbnRyb2wgVG93ZXIgaW4gJHtyZWdpb259OmAsIGVycm9yKTtcbiAgICB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIGNvbnRyb2xUb3dlckNsaWVudC5kZXN0cm95KCk7XG4gICAgfVxuICAgIHJldHVybiBjb250cm9sVG93ZXJJbmZvO1xufVxuZXhwb3J0IGRlZmF1bHQgZ2V0Q29udHJvbFRvd2VyO1xuIiwiaW1wb3J0IHsgU1NPQWRtaW5DbGllbnQsIExpc3RJbnN0YW5jZXNDb21tYW5kIH0gZnJvbSBcIkBhd3Mtc2RrL2NsaWVudC1zc28tYWRtaW5cIjtcbmFzeW5jIGZ1bmN0aW9uIGdldElkY0luZm8ocmVnaW9uTGlzdCkge1xuICAgIGxldCBpZGNEZXRhaWxzID0geyBmb3VuZDogZmFsc2UgfTtcbiAgICBmb3IgKGNvbnN0IHJlZ2lvbiBvZiByZWdpb25MaXN0KSB7XG4gICAgICAgIGNvbnN0IHNzb0FkbWluQ2xpZW50ID0gbmV3IFNTT0FkbWluQ2xpZW50KHsgcmVnaW9uIH0pO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3Qgc3NvSW5wdXQgPSB7XG4gICAgICAgICAgICAgICAgTWF4UmVzdWx0czogTnVtYmVyKFwiMTAwXCIpXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgY29tbWFuZCA9IG5ldyBMaXN0SW5zdGFuY2VzQ29tbWFuZChzc29JbnB1dCk7XG4gICAgICAgICAgICBjb25zdCBzc29JbnN0YW5jZVJlc3BvbnNlID0gYXdhaXQgc3NvQWRtaW5DbGllbnQuc2VuZChjb21tYW5kKTtcbiAgICAgICAgICAgIGlmIChzc29JbnN0YW5jZVJlc3BvbnNlLkluc3RhbmNlcyAmJiBzc29JbnN0YW5jZVJlc3BvbnNlLkluc3RhbmNlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3NvSW5zdGFuY2UgPSBzc29JbnN0YW5jZVJlc3BvbnNlLkluc3RhbmNlc1swXTtcbiAgICAgICAgICAgICAgICBpZGNEZXRhaWxzLmZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZGNEZXRhaWxzLnJlZ2lvbiA9IHJlZ2lvbjtcbiAgICAgICAgICAgICAgICBpZGNEZXRhaWxzLmFybiA9IHNzb0luc3RhbmNlLkluc3RhbmNlQXJuO1xuICAgICAgICAgICAgICAgIGlkY0RldGFpbHMuaWQgPSBzc29JbnN0YW5jZS5JZGVudGl0eVN0b3JlSWQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgRXJyb3IgbG9va2luZyBmb3IgQVdTIElkZW50aXR5IENlbnRlciBkZXRhaWxzIGluIHJlZ2lvbiAke3JlZ2lvbn1gKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHNzb0FkbWluQ2xpZW50LmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaWRjRGV0YWlscztcbn1cbjtcbmV4cG9ydCBkZWZhdWx0IGdldElkY0luZm87XG4iLCJpbXBvcnQgeyBPcmdhbml6YXRpb25zQ2xpZW50LCBMaXN0RGVsZWdhdGVkQWRtaW5pc3RyYXRvcnNDb21tYW5kLCBMaXN0RGVsZWdhdGVkU2VydmljZXNGb3JBY2NvdW50Q29tbWFuZCB9IGZyb20gXCJAYXdzLXNkay9jbGllbnQtb3JnYW5pemF0aW9uc1wiO1xuYXN5bmMgZnVuY3Rpb24gZ2V0T3JnRGFBY2NvdW50cygpIHtcbiAgICBsZXQgb3JnRGFEZXRhaWxzID0gW107XG4gICAgY29uc3Qgb3JnQ2xpZW50ID0gbmV3IE9yZ2FuaXphdGlvbnNDbGllbnQoeyByZWdpb246ICd1cy1lYXN0LTEnIH0pO1xuICAgIGxldCBvcmdEYURldGFpbCA9IHt9O1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGNvbW1hbmQgPSBuZXcgTGlzdERlbGVnYXRlZEFkbWluaXN0cmF0b3JzQ29tbWFuZCh7fSk7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgb3JnQ2xpZW50LnNlbmQoY29tbWFuZCk7XG4gICAgICAgIGlmIChyZXNwb25zZS5EZWxlZ2F0ZWRBZG1pbmlzdHJhdG9ycykge1xuICAgICAgICAgICAgZm9yIChjb25zdCBkYSBvZiByZXNwb25zZS5EZWxlZ2F0ZWRBZG1pbmlzdHJhdG9ycykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0ID0geyBBY2NvdW50SWQ6IGRhLklkIH07XG4gICAgICAgICAgICAgICAgY29uc3QgY29tbWFuZCA9IG5ldyBMaXN0RGVsZWdhdGVkU2VydmljZXNGb3JBY2NvdW50Q29tbWFuZChpbnB1dCk7XG4gICAgICAgICAgICAgICAgY29uc3QgYWNjb3VudFJlc3BvbnNlID0gYXdhaXQgb3JnQ2xpZW50LnNlbmQoY29tbWFuZCk7XG4gICAgICAgICAgICAgICAgaWYgKGFjY291bnRSZXNwb25zZS5EZWxlZ2F0ZWRTZXJ2aWNlcykge1xuICAgICAgICAgICAgICAgICAgICBvcmdEYURldGFpbCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZpY2VzOiBhY2NvdW50UmVzcG9uc2UuRGVsZWdhdGVkU2VydmljZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50TmFtZTogZGEuTmFtZVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBvcmdEYURldGFpbHMucHVzaChvcmdEYURldGFpbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmxvZyhgRXJyb3IgbG9va2luZyBmb3IgZGVsZWdhdGVkIHNlcnZpY2VzLmApO1xuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgb3JnQ2xpZW50LmRlc3Ryb3koKTtcbiAgICB9XG4gICAgcmV0dXJuIG9yZ0RhRGV0YWlscztcbn1cbjtcbmV4cG9ydCBkZWZhdWx0IGdldE9yZ0RhQWNjb3VudHM7XG4iLCJpbXBvcnQgeyBPcmdhbml6YXRpb25zQ2xpZW50LCBMaXN0QWNjb3VudHNDb21tYW5kIH0gZnJvbSAnQGF3cy1zZGsvY2xpZW50LW9yZ2FuaXphdGlvbnMnO1xuYXN5bmMgZnVuY3Rpb24gZ2V0T3JnTWVtYmVyQWNjb3VudHMoKSB7XG4gICAgbGV0IG9yZ01lbWJlckFjY291bnRJbmZvID0gW107XG4gICAgY29uc3Qgb3Jnc0NsaWVudCA9IG5ldyBPcmdhbml6YXRpb25zQ2xpZW50KHsgcmVnaW9uOiAndXMtZWFzdC0xJyB9KTtcbiAgICBjb25zdCBpbnB1dCA9IHtcbiAgICAgICAgTWF4UmVzdWx0czogTnVtYmVyKFwiMjAwXCIpLFxuICAgIH07XG4gICAgdHJ5IHtcbiAgICAgICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgb3Jnc0NsaWVudC5zZW5kKG5ldyBMaXN0QWNjb3VudHNDb21tYW5kKHt9KSk7XG4gICAgICAgIGlmIChyZXNwb25zZS5BY2NvdW50cyAmJiByZXNwb25zZS5BY2NvdW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGFjY291bnQgb2YgcmVzcG9uc2UuQWNjb3VudHMpIHtcbiAgICAgICAgICAgICAgICBsZXQgb3JnTWVtYmVyQWNjb3VudCA9IHtcbiAgICAgICAgICAgICAgICAgICAgYWNjb3VudE5hbWU6IGFjY291bnQuTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgYWNjb3VudEVtYWlsOiBhY2NvdW50LkVtYWlsLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgb3JnTWVtYmVyQWNjb3VudEluZm8ucHVzaChvcmdNZW1iZXJBY2NvdW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuTmV4dFRva2VuKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gYXdhaXQgb3Jnc0NsaWVudC5zZW5kKG5ldyBMaXN0QWNjb3VudHNDb21tYW5kKHsgTmV4dFRva2VuOiByZXNwb25zZS5OZXh0VG9rZW4gfSkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuQWNjb3VudHMgJiYgcmVzcG9uc2UuQWNjb3VudHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBhY2NvdW50IG9mIHJlc3BvbnNlLkFjY291bnRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG9yZ01lbWJlckFjY291bnQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnROYW1lOiBhY2NvdW50Lk5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnRFbWFpbDogYWNjb3VudC5FbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yZ01lbWJlckFjY291bnRJbmZvLnB1c2gob3JnTWVtYmVyQWNjb3VudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IHdoaWxlIChyZXNwb25zZS5OZXh0VG9rZW4pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsaXN0aW5nIEFXUyBhY2NvdW50czonLCBlcnJvcik7XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICBvcmdzQ2xpZW50LmRlc3Ryb3koKTtcbiAgICB9XG4gICAgcmV0dXJuIG9yZ01lbWJlckFjY291bnRJbmZvO1xufVxuZXhwb3J0IGRlZmF1bHQgZ2V0T3JnTWVtYmVyQWNjb3VudHM7XG4iLCJpbXBvcnQgeyBPcmdhbml6YXRpb25zQ2xpZW50LCBMaXN0T3JnYW5pemF0aW9uYWxVbml0c0ZvclBhcmVudENvbW1hbmQsIExpc3RBY2NvdW50c0ZvclBhcmVudENvbW1hbmQgfSBmcm9tIFwiQGF3cy1zZGsvY2xpZW50LW9yZ2FuaXphdGlvbnNcIjtcbmFzeW5jIGZ1bmN0aW9uIGdldE9yZ1RvcExldmVsT3VzKHJlZ2lvbiwgcm9vdE91SWQpIHtcbiAgICBjb25zdCBvcmdDbGllbnQgPSBuZXcgT3JnYW5pemF0aW9uc0NsaWVudCh7IHJlZ2lvbiB9KTtcbiAgICBsZXQgdG9wTGV2ZWxPdXMgPSBbXTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBsaXN0T1VzQ29tbWFuZCA9IG5ldyBMaXN0T3JnYW5pemF0aW9uYWxVbml0c0ZvclBhcmVudENvbW1hbmQoe1xuICAgICAgICAgICAgUGFyZW50SWQ6IHJvb3RPdUlkLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgbGlzdE9Vc1Jlc3BvbnNlID0gYXdhaXQgb3JnQ2xpZW50LnNlbmQobGlzdE9Vc0NvbW1hbmQpO1xuICAgICAgICBpZiAobGlzdE9Vc1Jlc3BvbnNlLk9yZ2FuaXphdGlvbmFsVW5pdHMpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qgb3Ugb2YgbGlzdE9Vc1Jlc3BvbnNlLk9yZ2FuaXphdGlvbmFsVW5pdHMpIHtcbiAgICAgICAgICAgICAgICBsZXQgdG9wTGV2ZWxPdSA9IHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IG91LklkLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBvdS5OYW1lXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjb25zdCBhY2NvdW50UmVzcG9uc2UgPSBhd2FpdCBvcmdDbGllbnQuc2VuZChuZXcgTGlzdEFjY291bnRzRm9yUGFyZW50Q29tbWFuZCh7IFBhcmVudElkOiBvdS5JZCB9KSk7XG4gICAgICAgICAgICAgICAgaWYgKGFjY291bnRSZXNwb25zZS5BY2NvdW50cyAmJiBhY2NvdW50UmVzcG9uc2UuQWNjb3VudHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB0b3BMZXZlbE91LmFjY291bnRzID0gYWNjb3VudFJlc3BvbnNlLkFjY291bnRzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0b3BMZXZlbE91cy5wdXNoKHRvcExldmVsT3UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjaGVja2luZyBzZXJ2aWNlIGFjY2VzczonLCBlcnJvcik7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIG9yZ0NsaWVudC5kZXN0cm95KCk7XG4gICAgfVxuICAgIHJldHVybiB0b3BMZXZlbE91cztcbn1cbjtcbmV4cG9ydCBkZWZhdWx0IGdldE9yZ1RvcExldmVsT3VzO1xuIl0sIm5hbWVzIjpbInJlcXVpcmUiLCJhc3luYyIsImRlcGxveU91VGFzayIsInRhc2tOdW1iZXIiLCJ3YXlwb2ludCIsIk91TmFtZSIsInJlbW92ZUlhbVVzZXJUYXNrIiwiSWFtVXNlck5hbWUiLCJyZW1vdmVJYW1Vc2VyQXBpS2V5VGFzayIsIklhbVVzZXJBcGlLZXlJZCIsImRlbGV0ZVZwYyIsInJlZ2lvbiIsImRlbGV0ZUVjMiIsImVuYWJsZUF3c09yZ2FuaXphdGlvblNlcnZpY2UiLCJzZXJ2aWNlTmFtZSIsImRlbGVnYXRlQWRtaW5pc3RyYXRpb25Bd3NTZXJ2aWNlIiwiZW5hYmxlUG9saWN5VHlwZVRhc2siLCJwb2xpY3lUeXBlIiwiQ2ZhdENoZWNrcyIsInJlcG9ydEZpbGUiLCJkYXRlVGltZSIsIkRhdGUiLCJwcm9jZXNzIiwiZW52IiwiQVdTX1JFR0lPTiIsImFsbFJlZ2lvbnMiLCJlYzJDbGllbnQiLCJFQzJDbGllbnQiLCJkZXNjcmliZVJlZ2lvbnNDb21tYW5kIiwiRGVzY3JpYmVSZWdpb25zQ29tbWFuZCIsInJlc3BvbnNlIiwic2VuZCIsInJlZ2lvbnMiLCJSZWdpb25zIiwicHVzaCIsIlJlZ2lvbk5hbWUiLCJlcnJvciIsImNvbnNvbGUiLCJkZXN0cm95IiwibG9nIiwiYWNjb3VudFR5cGUiLCJvcmdhbml6YXRpb25zQ2xpZW50IiwiT3JnYW5pemF0aW9uc0NsaWVudCIsImlzSW5Pcmdhbml6YXRpb24iLCJpc01hbmFnZW1lbnRBY2NvdW50IiwiY3VycmVudEFjY291bnRJZCIsInN0c0NsaWVudCIsIlNUU0NsaWVudCIsImdldENhbGxlcklkZW50aXR5Q29tbWFuZCIsIkdldENhbGxlcklkZW50aXR5Q29tbWFuZCIsIkFjY291bnQiLCJnZXRBY2NvdW50SWQiLCJkZXNjcmliZU9yZ2FuaXphdGlvbkNvbW1hbmQiLCJEZXNjcmliZU9yZ2FuaXphdGlvbkNvbW1hbmQiLCJkZXNjcmliZU9yZ2FuaXphdGlvblJlc3BvbnNlIiwiT3JnYW5pemF0aW9uIiwiTWFzdGVyQWNjb3VudElkIiwibWFuYWdlbWVudEFjY291bnRJZCIsImRlZmluZUFjY291bnRUeXBlIiwidHJhbnNpdGlvbmFsRm91bmQiLCJzdXNwZW5kZWRGb3VuZCIsImluZnJhc3RydWN0dXJlRm91bmQiLCJ3b3JrbG9hZHNGb3VuZCIsInNlY3VyaXR5Rm91bmQiLCJjZmF0SWFtVXNlclBhc3MiLCJjZmF0SWFtSWRQT3JnU2VydmljZVBhc3MiLCJjZmF0SWFtSWRjQ29uZmlndXJlZFBhc3MiLCJjZmF0Q2xvdWRUcmFpbFBhc3MiLCJjZmF0Q2xvdWRUcmFpbE9yZ1RyYWlsUGFzcyIsImNmYXRWcGNQYXNzIiwiY2ZhdEVjMlBhc3MiLCJjZmF0Q29uZmlnTWFuYWdlbWVudEFjY291bnRQYXNzIiwiY2ZhdENvbmZpZ1JlY29yZGVyTWFuYWdlbWVudEFjY291bnRQYXNzIiwiY2ZhdENsb3VkVHJhaWxPcmdTZXJ2aWNlRW5hYmxlZFBhc3MiLCJjZmF0VGFnUG9saWNpZXNFbmFibGVkUGFzcyIsImNmYXRTY3BFbmFibGVkUGFzcyIsImNmYXRCYWNrdXBQb2xpY2llc0VuYWJsZWRQYXNzIiwiY2ZhdE9yZ0Nsb3VkRm9ybWF0aW9uRW5hYmxlZFBhc3MiLCJjZmF0T3JnQ2xvdWRGb3JtYXRpb25TdGF0dXNQYXNzIiwiY2ZhdE9yZ1NlcnZpY2VHdWFyZER1dHlFbmFibGVkUGFzcyIsImNmYXRPcmdTZXJ2aWNlU2VjdXJpdHlIdWJFbmFibGVkUGFzcyIsImNmYXRPcmdTZXJ2aWNlSWFtQWNjZXNzQW5hbHl6ZXJFbmFibGVkUGFzcyIsImNmYXRPcmdTZXJ2aWNlUmFtRW5hYmxlZFBhc3MiLCJjZmF0Q29udHJvbFRvd2VyRGVwbG95ZWRQYXNzIiwiY2ZhdENvbnRyb2xUb3dlck5vdERyaWZ0ZWRQYXNzIiwiY2ZhdENvbnRyb2xUb3dlckxhdGVzdFZlcnNpb25QYXNzIiwiY2ZhdExvZ0FyY2hpdmVBY2NvdW50UGFzcyIsImNmYXRBdWRpdEFjY291bnRQYXNzIiwidG9VVENTdHJpbmciLCJjZmF0TWFuYWdlbWVudEFjY291bnRQYXNzIiwiZGlyIiwiZGVwdGgiLCJjb2xvcnMiLCJ1bmRlZmluZWQiLCJpYW1Vc2VyUmVzdWx0IiwiaWFtQ2xpZW50IiwiSUFNQ2xpZW50IiwiaWFtVXNlckluZm8iLCJsaXN0VXNlcnNDb21tYW5kIiwiTGlzdFVzZXJzQ29tbWFuZCIsImxpc3RVc2Vyc1Jlc3BvbnNlIiwidXNlciIsIlVzZXJzIiwidXNlck5hbWUiLCJVc2VyTmFtZSIsImxpc3RBY2Nlc3NLZXlzQ29tbWFuZCIsIkxpc3RBY2Nlc3NLZXlzQ29tbWFuZCIsImFjY2Vzc0tleXMiLCJBY2Nlc3NLZXlNZXRhZGF0YSIsImxlbmd0aCIsImFjY2Vzc0tleSIsImFjY2Vzc0tleUlkIiwiQWNjZXNzS2V5SWQiLCJnZXRMYXN0VXNlZENvbW1hbmQiLCJHZXRBY2Nlc3NLZXlMYXN0VXNlZENvbW1hbmQiLCJsYXN0VXNlZFJlc3BvbnNlIiwiZm91bmRVc2VySW5mbyIsImxhc3RVc2VkIiwiQWNjZXNzS2V5TGFzdFVzZWQiLCJMYXN0VXNlZERhdGUiLCJpYW1Vc2VyIiwiZWMyQ2hlY2siLCJlYzJWYWxpZGF0aW9uIiwiY29tbWFuZCIsIkRlc2NyaWJlSW5zdGFuY2VzQ29tbWFuZCIsIlJlc2VydmF0aW9ucyIsImVjMkZvdW5kIiwiZmluZCIsInBhcmFtIiwiZWMyIiwidnBjQ2hlY2siLCJ2cGNWYWxpZGF0aW9uIiwiRGVzY3JpYmVWcGNzQ29tbWFuZCIsIlZwY3MiLCJ2cGNGb3VuZCIsInZwY0ZpbmQiLCJjbG91ZFRyYWlsQ2hlY2siLCJjbG91ZFRyYWlsVmFsaWRhdGlvbiIsImNsb3VkVHJhaWxDbGllbnQiLCJDbG91ZFRyYWlsQ2xpZW50IiwiY2xvdWRUcmFpbERlc2NyaWJlQ29tbWFuZCIsIkRlc2NyaWJlVHJhaWxzQ29tbWFuZCIsImNsb3VkVHJhaWxSZXNwb25zZSIsInRyYWlsTGlzdCIsInRyYWlsIiwidHJhaWxJbmZvIiwiSG9tZVJlZ2lvbiIsInRyYWlsRm91bmQiLCJpc09yZ1RyYWlsIiwiSXNNdWx0aVJlZ2lvblRyYWlsIiwiaXNNdWx0aVJlZ2lvbiIsImNvbmZpZ0NoZWNrIiwiY29uZmlnRGV0YWlscyIsImNvbmZpZ1NlcnZpY2VDbGllbnQiLCJDb25maWdTZXJ2aWNlQ2xpZW50IiwiY29uZmlnRGV0YWlsIiwiY29uZmlnUmVjb3JkZXJGb3VuZCIsImNvbmZpZ0RlbGl2ZXJ5Q2hhbm5lbEZvdW5kIiwicmVjb3JkZXJSZXNwb25zZSIsIkRlc2NyaWJlQ29uZmlndXJhdGlvblJlY29yZGVyU3RhdHVzQ29tbWFuZCIsIkNvbmZpZ3VyYXRpb25SZWNvcmRlcnNTdGF0dXMiLCJjaGFubmVsUmVzcG9uc2UiLCJEZXNjcmliZURlbGl2ZXJ5Q2hhbm5lbHNDb21tYW5kIiwiRGVsaXZlcnlDaGFubmVscyIsImNvbmZpZ0ZpbmQiLCJvcmdEZXRhaWxzIiwib3JnQ2xpZW50Iiwib3JnRGVzY3JpYmVDb21tYW5kIiwib3JnRGF0YSIsImlkIiwiSWQiLCJhcm4iLCJBcm4iLCJMaXN0Um9vdHNDb21tYW5kIiwicm9vdHMiLCJSb290cyIsInJvb3RPdUlkIiwibGVnYWN5Q3VyQ2hlY2siLCJjdXJDbGllbnQiLCJDb3N0QW5kVXNhZ2VSZXBvcnRTZXJ2aWNlQ2xpZW50IiwiaXNMZWdhY3lDdXJTZXR1cCIsImlucHV0IiwiRGVzY3JpYmVSZXBvcnREZWZpbml0aW9uc0NvbW1hbmQiLCJSZXBvcnREZWZpbml0aW9ucyIsImVuYWJsZU9yZ1BvbGljaWVzQ2hlY2siLCJwb2xpY3lUeXBlc0VuYWJsZWQiLCJzY3BFbmFibGVkIiwidGFnUG9saWN5RW5hYmxlZCIsImJhY2t1cFBvbGljeUVuYWJsZWQiLCJQb2xpY3lUeXBlcyIsImVuYWJsZWRQb2xpY3kiLCJUeXBlIiwiU3RhdHVzIiwib3JnRW5hYmxlZFNlcnZpY2VzIiwiZGlzY292ZXJlZE9yZ1NlcnZpY2VzIiwib3JnU2VydmljZUFjY2Vzc0NvbW1hbmQiLCJMaXN0QVdTU2VydmljZUFjY2Vzc0Zvck9yZ2FuaXphdGlvbkNvbW1hbmQiLCJvcmdTZXJ2aWNlQWNjZXNzUmVzcG9uc2UiLCJFbmFibGVkU2VydmljZVByaW5jaXBhbHMiLCJvcmdTZXJ2aWNlIiwiZm91bmRPcmdTZXJ2aWNlIiwic2VydmljZSIsIlNlcnZpY2VQcmluY2lwYWwiLCJjZm5PcmdTdGF0dXMiLCJvcmdDZm5TdGF0dXMiLCJzdGF0dXMiLCJjbG91ZEZvcm1hdGlvbkNsaWVudCIsIkNsb3VkRm9ybWF0aW9uQ2xpZW50IiwiZGVzY3JpYmVPcmdBY2Nlc3NJbnB1dCIsIkRlc2NyaWJlT3JnYW5pemF0aW9uc0FjY2Vzc0NvbW1hbmQiLCJjbG91ZEZvcm1hdGlvbk9yZ0FjY2VzcyIsImNvbnRyb2xUb3dlckRldGFpbHMiLCJjb250cm9sVG93ZXJJbmZvIiwiY29udHJvbFRvd2VyQ2xpZW50IiwiQ29udHJvbFRvd2VyQ2xpZW50IiwiTGlzdExhbmRpbmdab25lc0NvbW1hbmQiLCJKU09OIiwic3RyaW5naWZ5IiwibGFuZGluZ1pvbmVzIiwibGFuZGluZ1pvbmVJZGVudGlmaWVyIiwibHpSZWdpb24iLCJ0b1N0cmluZyIsInNwbGl0IiwiY29udHJvbFRvd2VyUmVnaW9uIiwiY29udHJvbFRvd2VyQ2xpZW50UmVnaW9uIiwiR2V0TGFuZGluZ1pvbmVDb21tYW5kIiwibHpSZXNwb25zZSIsImxhbmRpbmdab25lIiwibGF0ZXN0QXZhaWxhYmxlVmVyc2lvbiIsImRlcGxveWVkVmVyc2lvbiIsInZlcnNpb24iLCJkcmlmdFN0YXR1cyIsImlkY0luZm9ybWF0aW9uIiwicmVnaW9uTGlzdCIsImlkY0RldGFpbHMiLCJmb3VuZCIsInNzb0FkbWluQ2xpZW50IiwiU1NPQWRtaW5DbGllbnQiLCJzc29JbnB1dCIsIk1heFJlc3VsdHMiLCJOdW1iZXIiLCJMaXN0SW5zdGFuY2VzQ29tbWFuZCIsInNzb0luc3RhbmNlUmVzcG9uc2UiLCJJbnN0YW5jZXMiLCJzc29JbnN0YW5jZSIsIkluc3RhbmNlQXJuIiwiSWRlbnRpdHlTdG9yZUlkIiwib3JnRGVsQWRtaW5EZXRhaWxzIiwib3JnRGFEZXRhaWxzIiwib3JnRGFEZXRhaWwiLCJMaXN0RGVsZWdhdGVkQWRtaW5pc3RyYXRvcnNDb21tYW5kIiwiRGVsZWdhdGVkQWRtaW5pc3RyYXRvcnMiLCJkYSIsIkFjY291bnRJZCIsIkxpc3REZWxlZ2F0ZWRTZXJ2aWNlc0ZvckFjY291bnRDb21tYW5kIiwiYWNjb3VudFJlc3BvbnNlIiwiRGVsZWdhdGVkU2VydmljZXMiLCJzZXJ2aWNlcyIsImFjY291bnROYW1lIiwiTmFtZSIsIm9yZ01lbWJlckFjY291bnREZXRhaWxzIiwib3JnTWVtYmVyQWNjb3VudEluZm8iLCJvcmdzQ2xpZW50IiwiTGlzdEFjY291bnRzQ29tbWFuZCIsIkFjY291bnRzIiwiYWNjb3VudCIsIm9yZ01lbWJlckFjY291bnQiLCJhY2NvdW50RW1haWwiLCJFbWFpbCIsIk5leHRUb2tlbiIsIm1ndFRhc2tOdW1iZXIiLCJtYW5hZ2VtZW50QWNjb3VudFdheXBvaW50IiwibWVzc2FnZSIsImN0RmluZCIsImNmYXRDb25maWdPcmdTZXJ2aWNlRW5hYmxlZFBhc3MiLCJnb3ZXYXlwb2ludCIsImdvdlRhc2tOdW1iZXIiLCJmaW5UYXNrTnVtYmVyIiwiZmluV2F5cG9pbnQiLCJvcmdPdXMiLCJ0b3BMZXZlbE91cyIsImxpc3RPVXNDb21tYW5kIiwiTGlzdE9yZ2FuaXphdGlvbmFsVW5pdHNGb3JQYXJlbnRDb21tYW5kIiwiUGFyZW50SWQiLCJsaXN0T1VzUmVzcG9uc2UiLCJPcmdhbml6YXRpb25hbFVuaXRzIiwib3UiLCJ0b3BMZXZlbE91IiwibmFtZSIsIkxpc3RBY2NvdW50c0ZvclBhcmVudENvbW1hbmQiLCJhY2NvdW50cyIsInRvTG93ZXJDYXNlIiwibWVtYmVyQWNjb3VudCIsImlkZW50aXR5RGVsZWdhdGVkIiwic2VjdXJpdHlIdWJEZWxlZ2F0ZWQiLCJndWFyZER1dHlEZWxlZ2F0ZWQiLCJjb25maWdEZWxlZ2F0ZWQiLCJpYW1BY2Nlc3NBbmFseXplckRlbGVnYXRlZCIsInMzU3RvcmFnZUxlbnNEZWxlZ2F0ZWQiLCJpcGFtRGVsZWdhdGVkIiwiYWNjb3VudERlbGVnYXRlZCIsImJhY2t1cERlbGVnYXRlZCIsInNydiIsIm1hc1Rhc2tOdW1iZXIiLCJtYXNXYXlwb2ludCIsImx6VGFza051bWJlciIsImx6V2F5cG9pbnQiLCJjdXJyZW50VmVyc2lvbiIsImxhdGVzdFZlcnNpb24iLCJzc29UYXNrTnVtYmVyIiwic3NvV2F5cG9pbnQiLCJzZWNUYXNrTnVtYmVyIiwic2VjV2F5cG9pbnQiLCJuZXRUYXNrTnVtYmVyIiwibmV0d29ya1dheXBvaW50IiwibmV0R3VhcmREdXR5RW5hYmxlTWVzc2FnZSIsIm9iVGFza051bWJlciIsIm9iV2F5cG9pbnQiLCJiYWNrVGFza051bWJlciIsImJhY2t1cFdheXBvaW50Iiwid2FybiIsIk9yZ0NoZWNrIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsInBhc3MiLCJyZXF1aXJlZCIsIndlaWdodCIsIk1BQ2hlY2siLCJjZmF0SWFtVXNlckNoZWNrIiwiY2ZhdEVjMkNoZWNrIiwiY2ZhdFZwY0NoZWNrIiwiY2ZhdENsb3VkVHJhaWxDaGVjayIsImNmYXRDbG91ZFRyYWlsT3JnU2VydmljZUVuYWJsZWRDaGVjayIsImNmYXRDbG91ZFRyYWlsT3JnVHJhaWxDaGVjayIsImNmYXRDb25maWdNYW5hZ2VtZW50QWNjb3VudENoZWNrIiwiY2ZhdENvbmZpZ1JlY29yZGVyTWFuYWdlbWVudEFjY291bnRDaGVjayIsImNmYXRDbG91ZEZvcm1hdGlvbkVuYWJsZUNoZWNrIiwiY2ZhdE9yZ1NlcnZpY2VHdWFyZER1dHlDaGVjayIsImNmYXRPcmdTZXJ2aWNlUmFtQ2hlY2siLCJjZmF0T3JnU2VydmljZVNlY3VyaXR5SHViQ2hlY2siLCJjZmF0T3JnU2VydmljZUlhbUFjY2Vzc0FuYWx5emVyQ2hlY2siLCJjZmF0SW5mcmFPdUNoZWNrIiwiY2ZhdFNlY3VyaXR5T3VDaGVjayIsImNmYXRXb3JrbG9hZE91Q2hlY2siLCJjZmF0SWFtSWRDT3JnU2VydmljZUNoZWNrIiwiY2ZhdElhbUlkY0NvbmZpZ3VyZWRDaGVjayIsImNmYXRPcmdQb2xpY3lTY3BFbmFibGVkIiwiY2ZhdE9yZ1BvbGljeVRhZ1BvbGljeUNoZWNrIiwiY2ZhdEJhY2t1cFBvbGljaWVzRW5hYmxlZENoZWNrIiwiY2ZhdENvbnRyb2xUb3dlckRlcGxveWVkQ2hlY2siLCJjZmF0Q29udHJvbFRvd2VyTGF0ZXN0VmVyc2lvbkNoZWNrIiwiY2ZhdENvbnRyb2xUb3dlck5vdERyaWZ0ZWRDaGVjayIsImNmYXRMb2dBcmNoaXZlQWNjb3VudENoZWNrIiwic2NvcmUiLCJ0b3RhbFNjb3JlIiwiY2ZhdFN0YXR1cyIsImNoZWNrIiwidGFibGUiLCJtYWluIl0sInNvdXJjZVJvb3QiOiIifQ==